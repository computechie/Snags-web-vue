{"ast":null,"code":"import { createVNode as _createVNode, createTextVNode as _createTextVNode } from \"vue\";\nimport { createApp, defineAsyncComponent } from \"vue\";\nimport { createRouter, createWebHistory } from \"vue-router\";\nimport axios from \"axios\";\nimport App from \"./App.vue\"; // static pages allwas downloaded\n\nimport LoginPage from \"./components/LoginPage.vue\"; //async pages, loaded when needed! not in advance\n\nconst PagesHolder = () => import(\"./components/PagesHolder.vue\");\n\nconst ProjectsCards = () => import(\"./components/pages/ProjectsCards.vue\");\n\nconst ManageUsers = () => import(\"./components/pages/ManageUsers.vue\");\n\nimport store from \"./store/index.js\"; //includable parts of the page\n\nimport TopBar from \"./components/include/TopBar.vue\";\nimport SideBar from \"./components/include/SideBar.vue\"; /// some UI\n\nimport BaseDialog from \"./components/ui/BaseDialog.vue\";\nimport BaseSpinner from \"./components/ui/BaseSpinner.vue\";\nimport SearchHolder from \"./components/ui/SearchHolder.vue\";\nimport SidebarmenuLink from \"./components/ui/SidebarMenuLink.vue\";\nimport SidebarMenuLinkDirect from \"./components/ui/SidebarMenuLinkDirect.vue\"; // block of code sometimes loaded\n\nconst ContactInfo = defineAsyncComponent(() => import(\"./components/ui/ContactInfo.vue\"));\nconst VersionInfo = defineAsyncComponent(() => import(\"./components/ui/VersionInfo.vue\"));\nconst router = createRouter({\n  history: createWebHistory(\"\"),\n  routes: [{\n    path: \"/\",\n    component: LoginPage,\n    meta: {\n      requiresUnAuth: true\n    }\n  }, {\n    path: \"/pages\",\n    component: PagesHolder,\n    redirect: \"/pages/projectList\",\n    children: [{\n      path: \"/pages/projectList\",\n      component: ProjectsCards,\n      name: \"ProjectsCards\",\n      meta: {\n        requiresAuth: true\n      }\n    }, {\n      path: \"/pages/manageUsers\",\n      component: ManageUsers,\n      meta: {\n        requiresAuth: true\n      }\n    }]\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.meta.requiresAuth && !store.getters.isAuthenticated) {\n    next(\"/\");\n  } else {\n    store.dispatch(\"autoLogin\"); // next();\n  }\n\n  if (to.meta.requiresUnAuth && store.getters.isAuthenticated) {\n    next(\"/pages/projectList\");\n  } else {\n    store.dispatch(\"autoLogin\");\n    next();\n  }\n});\nconst app = createApp(App); //global variables\n//-- loaded from LoginPage.vue from /settings.json\n\napp.config.globalProperties._rootVersion = process.env.VUE_APP_VERSION; // get From package.json\n\n/*app.config.globalProperties._rootAppTitle = 'DFM Live 2.0';\n   app.config.globalProperties._rootLoginBackground = '/images/login-background.jpg';\n   app.config.globalProperties._rootLoginLogo = '/images/login-logo.png';\n   app.config.globalProperties._rootLoginLogoWhite = '/images/login-logo-white.png';\n   app.config.globalProperties._rootlinkToHelpFile = 'https://safetyfile.onlinedfm.com/Help/UserguideV2.0.1.84.pdf';\n   app.config.globalProperties._rootlinkToUpdateHytory = 'https://crimson-bill-d8d.notion.site/DFM-Login-Project-Management-6f769ef71753415dbd74a26b6d62c3b9';*/\n\naxios.get(\"/settings.json\").then(resp => {\n  var settings = resp.data;\n  var obj = settings[0];\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key]; //global variables read from /settings.json file!!\n\n    if (key == \"AppTitle\") {\n      app.config.globalProperties._rootAppTitle = value;\n    }\n\n    if (key == \"LoginBackground\") {\n      app.config.globalProperties._rootLoginBackground = value;\n    }\n\n    if (key == \"LoginLogo\") {\n      app.config.globalProperties._rootLoginLogo = value;\n    }\n\n    if (key == \"LoginLogoWhite\") {\n      app.config.globalProperties._rootLoginLogoWhite = value;\n    }\n\n    if (key == \"LinkToHelpFile\") {\n      app.config.globalProperties._rootlinkToHelpFile = value;\n    }\n\n    if (key == \"LinkToUpdateHistory\") {\n      app.config.globalProperties._rootLinkToUpdateHistory = value;\n    }\n  });\n  app.use(router);\n  app.use(store);\n  app.component(\"top-bar\", TopBar);\n  app.component(\"side-bar\", SideBar);\n  app.component(\"login-page\", LoginPage);\n  app.component(\"version-info\", VersionInfo);\n  app.component(\"contact-info\", ContactInfo);\n  app.component(\"search-holder\", SearchHolder);\n  app.component(\"base-spinner\", BaseSpinner);\n  app.component(\"base-dialog\", BaseDialog);\n  app.component(\"menu-link\", SidebarmenuLink);\n  app.component(\"menu-linkdirect\", SidebarMenuLinkDirect);\n  app.mount(\"#app\");\n}); // -------------------\n\n_createVNode(\"style\", null, [_createVNode(\"style\", null, [_createTextVNode(\"@import 'bootstrap'; @import 'datatables.net-bs5';\")])]);","map":{"version":3,"names":["createApp","defineAsyncComponent","createRouter","createWebHistory","axios","App","LoginPage","PagesHolder","ProjectsCards","ManageUsers","store","TopBar","SideBar","BaseDialog","BaseSpinner","SearchHolder","SidebarmenuLink","SidebarMenuLinkDirect","ContactInfo","VersionInfo","router","history","routes","path","component","meta","requiresUnAuth","redirect","children","name","requiresAuth","beforeEach","to","from","next","getters","isAuthenticated","dispatch","app","config","globalProperties","_rootVersion","process","env","VUE_APP_VERSION","get","then","resp","settings","data","obj","Object","keys","forEach","key","value","_rootAppTitle","_rootLoginBackground","_rootLoginLogo","_rootLoginLogoWhite","_rootlinkToHelpFile","_rootLinkToUpdateHistory","use","mount"],"sources":["Q:/Projects/DFM v2/src/main.js"],"sourcesContent":["import { createApp, defineAsyncComponent } from \"vue\";\nimport { createRouter, createWebHistory } from \"vue-router\";\nimport axios from \"axios\";\n\nimport App from \"./App.vue\";\n\n// static pages allwas downloaded\nimport LoginPage from \"./components/LoginPage.vue\";\n\n//async pages, loaded when needed! not in advance\nconst PagesHolder = () => import(\"./components/PagesHolder.vue\");\nconst ProjectsCards = () => import(\"./components/pages/ProjectsCards.vue\");\nconst ManageUsers = () => import(\"./components/pages/ManageUsers.vue\");\n\nimport store from \"./store/index.js\";\n\n//includable parts of the page\nimport TopBar from \"./components/include/TopBar.vue\";\nimport SideBar from \"./components/include/SideBar.vue\";\n\n/// some UI\nimport BaseDialog from \"./components/ui/BaseDialog.vue\";\nimport BaseSpinner from \"./components/ui/BaseSpinner.vue\";\nimport SearchHolder from \"./components/ui/SearchHolder.vue\";\nimport SidebarmenuLink from \"./components/ui/SidebarMenuLink.vue\";\nimport SidebarMenuLinkDirect from \"./components/ui/SidebarMenuLinkDirect.vue\";\n\n\n\n// block of code sometimes loaded\nconst ContactInfo = defineAsyncComponent(() =>\n  import(\"./components/ui/ContactInfo.vue\")\n);\nconst VersionInfo = defineAsyncComponent(() =>\n  import(\"./components/ui/VersionInfo.vue\")\n);\n\nconst router = createRouter({\n  history: createWebHistory(\"\"),\n  routes: [\n    { path: \"/\", component: LoginPage, meta: { requiresUnAuth: true } },\n    {\n      path: \"/pages\",\n      component: PagesHolder,\n      redirect: \"/pages/projectList\",\n\n      children: [\n        {\n          path: \"/pages/projectList\",\n          component: ProjectsCards,\n          name: \"ProjectsCards\",\n          meta: { requiresAuth: true },\n        },\n        {\n          path: \"/pages/manageUsers\",\n          component: ManageUsers,\n          meta: { requiresAuth: true },\n        },\n      ],\n    },\n  ],\n});\n\nrouter.beforeEach(function (to, from, next) {\n  if (to.meta.requiresAuth && !store.getters.isAuthenticated) {\n    next(\"/\");\n  } else {\n    store.dispatch(\"autoLogin\");\n    // next();\n  }\n\n  if (to.meta.requiresUnAuth && store.getters.isAuthenticated) {\n    next(\"/pages/projectList\");\n  } else {\n    store.dispatch(\"autoLogin\");\n    next();\n  }\n});\n\nconst app = createApp(App);\n\n//global variables\n//-- loaded from LoginPage.vue from /settings.json\n\napp.config.globalProperties._rootVersion = process.env.VUE_APP_VERSION; // get From package.json\n/*app.config.globalProperties._rootAppTitle = 'DFM Live 2.0';\n   app.config.globalProperties._rootLoginBackground = '/images/login-background.jpg';\n   app.config.globalProperties._rootLoginLogo = '/images/login-logo.png';\n   app.config.globalProperties._rootLoginLogoWhite = '/images/login-logo-white.png';\n   app.config.globalProperties._rootlinkToHelpFile = 'https://safetyfile.onlinedfm.com/Help/UserguideV2.0.1.84.pdf';\n   app.config.globalProperties._rootlinkToUpdateHytory = 'https://crimson-bill-d8d.notion.site/DFM-Login-Project-Management-6f769ef71753415dbd74a26b6d62c3b9';*/\n\naxios.get(\"/settings.json\").then((resp) => {\n  var settings = resp.data;\n  var obj = settings[0];\n\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n    \n    //global variables read from /settings.json file!!\n\n    if (key == \"AppTitle\") {\n      app.config.globalProperties._rootAppTitle = value;\n    }\n    if (key == \"LoginBackground\") {\n      app.config.globalProperties._rootLoginBackground = value;\n    }\n    if (key == \"LoginLogo\") {\n      app.config.globalProperties._rootLoginLogo = value;\n    }\n    if (key == \"LoginLogoWhite\") {\n      app.config.globalProperties._rootLoginLogoWhite = value;\n    }\n    if (key == \"LinkToHelpFile\") {\n      app.config.globalProperties._rootlinkToHelpFile = value;\n    }\n    if (key == \"LinkToUpdateHistory\") {\n      app.config.globalProperties._rootLinkToUpdateHistory = value;\n    }\n\n\n\n  });\n\n\n\n  app.use(router);\n  app.use(store);\n\n  app.component(\"top-bar\", TopBar);\n  app.component(\"side-bar\", SideBar);\n\n  app.component(\"login-page\", LoginPage);\n\n\n  app.component(\"version-info\", VersionInfo);\n  app.component(\"contact-info\", ContactInfo);\n  app.component(\"search-holder\", SearchHolder);\n  app.component(\"base-spinner\", BaseSpinner);\n  app.component(\"base-dialog\", BaseDialog);\n  app.component(\"menu-link\", SidebarmenuLink);\n  app.component(\"menu-linkdirect\", SidebarMenuLinkDirect);\n\n  app.mount(\"#app\");\n });\n\n// -------------------\n<style>\n<style>\n@import 'bootstrap';\n@import 'datatables.net-bs5';\n</style>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module"}