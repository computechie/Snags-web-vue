{"ast":null,"code":"// import Swiper core and required components\nimport { Navigation, Pagination, Scrollbar, A11y } from 'swiper/modules';\nimport Button from 'primevue/button';\nimport { Thumbs } from 'swiper/modules'; // Import Swiper Vue.js components\n\nimport { Swiper, SwiperSlide } from \"swiper/vue\";\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/scrollbar';\nimport Dialog from 'primevue/dialog'; //import Image from 'primevue/image';\n\nimport $ from \"jquery\"; // Import Swiper styles\n\nexport default {\n  props: ['tripImages', 'openedcargoname'],\n  components: {\n    Swiper,\n    SwiperSlide,\n    Dialog,\n    Button\n  },\n\n  setup() {\n    const onSwiper = swiper => {\n      console.log(swiper);\n    };\n\n    return {\n      onSwiper,\n      Thumbs,\n      modules: [Navigation, Pagination, Scrollbar, A11y]\n    };\n  },\n\n  data() {\n    return {\n      displayDeletePhotoConfirm: false,\n      zoomedImageId: '',\n      photoIdForDelete: '',\n      visibleImagesModal: false,\n      baseUrl: localStorage.getItem(\"_rootRestUrl\"),\n      methodName: '/api/v1/Trip/ViewTripImage',\n      parameter: '?tripFileKey=',\n      zoomedImageSource: '',\n      zoomedImageClass: 'zoomedImage',\n      rotationClass: '',\n      rotate: 0\n    };\n  },\n\n  methods: {\n    zoomActivated() {\n      var imageId = $('.zoomedImageHolder .swiper .swiper-wrapper .swiper-slide-active img').attr('id');\n      this.zoomedImageId = imageId;\n    },\n\n    zoomImages(imageKey, index) {\n      var imageId = $('.zoomedImageHolder .swiper .swiper-wrapper .swiper-slide-active img').attr('id');\n      this.zoomedImageId = imageId;\n      this.zoomedImageSource = this.baseUrl + this.methodName + this.parameter + imageKey;\n      this.rotate = 0;\n      this.zoomedImageClass = 'zoomedImage';\n      this.visibleImagesModal = true;\n      this.rotationClass = '';\n      index; // alert(index)\n\n      this.$refs.swiperTop.swiper.slideTo(index, 0);\n    },\n\n    rotateZoomedImage(imageId) {\n      var thisImage = $('#' + imageId);\n\n      if (thisImage.hasClass('rotate90')) {\n        thisImage.removeClass('rotate90');\n        thisImage.addClass('rotate180');\n      } else if (thisImage.hasClass('rotate180')) {\n        thisImage.removeClass('rotate180');\n        thisImage.addClass('rotate270');\n      } else if (thisImage.hasClass('rotate270')) {\n        thisImage.removeClass('rotate270');\n        thisImage.addClass('');\n      } else {\n        thisImage.addClass('rotate90');\n      }\n    },\n\n    sendBackIdForDelete(imageId) {\n      this.displayDeletePhotoConfirm = true;\n      this.photoIdForDelete = imageId;\n      this.$emit('delete-photo', imageId);\n    },\n\n    sendBackIdForDeleteModal(imageId) {\n      this.displayDeletePhotoConfirm = true;\n      this.photoIdForDelete = imageId;\n    },\n\n    onSlideChange() {\n      var imageId = $('.zoomedImageHolder .swiper .swiper-wrapper .swiper-slide-active img').attr('id');\n      this.zoomedImageId = imageId;\n    }\n\n  },\n\n  mounted() {// alert(this.tripImages)\n  }\n\n};","map":{"version":3,"mappings":"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","names":["Navigation","Pagination","Scrollbar","A11y","Button","Thumbs","Swiper","SwiperSlide","Dialog","$","props","components","setup","onSwiper","swiper","console","log","modules","data","displayDeletePhotoConfirm","zoomedImageId","photoIdForDelete","visibleImagesModal","baseUrl","localStorage","getItem","methodName","parameter","zoomedImageSource","zoomedImageClass","rotationClass","rotate","methods","zoomActivated","imageId","attr","zoomImages","imageKey","index","$refs","swiperTop","slideTo","rotateZoomedImage","thisImage","hasClass","removeClass","addClass","sendBackIdForDelete","$emit","sendBackIdForDeleteModal","onSlideChange","mounted"],"sourceRoot":"","sources":["Q:\\Projects\\Transport-web-\\src\\components\\ui\\SwiperCarousel.vue"],"sourcesContent":["<template>\r\n   \r\n   <swiper\r\n    :modules=\"modules\"\r\n    :thumbs=\"{ swiper: thumbsSwiper }\"\r\n      :slides-per-view=\"2\"\r\n      :space-between=\"10\"\r\n      navigation\r\n      :pagination=\"{ clickable: true }\"\r\n      @swiper=\"onSwiper\"\r\n     \r\n    >\r\n      <swiper-slide class=\"swiperSlideHolder\" v-for=\"(tripImage,index) in tripImages\" v-bind:key=\"tripImage.key\" >\r\n         <img @click=\"zoomImages(tripImage.key, index)\" :src=\"baseUrl+methodName+parameter+tripImage.key\" >\r\n         <div class=\"deleteImageButton\">\r\n            <Button @click=\"sendBackIdForDelete(tripImage.key)\" v-tooltip.top=\"{ value: 'Delete photo', showDelay: 1000, hideDelay: 300 }\" icon=\"fa-stack-1x fa-solid fa-trash-can\" label=\"\" severity=\"danger\" class=\"deleteImageButton\"></Button>\r\n         </div>\r\n      </swiper-slide>\r\n         \r\n    </swiper>\r\n\r\n   \r\n    <Dialog   :position=\"'top'\"  \r\n              v-model:visible=\"visibleImagesModal\" \r\n              modal\r\n              :style=\"{ width: '80%' } \"  \r\n              :pt=\"{mask: {style: 'backdrop-filter: blur(2px)' }  }\"  \r\n              :breakpoints=\"{ '1199px': '75vw', '575px': '90vw' }\">\r\n         \r\n\r\n         <template #header>\r\n          \r\n              <div class=\"row\" style=\"width:100%\">\r\n                <div class=\"col-md-12 text-center\">\r\n                  <h5>{{ openedcargoname }}</h5>\r\n                </div>\r\n              </div>\r\n             \r\n             \r\n          \r\n        </template>\r\n\r\n    \r\n       <!-- One image-->\r\n       <!-- <div :class=\"'zoomedImageHolder'\" >\r\n            <img :src=\"zoomedImageSource\" :class=\"'zoomedImageClass'+ rotationClass\">\r\n        </div>-->\r\n\r\n       <!-- or carousel again-->\r\n       <div :class=\"'zoomedImageHolder'\" >\r\n            <swiper\r\n          :modules=\"modules\"\r\n          :thumbs=\"{ swiper: thumbsSwiper }\"\r\n            :slides-per-view=\"1\"\r\n            :space-between=\"10\"\r\n            navigation\r\n            :pagination=\"{ clickable: true }\"\r\n            @swiper=\"onSwiper\"\r\n            @slideChangeTransitionEnd=\"onSlideChange\"\r\n            @afterInit=\"zoomActivated\"\r\n          >\r\n            <swiper-slide  class=\"swiperSlideHolder\" v-for=\"(tripImage,index) in tripImages\" v-bind:key=\"tripImage.key\" ref=\"swiperTop\">\r\n              <img  :src=\"baseUrl+methodName+parameter+tripImage.key\" :id=\"tripImage.key\" :index=\"index\">\r\n            </swiper-slide>\r\n             \r\n           \r\n\r\n          </swiper>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4 text-start\">\r\n              </div>\r\n            <div class=\"col-md-4 text-center\">\r\n              <a  v-tooltip.top=\"{ value: 'Rotate photo', showDelay: 1000, hideDelay: 300 }\" href=\"javascript:\"  @click=\"rotateZoomedImage(zoomedImageId)\" ><i class=\"pi pi-undo rotateIcon\"></i></a>\r\n            </div>\r\n            <div class=\"col-md-4 text-end\">\r\n              <Button @click=\" this.$emit('delete-photo',zoomedImageId);visibleImagesModal=false\" v-tooltip.top=\"{ value: 'Delete photo', showDelay: 1000, hideDelay: 300 }\" icon=\"pi pi-trash\" class=\"deletePhotoButton\" label=\"Delete photo\"></Button>\r\n             \r\n            </div>\r\n         </div>\r\n          \r\n  </div>  \r\n      <!-- ------------------------------ -->\r\n\r\n\r\n       <template #footer>\r\n         \r\n       \r\n       </template>\r\n\r\n        </Dialog>  \r\n\r\n \r\n\r\n\r\n\r\n\r\n  </template>\r\n  <script>\r\n  \r\n\r\n  // import Swiper core and required components\r\n  import { Navigation, Pagination, Scrollbar, A11y } from 'swiper/modules';\r\n  import Button from 'primevue/button';\r\n  import { Thumbs } from 'swiper/modules';\r\n\r\n  // Import Swiper Vue.js components\r\n  import { Swiper, SwiperSlide } from \"swiper/vue\";\r\n  \r\n  import 'swiper/css';\r\n  import 'swiper/css/navigation';\r\n  import 'swiper/css/scrollbar';\r\n  import Dialog from 'primevue/dialog';\r\n  //import Image from 'primevue/image';\r\n\r\n  import $ from \"jquery\";\r\n\r\n\r\n   // Import Swiper styles\r\n  export default {\r\n    props:['tripImages','openedcargoname'],\r\n    components: {\r\n      Swiper,\r\n      SwiperSlide,\r\n      Dialog,\r\n      Button,\r\n      \r\n    },\r\n    setup() {\r\n      const onSwiper = (swiper) => {\r\n        console.log(swiper);\r\n     \r\n      };\r\n      \r\n      return {\r\n        onSwiper,Thumbs,\r\n       \r\n        modules: [Navigation, Pagination, Scrollbar, A11y],\r\n      };\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        displayDeletePhotoConfirm:false,\r\n        zoomedImageId: '',\r\n        photoIdForDelete:'',\r\n        visibleImagesModal: false,\r\n        baseUrl : localStorage.getItem(\"_rootRestUrl\"),\r\n        methodName : '/api/v1/Trip/ViewTripImage',\r\n        parameter : '?tripFileKey=',\r\n        zoomedImageSource : '',\r\n        zoomedImageClass : 'zoomedImage',\r\n        rotationClass:'',\r\n        rotate:0,\r\n      \r\n      }\r\n    },\r\n\r\n    methods: {\r\n   \r\n      zoomActivated(){\r\n           var imageId = $('.zoomedImageHolder .swiper .swiper-wrapper .swiper-slide-active img').attr('id')\r\n           this.zoomedImageId=imageId;\r\n           \r\n      },\r\n      \r\n      zoomImages(imageKey, index){\r\n           \r\n            var imageId = $('.zoomedImageHolder .swiper .swiper-wrapper .swiper-slide-active img').attr('id')\r\n            this.zoomedImageId=imageId;\r\n\r\n\r\n            this.zoomedImageSource = this.baseUrl+this.methodName+this.parameter+imageKey;\r\n            this.rotate = 0;\r\n            this.zoomedImageClass = 'zoomedImage';\r\n            this.visibleImagesModal = true;\r\n            this.rotationClass = '';\r\n            index\r\n           // alert(index)\r\n\r\n            this.$refs.swiperTop.swiper.slideTo(index, 0);\r\n           \r\n          },\r\n\r\n          rotateZoomedImage(imageId){\r\n            \r\n\r\n              var thisImage = $('#'+imageId);\r\n\r\n              if(thisImage.hasClass('rotate90')){\r\n                thisImage.removeClass('rotate90');\r\n                thisImage.addClass('rotate180');\r\n              }\r\n\r\n              else if(thisImage.hasClass('rotate180')){\r\n                thisImage.removeClass('rotate180');\r\n                thisImage.addClass('rotate270');\r\n              }\r\n\r\n              else if(thisImage.hasClass('rotate270')){\r\n                thisImage.removeClass('rotate270');\r\n                thisImage.addClass('');\r\n              }\r\n              else {\r\n                thisImage.addClass('rotate90');\r\n              }\r\n\r\n          \r\n          \r\n          },\r\n\r\n          sendBackIdForDelete(imageId){\r\n              this.displayDeletePhotoConfirm = true;\r\n              this.photoIdForDelete=imageId\r\n              this.$emit('delete-photo',imageId)\r\n          },\r\n\r\n          sendBackIdForDeleteModal(imageId){\r\n              this.displayDeletePhotoConfirm = true;\r\n              this.photoIdForDelete=imageId;\r\n              \r\n          },\r\n\r\n         \r\n\r\n          onSlideChange() {\r\n            var imageId = $('.zoomedImageHolder .swiper .swiper-wrapper .swiper-slide-active img').attr('id')\r\n            this.zoomedImageId=imageId;\r\n           \r\n          },\r\n    },\r\n  mounted(){\r\n   // alert(this.tripImages)\r\n  \r\n  },\r\n \r\n  };\r\n  </script>\r\n\r\n  <style>\r\n.swiperSlideHolder img{width:100%}\r\n\r\n.p-dialog-mask {backdrop-filter: blur(2px)}\r\n\r\n.zoomedImage{width:100%}\r\n.rotateIcon{\r\n  -webkit-transform: scaleX(-1);\r\n  transform: scaleX(-1);\r\n}\r\n\r\n.rotate90{\r\n  -webkit-transform:rotate(90deg);\r\n  -moz-transform: rotate(90deg);\r\n  -ms-transform: rotate(90deg);\r\n  -o-transform: rotate(900deg);\r\n  transform: rotate(90deg);\r\n}\r\n.rotate180{\r\n  -webkit-transform:rotate(180deg);\r\n  -moz-transform: rotate(180deg);\r\n  -ms-transform: rotate(180deg);\r\n  -o-transform: rotate(180deg);\r\n  transform: rotate(180deg);\r\n}\r\n.rotate270{\r\n  -webkit-transform:rotate(270deg);\r\n  -moz-transform: rotate(270deg);\r\n  -ms-transform: rotate(270deg);\r\n  -o-transform: rotate(270deg);\r\n  transform: rotate(270deg);\r\n}\r\n\r\n.p-dialog{max-height:99%}\r\n/*.zoomedImageHolder{height:calc(100vh - 120px);width:100%;background-size: contain; background-repeat:no-repeat;background-position: center;}*/\r\n.zoomedImageHolder{height:calc(100vh - 210px);width:100%;}\r\n.zoomedImageHolder img {\r\n  display: block;\r\n  max-width:100%;\r\n  max-height:calc(100% - 0px);\r\n  width: auto;\r\n  height: auto;\r\n  margin:auto;\r\n}\r\n.zoomedImageHolder .swiper, .zoomedImageHolder .swiper-wrapper, .zoomedImageHolder .swiper-wrapper{\r\n  max-height:calc(100% - 30px);\r\n}\r\n.zoomedImageHolder .swiper, .zoomedImageHolder .swiper-wrapper{\r\n  height:calc(100vh - 30px);\r\n}\r\n\r\n\r\n.p-dialog .p-dialog-footer{padding-top:5px !important;padding-bottom:5px !important}\r\n.p-dialog .p-dialog-header{padding-top:5px !important;padding-bottom:5px !important}\r\n\r\n.p-dialog-content{height:calc(100vh - 100px);padding-top: 10pxL;overflow-y: hidden;}\r\n\r\n.deleteImageButton .p-button{\r\n  background:  rgb(170, 0, 0) !important;\r\n  border: rgb(170, 0, 0) !important;\r\n  position:absolute;\r\n  top:3px;\r\n  right:3px;\r\n  padding:1px !important;\r\n}\r\n.deleteImageButton .p-button:hover{\r\n  background:  rgb(120, 0, 0) !important;\r\n  border: rgb(120, 0, 0) !important;\r\n \r\n}\r\n\r\n.p-button.deletePhotoButton{\r\n  background:  rgb(170, 0, 0) !important;\r\n  border: rgb(170, 0, 0) !important;\r\n  padding:5px !important;\r\n}\r\n.p-button.deletePhotoButton:hover{\r\n  background:  rgb(120, 0, 0) !important;\r\n  border: rgb(120, 0, 0) !important;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}