{"ast":null,"code":"import moment from \"moment\";\nexport default {\n  data() {\n    return {\n      hereMoveMainProjectTitle: '#hereMoveMainProjectTitle',\n      mainTitle: '',\n      projectTitle: \"\",\n      projectNumber: \"\",\n      showMoreDetails: false,\n      showMoreLabel: \"Show more details\",\n      selectedProjectTitle: \"\",\n      selectedProjectNumber: \"\",\n      selectedProjectContractor: \"\",\n      selectedProjectValidUntil: \"\",\n      selectedProjectPublishDate: \"\",\n      selectedProjectImage: \"\",\n      selectedProjectType: \"\",\n      appType: \"\",\n      chartWidth: 600,\n      chartHeight: 600,\n      chartData: {\n        labels: [\"January\", \"February\", \"March\"],\n        datasets: [{\n          label: \"Files\",\n          backgroundColor: \"#f87979\",\n          data: [40, 20, 12]\n        }, {\n          label: \"Drawings\",\n          backgroundColor: \"#FF4444\",\n          data: [15, 12, 4]\n        }, {\n          label: \"Tech.Submittals\",\n          backgroundColor: \"#5546FF\",\n          data: [66, 44, 11]\n        }, {\n          label: \"RFI\",\n          backgroundColor: \"#563424\",\n          data: [23, 11, 4]\n        }]\n      },\n      chartData2: {\n        labels: [\"January\", \"February\", \"March\"],\n        datasets: [{\n          label: \"Files\",\n          backgroundColor: \"#f87979\",\n          data: [12, 44, 21]\n        }, {\n          label: \"Drawings\",\n          backgroundColor: \"#FF4444\",\n          data: [17, 18, 12]\n        }, {\n          label: \"Tech.Submittals\",\n          backgroundColor: \"#5546FF\",\n          data: [16, 44, 5]\n        }, {\n          label: \"RFI\",\n          backgroundColor: \"#563424\",\n          data: [23, 23, 11]\n        }]\n      },\n      doughnutData: {\n        labels: [\"Files\", \"Draawings\", \"Tech.Submittalas\", \"RFI\"],\n        datasets: [{\n          backgroundColor: [\"#f87979\", \"#FF4444\", \"#5546FF\", \"#563424\"],\n          data: [40, 20, 80, 10]\n        }]\n      }\n    };\n  },\n\n  methods: {\n    format_date(value, pattern) {\n      if (value) {\n        return moment(String(value)).format(pattern);\n      }\n    },\n\n    toggleMoreDetails() {\n      this.showMoreDetails = !this.showMoreDetails;\n\n      if (!this.showMoreDetails) {\n        this.showMoreLabel = \"Show more details\";\n      } else {\n        this.showMoreLabel = \"Close details\";\n      }\n    }\n\n  },\n\n  created() {\n    //project title... move to the topBar\n    this.projectTitle = localStorage.getItem(\"selectedProjectTitle\");\n    this.projectNumber = localStorage.getItem(\"selectedProjectNumber\");\n    this.mainTitle = \"<h3 class='text-center'>\" + this.projectTitle + \"</h3>\";\n    this.mainTitle += \"<h5 class='text-center'>\" + this.projectNumber + \"</h5>\";\n    this.appType = localStorage.getItem(\"appType\");\n    localStorage.setItem(\"selectedProjectType\", this.appType);\n    this.selectedProjectTitle = localStorage.getItem(\"selectedProjectTitle\");\n    this.selectedProjectNumber = localStorage.getItem(\"selectedProjectNumber\");\n    this.selectedProjectContractor = localStorage.getItem(\"selectedProjectContractor\");\n    this.selectedProjectValidUntil = this.format_date(localStorage.getItem(\"selectedProjectValidUntil\"), \"DD/MM/YYYY\");\n    this.selectedProjectPublishDate = this.format_date(localStorage.getItem(\"selectedProjectPublishDate\"), \"DD/MM/YYYY\");\n    this.selectedProjectImage = localStorage.getItem(\"selectedProjectImage\");\n    this.selectedProjectType = localStorage.getItem(\"selectedProjectType\");\n\n    if (this.appType == null) {\n      this.$router.replace(\"/pages/projectList\");\n    }\n  },\n\n  emits: {\n    showSearchbar: false,\n    appType: localStorage.getItem(\"selectedProjectType\")\n  },\n\n  mounted() {\n    this.$emit(\"appType\", localStorage.getItem(\"selectedProjectType\"));\n    this.$emit(\"showSearchbar\", false);\n  }\n\n};","map":{"version":3,"mappings":"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","names":["moment","data","hereMoveMainProjectTitle","mainTitle","projectTitle","projectNumber","showMoreDetails","showMoreLabel","selectedProjectTitle","selectedProjectNumber","selectedProjectContractor","selectedProjectValidUntil","selectedProjectPublishDate","selectedProjectImage","selectedProjectType","appType","chartWidth","chartHeight","chartData","labels","datasets","label","backgroundColor","chartData2","doughnutData","methods","format_date","value","pattern","String","format","toggleMoreDetails","created","localStorage","getItem","setItem","$router","replace","emits","showSearchbar","mounted","$emit"],"sourceRoot":"","sources":["Q:\\Projects\\DFM v2\\src\\components\\pages\\ProjectDashboard.vue"],"sourcesContent":["<template>\r\n\r\n  <teleport :to=\"hereMoveMainProjectTitle\" >\r\n    <div id=\"mainProjectTitle\" v-html=\"mainTitle\"></div>\r\n  </teleport>\r\n\r\n\r\n  <h2>{{ appType }} <span class=\"small\"> - Dashboard</span></h2>\r\n\r\n  <hr />\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <h5>Project details</h5>\r\n      <div class=\"row\">\r\n        <div class=\"col-md-4 col-xl-4 col-lg-4 mb-3\">\r\n          <img class=\"img-fluid\" :src=\"selectedProjectImage\" />\r\n        </div>\r\n        <div class=\"col-md-8 col-xl-8 col-lg-8 mb-3\">\r\n          <table class=\"table table-sm projectDetailstable\">\r\n            <tbody>\r\n              <tr>\r\n                <td>Project title:</td>\r\n                <td>\r\n                  <strong>{{ selectedProjectTitle }}</strong>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>Project owner:</td>\r\n                <td>\r\n                  <strong>{{ selectedProjectContractor }}</strong>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>Project number:</td>\r\n                <td>\r\n                  <strong>{{ selectedProjectNumber }}</strong>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>Created:</td>\r\n                <td>\r\n                  <strong>{{ selectedProjectPublishDate }}</strong>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>Valid until:</td>\r\n                <td>\r\n                  <strong>{{ selectedProjectValidUntil }}</strong>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n         <div class=\"text-end\">\r\n          <button class=\"btn btn-primary btn-sm\" @click=\"toggleMoreDetails\">{{ showMoreLabel }}</button>\r\n         </div>\r\n          \r\n          <Transition name=\"slide-fade\">\r\n          <div id=\"moreDetails\" v-if=\"showMoreDetails\" class=\"mt-3\" >\r\n           \r\n            <div>\r\n              \r\n              <strong style=\"color: maroon\">Gatekeepers:</strong>\r\n              <table class=\"text-start table table-condensed table-bordered projectDetailstable\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>Bobby</td>\r\n                    <td>DFM Systems</td>\r\n                    <td>bobby@dfmsystems.com</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Tom</td>\r\n                    <td>Tom</td>\r\n                    <td>tom@tom.com</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Nino Burek</td>\r\n                    <td>Computech</td>\r\n                    <td>nino@computech.ie</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>CDE Gatekeeper</td>\r\n                    <td>CDE DFM</td>\r\n                    <td>cde-gatekeeper@dfmsystems.com</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Aidan Caddle</td>\r\n                    <td>Test</td>\r\n                    <td>aidan@computech.ie</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Taidgh Dooley</td>\r\n                    <td>Kirby Group</td>\r\n                    <td>tdooley@kirbygroup.com</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Brendan Coffey</td>\r\n                    <td>Kirby Group</td>\r\n                    <td>bcoffey@kirbygroup.com</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <strong style=\"color: maroon\">Primary Contacts:</strong>\r\n              <table class=\"text-start table table-condensed table-bordered projectDetailstable\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>System Administrator</td>\r\n                    <td>Computech</td>\r\n                    <td>admin@dfmsystems.com</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            \r\n          </div>\r\n          </div>\r\n</Transition>\r\n        </div>\r\n\r\n        <div class=\"col-md-4 col-xl-4 col-lg-4 mb-3\"></div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row justify-content-around\"\r\n        style=\"max-height: 300px !important\"\r\n      >\r\n        <div class=\"col-md-6 col-lg-3 mb-3 text-center\">\r\n          <p>Documents uploaded</p>\r\n          <line-chart\r\n            :chart-data=\"chartData\"\r\n            :width=\"chartWidth\"\r\n            :height=\"chartHeight\"\r\n            chart-id=\"myCustomId\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"col-md-6 col-lg-3 mb-3 text-center\">\r\n          <p>Documents Approved</p>\r\n          <line-chart\r\n            :chart-data=\"chartData2\"\r\n            :width=\"chartWidth\"\r\n            :height=\"chartHeight\"\r\n            chart-id=\"myCustomId2\"\r\n          />\r\n        </div>\r\n        <div class=\"col-md-6 col-lg-3 mb-3 text-center\">\r\n          <p>Awaiting Gatekeeper</p>\r\n          <doughnut-chart :chart-data=\"doughnutData\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-md-6\"></div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      hereMoveMainProjectTitle : '#hereMoveMainProjectTitle',\r\n      mainTitle:'',\r\n      projectTitle : \"\",\r\n      projectNumber : \"\", \r\n      showMoreDetails: false,\r\n      showMoreLabel: \"Show more details\",\r\n      selectedProjectTitle: \"\",\r\n      selectedProjectNumber: \"\",\r\n      selectedProjectContractor: \"\",\r\n      selectedProjectValidUntil: \"\",\r\n      selectedProjectPublishDate: \"\",\r\n      selectedProjectImage: \"\",\r\n      selectedProjectType: \"\",\r\n      appType: \"\",\r\n      chartWidth: 600,\r\n      chartHeight: 600,\r\n\r\n      chartData: {\r\n        labels: [\"January\", \"February\", \"March\"],\r\n        datasets: [\r\n          {\r\n            label: \"Files\",\r\n            backgroundColor: \"#f87979\",\r\n            data: [40, 20, 12],\r\n          },\r\n          {\r\n            label: \"Drawings\",\r\n            backgroundColor: \"#FF4444\",\r\n            data: [15, 12, 4],\r\n          },\r\n\r\n          {\r\n            label: \"Tech.Submittals\",\r\n            backgroundColor: \"#5546FF\",\r\n            data: [66, 44, 11],\r\n          },\r\n\r\n          {\r\n            label: \"RFI\",\r\n            backgroundColor: \"#563424\",\r\n            data: [23, 11, 4],\r\n          },\r\n        ],\r\n      },\r\n      chartData2: {\r\n        labels: [\"January\", \"February\", \"March\"],\r\n        datasets: [\r\n          {\r\n            label: \"Files\",\r\n            backgroundColor: \"#f87979\",\r\n            data: [12, 44, 21],\r\n          },\r\n          {\r\n            label: \"Drawings\",\r\n            backgroundColor: \"#FF4444\",\r\n            data: [17, 18, 12],\r\n          },\r\n\r\n          {\r\n            label: \"Tech.Submittals\",\r\n            backgroundColor: \"#5546FF\",\r\n            data: [16, 44, 5],\r\n          },\r\n           {\r\n            label: \"RFI\",\r\n            backgroundColor: \"#563424\",\r\n            data: [23, 23,11],\r\n          },\r\n        ],\r\n      },\r\n\r\n      doughnutData: {\r\n        labels: [\"Files\", \"Draawings\", \"Tech.Submittalas\", \"RFI\"],\r\n        datasets: [\r\n          {\r\n            backgroundColor: [\"#f87979\", \"#FF4444\", \"#5546FF\", \"#563424\"],\r\n            data: [40, 20, 80, 10],\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    format_date(value, pattern) {\r\n      if (value) {\r\n        return moment(String(value)).format(pattern);\r\n      }\r\n    },\r\n\r\n    toggleMoreDetails() {\r\n      this.showMoreDetails = !this.showMoreDetails;\r\n\r\n      if (!this.showMoreDetails) {\r\n        this.showMoreLabel = \"Show more details\";\r\n      } else {\r\n        this.showMoreLabel = \"Close details\";\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n   //project title... move to the topBar\r\n    this.projectTitle = localStorage.getItem(\"selectedProjectTitle\");\r\n    this.projectNumber = localStorage.getItem(\"selectedProjectNumber\");\r\n    this.mainTitle = \"<h3 class='text-center'>\"+this.projectTitle+\"</h3>\";\r\n    this.mainTitle += \"<h5 class='text-center'>\"+this.projectNumber+\"</h5>\";\r\n\r\n\r\n\r\n    this.appType = localStorage.getItem(\"appType\");\r\n\r\n  \r\n    localStorage.setItem(\"selectedProjectType\", this.appType);\r\n\r\n    this.selectedProjectTitle = localStorage.getItem(\"selectedProjectTitle\");\r\n    this.selectedProjectNumber = localStorage.getItem(\"selectedProjectNumber\");\r\n    this.selectedProjectContractor = localStorage.getItem(\r\n      \"selectedProjectContractor\"\r\n    );\r\n    this.selectedProjectValidUntil = this.format_date(\r\n      localStorage.getItem(\"selectedProjectValidUntil\"),\r\n      \"DD/MM/YYYY\"\r\n    );\r\n    this.selectedProjectPublishDate = this.format_date(\r\n      localStorage.getItem(\"selectedProjectPublishDate\"),\r\n      \"DD/MM/YYYY\"\r\n    );\r\n    this.selectedProjectImage = localStorage.getItem(\"selectedProjectImage\");\r\n    this.selectedProjectType = localStorage.getItem(\"selectedProjectType\");\r\n\r\n   \r\n\r\n     if (this.appType == null ){\r\n      this.$router.replace(\"/pages/projectList\");\r\n     \r\n    }\r\n   \r\n  },\r\n\r\n  emits: {\r\n    showSearchbar: false,\r\n    appType: localStorage.getItem(\"selectedProjectType\"),\r\n  },\r\n\r\n  mounted() {\r\n   \r\n\r\n    this.$emit(\"appType\", localStorage.getItem(\"selectedProjectType\"));\r\n    this.$emit(\"showSearchbar\", false);\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style>\r\n.projectDetailstable {\r\n  border: 1px solid #ccc;\r\n}\r\n.projectDetailstable td {\r\n  border-bottom: 1px solid #eee;\r\n}\r\nh2 .small {\r\n  font-size: 1.3rem;\r\n}\r\n\r\n.slide-fade-enter-active {\r\n  transition: all 0.3s ease-out;\r\n}\r\n\r\n.slide-fade-leave-active {\r\n  transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);\r\n}\r\n\r\n.slide-fade-enter-from,\r\n.slide-fade-leave-to {\r\n  transform: translateY(-200px);\r\n  opacity: 0;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}