{"ast":null,"code":"import \"jquery/dist/jquery.min.js\";\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport $ from \"jquery\";\nexport default {\n  data() {\n    return {\n      users: [],\n      isLoading: true,\n      allUserTypes: [\"ADMIN\", \"USER\"],\n      allCompanies: [\"DFM Systems\", \"Computech\"],\n      NewFullName: null,\n      NewUsername: null,\n      NewEmail: null,\n      NewPassword: null,\n      NewRepeatPassword: null,\n      NewType: null,\n      NewCompany: null,\n      alertNewFullName: null,\n      alertNewUsername: null,\n      alertNewEmail: null,\n      alertNewPassword: null,\n      alertNewRepeatPassword: null,\n      alertNewType: null,\n      alertNewCompany: null\n    };\n  },\n\n  methods: {\n    usersSearch(what) {\n      //TODO: functon for searching Users\n      alert(\"User search: \" + what);\n    },\n\n    getUsers() {\n      this.isLoading = true;\n      fetch(\"https://www.it-b.hr/vue/users.php\").then(response => response.json()).then(data => {\n        this.users = data;\n        setTimeout(() => {\n          $(\"#datatable\").DataTable({\n            lengthMenu: [[25, 50, 100, -1], [25, 50, 100, \"All\"]],\n            pageLength: 25\n          });\n        });\n      });\n      this.isLoading = false;\n    },\n\n    projectSearch(what) {\n      $('#datatable_filter [type=\"search\"]').val(what);\n      $('#datatable_filter [type=\"search\"]').focus();\n      $('#datatable_filter [type=\"search\"]').keyup();\n      $(\"#search-holder form div input\").focus();\n    },\n\n    beforeOpenaddModal() {\n      //clear all inpute fields\n      this.NewFullName = null, this.NewUsername = null, this.NewEmail = null, this.NewPassword = null, this.NewRepeatPassword = null, this.NewType = null, this.NewCompany = null, this.lertNewFullName = null, this.alertNewUsername = null, this.alertNewEmail = null, this.alertNewPassword = null, this.alertNewRepeatPassword = null, this.alertNewType = null, this.alertNewCompany = null;\n    },\n\n    submitForm() {\n      this.formError = false;\n\n      if (!this.NewFullName) {\n        this.alertNewFullName = \"Please enter Fullname\";\n        this.formError = true;\n      }\n\n      if (!this.NewUsername) {\n        this.alertNewUsername = \"Please enter Username\";\n        this.formError = true;\n      }\n\n      if (!this.NewEmail) {\n        this.alertNewEmail = \"Please enter Email\";\n        this.formError = true;\n      }\n\n      if (this.NewPassword && this.NewRepeatPassword) {\n        if (this.NewPassword.length > 0 && this.NewRepeatPassword.length > 0 && this.NewPassword.length < 4) {\n          this.alertNewPassword = \"Password is too short. It must be at least 4 chars\";\n          this.formError = true;\n        }\n      }\n\n      if (!this.NewPassword) {\n        this.alertNewPassword = \"Please enter Password\";\n        this.formError = true;\n      }\n\n      if (!this.NewRepeatPassword) {\n        this.alertNewRepeatPassword = \"Please repeat Password\";\n        this.formError = true;\n      }\n\n      if (this.NewPassword > 3 && this.NewRepeatPassword > 3) {\n        if (this.NewRepeatPassword != this.NewPassword) {\n          this.alertNewRepeatPassword = \"Passwords don't match!\";\n          this.alertNewPassword = \"Passwords don't match!\";\n          this.formError = true;\n        }\n      }\n\n      if (!this.NewType) {\n        this.alertNewType = \"Please select user type\";\n        this.formError = true;\n      }\n\n      if (!this.NewCompany) {\n        this.alertNewCompany = \"Please select Company\";\n        this.formError = true;\n      }\n\n      if (this.formError == false) {\n        //create project ! for now just push in array\n        this.users.push({\n          id: Math.floor(Math.random() * 1000000),\n          name: this.NewFullName,\n          username: this.NewFullName,\n          email: this.NewEmail,\n          type: this.NewType,\n          company: this.NewCompany\n        });\n        this.closeModal(\"closeaddModal\"); //close login modal after submit;\n\n        document.getElementById(\"btnOpenMo\").click(); //   this.getUsers(); // this is for getting from server for new list\n\n        $(\"#datatable\").DataTable().clear().fnDestroy();\n        this.reCreateTable();\n      }\n    },\n\n    reCreateTable() {\n      $(\"#datatable\").DataTable({\n        lengthMenu: [[25, 50, 100, -1], [25, 50, 100, \"All\"]],\n        pageLength: 25\n      });\n    },\n\n    KeyDown(field) {\n      if (field === \"NewFullName\" && this.NewFullName) {\n        this.alertNewFullName = \"\";\n      } else if (field === \"NewUsername\" && this.NewUsername) {\n        this.alertNewUsername = \"\";\n      } else if (field === \"NewEmail\" && this.NewEmail) {\n        this.alertNewEmail = \"\";\n      } else if (field === \"NewPassword\" && this.NewPassword) {\n        this.alertNewPassword = \"\";\n        this.alertNewRepeatPassword = \"\";\n      } else if (field === \"NewRepeatPassword\" && this.NewRepeatPassword) {\n        this.alertNewPassword = \"\";\n        this.alertNewRepeatPassword = \"\";\n      }\n    },\n\n    selectChange(field) {\n      if (field == \"NewType\" && this.NewType != \"\") {\n        this.alertNewType = \"\";\n      }\n\n      if (field == \"NewCompany\" && this.NewCompany != \"\") {\n        this.alertNewCompany = \"\";\n      }\n    },\n\n    closeModal(id) {\n      document.getElementById(id).click();\n    }\n\n  },\n  emits: {\n    showSearchbar: false\n  },\n\n  mounted() {\n    this.getUsers(); // this.$emit(\"showSearchbar\", true);\n  }\n\n};","map":{"version":3,"mappings":"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","names":["$","data","users","isLoading","allUserTypes","allCompanies","NewFullName","NewUsername","NewEmail","NewPassword","NewRepeatPassword","NewType","NewCompany","alertNewFullName","alertNewUsername","alertNewEmail","alertNewPassword","alertNewRepeatPassword","alertNewType","alertNewCompany","methods","usersSearch","what","alert","getUsers","fetch","then","response","json","setTimeout","DataTable","lengthMenu","pageLength","projectSearch","val","focus","keyup","beforeOpenaddModal","lertNewFullName","submitForm","formError","length","push","id","Math","floor","random","name","username","email","type","company","closeModal","document","getElementById","click","clear","fnDestroy","reCreateTable","KeyDown","field","selectChange","emits","showSearchbar","mounted"],"sourceRoot":"","sources":["Q:\\Projects\\DFM v2\\src\\components\\pages\\ManageUsers.vue"],"sourcesContent":["<template>\r\n  <base-dialog :show=\"isLoading\" title=\"Authenticating...\" fixed>\r\n    <base-spinner></base-spinner>\r\n  </base-dialog>\r\n\r\n  <div class=\"row mb-3\">\r\n    <div class=\"col-12 text-center\">\r\n      <search-holder @emit-search=\"usersSearch\"></search-holder>\r\n    </div>\r\n  </div>\r\n\r\n  <!--<data-table class=\"display\" :data=\"users\"   width=\"100%\">\r\n    <thead>\r\n        <tr>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Type</th>\r\n            <th>Company</th>\r\n        </tr>\r\n    </thead>\r\n</data-table>-->\r\n\r\n  <table id=\"datatable\">\r\n    <thead>\r\n      <tr>\r\n        <th>ID</th>\r\n        <th>Name</th>\r\n        <th>Username</th>\r\n        <th>Email</th>\r\n        <th>Type</th>\r\n        <th>Company</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"user in users\" :key=\"user.id\">\r\n        <td>{{ user.id }}</td>\r\n        <td>{{ user.name }}</td>\r\n        <td>{{ user.username }}</td>\r\n        <td>{{ user.email }}</td>\r\n        <td>{{ user.type }}</td>\r\n        <td>{{ user.company }}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <!-- action button -->\r\n  <div class=\"right-corder-container\">\r\n    <button\r\n      @click=\"beforeOpenaddModal()\"\r\n      class=\"right-corder-container-button\"\r\n      data-bs-toggle=\"modal\"\r\n      data-bs-target=\"#addModal\"\r\n      title=\"Add new user\"\r\n    >\r\n      <span class=\"short-text\">+</span>\r\n    </button>\r\n  </div>\r\n\r\n  <!-- Add new modal-->\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"addModal\"\r\n    data-bs-backdrop=\"static\"\r\n    data-bs-keyboard=\"false\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"addModal\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"addModalLabel\">Add new user</h5>\r\n          <button\r\n            type=\"button\"\r\n            id=\"closeaddModal\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <form @submit.prevent=\"submitForm\">\r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Fullname:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"NewFullName\"\r\n                      @keyup=\"KeyDown('NewFullName')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewFullName\"\r\n                      v-if=\"alertNewFullName\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Username:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"NewUsername\"\r\n                      @keyup=\"KeyDown('NewUsername')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewUsername\"\r\n                      v-if=\"alertNewUsername\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Email:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"NewEmail\"\r\n                      @keyup=\"KeyDown('NewEmail')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewEmail\"\r\n                      v-if=\"alertNewEmail\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Password:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"NewPassword\"\r\n                      @keyup=\"KeyDown('NewPassword')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewPassword\"\r\n                      v-if=\"alertNewPassword\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Repeat password:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"NewRepeatPassword\"\r\n                      @keyup=\"KeyDown('NewRepeatPassword')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewRepeatPassword\"\r\n                      v-if=\"alertNewRepeatPassword\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Type:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <v-select\r\n                      @change=\"selectChange('NewType')\"\r\n                      label=\"countryName\"\r\n                      v-model=\"NewType\"\r\n                      :options=\"allUserTypes\"\r\n                    ></v-select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewType\"\r\n                      v-if=\"alertNewType\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Company:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <v-select\r\n                      @change=\"selectChange('NewCompany')\"\r\n                      label=\"countryName\"\r\n                      v-model=\"NewCompany\"\r\n                      :mode=\"tags\"\r\n                      :create-option=\"true\"\r\n                      :searchable=\"true\"\r\n                      :options=\"allCompanies\"\r\n                    ></v-select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewCompany\"\r\n                      v-if=\"alertNewCompany\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"mb-3\"></div>\r\n\r\n            <button type=\"submit\" class=\"btn btn-primary\">Add user</button>\r\n          </form>\r\n        </div>\r\n        <div class=\"modal-footer\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <button\r\n    id=\"btnOpenMo\"\r\n    data-bs-toggle=\"modal\"\r\n    data-bs-target=\"#CreatedModal\"\r\n    class=\"d-none\"\r\n  />\r\n\r\n  <!-- Created Projects Modal -->\r\n  <div\r\n    class=\"modal fade\"\r\n    :class=\"{ show: createdProject }\"\r\n    :style=\"{ display: block }\"\r\n    id=\"CreatedModal\"\r\n    data-bs-backdrop=\"static\"\r\n    data-bs-keyboard=\"false\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"CreatedModal\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5>Info</h5>\r\n          <button\r\n            type=\"button\"\r\n            id=\"closeCreatedModal\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p>User added</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport \"jquery/dist/jquery.min.js\";\r\nimport \"datatables.net-dt/js/dataTables.dataTables\";\r\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\r\nimport $ from \"jquery\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      \r\n      users: [],\r\n      isLoading: true,\r\n      allUserTypes: [\"ADMIN\", \"USER\"],\r\n      allCompanies: [\"DFM Systems\", \"Computech\"],\r\n      NewFullName: null,\r\n      NewUsername: null,\r\n      NewEmail: null,\r\n      NewPassword: null,\r\n      NewRepeatPassword: null,\r\n      NewType: null,\r\n      NewCompany: null,\r\n      alertNewFullName: null,\r\n      alertNewUsername: null,\r\n      alertNewEmail: null,\r\n      alertNewPassword: null,\r\n      alertNewRepeatPassword: null,\r\n      alertNewType: null,\r\n      alertNewCompany: null,\r\n    };\r\n  },\r\n  methods: {\r\n    usersSearch(what) {\r\n      //TODO: functon for searching Users\r\n      alert(\"User search: \" + what);\r\n    },\r\n\r\n    getUsers() {\r\n      this.isLoading = true;\r\n\r\n      fetch(\"https://www.it-b.hr/vue/users.php\")\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          this.users = data;\r\n          setTimeout(() => {\r\n            $(\"#datatable\").DataTable({\r\n              lengthMenu: [\r\n                [25, 50, 100, -1],\r\n                [25, 50, 100, \"All\"],\r\n              ],\r\n              pageLength: 25,\r\n            });\r\n          });\r\n        });\r\n\r\n      this.isLoading = false;\r\n    },\r\n\r\n    projectSearch(what) {\r\n      $('#datatable_filter [type=\"search\"]').val(what);\r\n      $('#datatable_filter [type=\"search\"]').focus();\r\n      $('#datatable_filter [type=\"search\"]').keyup();\r\n      $(\"#search-holder form div input\").focus();\r\n    },\r\n\r\n    beforeOpenaddModal() {\r\n      //clear all inpute fields\r\n      (this.NewFullName = null),\r\n        (this.NewUsername = null),\r\n        (this.NewEmail = null),\r\n        (this.NewPassword = null),\r\n        (this.NewRepeatPassword = null),\r\n        (this.NewType = null),\r\n        (this.NewCompany = null),\r\n        (this.lertNewFullName = null),\r\n        (this.alertNewUsername = null),\r\n        (this.alertNewEmail = null),\r\n        (this.alertNewPassword = null),\r\n        (this.alertNewRepeatPassword = null),\r\n        (this.alertNewType = null),\r\n        (this.alertNewCompany = null);\r\n    },\r\n    submitForm() {\r\n      this.formError = false;\r\n\r\n      if (!this.NewFullName) {\r\n        this.alertNewFullName = \"Please enter Fullname\";\r\n        this.formError = true;\r\n      }\r\n\r\n      if (!this.NewUsername) {\r\n        this.alertNewUsername = \"Please enter Username\";\r\n        this.formError = true;\r\n      }\r\n\r\n      if (!this.NewEmail) {\r\n        this.alertNewEmail = \"Please enter Email\";\r\n        this.formError = true;\r\n      }\r\n\r\n      if (this.NewPassword && this.NewRepeatPassword) {\r\n        if (\r\n          this.NewPassword.length > 0 &&\r\n          this.NewRepeatPassword.length > 0 &&\r\n          this.NewPassword.length < 4\r\n        ) {\r\n          this.alertNewPassword =\r\n            \"Password is too short. It must be at least 4 chars\";\r\n          this.formError = true;\r\n        }\r\n      }\r\n\r\n      if (!this.NewPassword) {\r\n        this.alertNewPassword = \"Please enter Password\";\r\n        this.formError = true;\r\n      }\r\n\r\n      if (!this.NewRepeatPassword) {\r\n        this.alertNewRepeatPassword = \"Please repeat Password\";\r\n        this.formError = true;\r\n      }\r\n\r\n      if (this.NewPassword > 3 && this.NewRepeatPassword > 3) {\r\n        if (this.NewRepeatPassword != this.NewPassword) {\r\n          this.alertNewRepeatPassword = \"Passwords don't match!\";\r\n          this.alertNewPassword = \"Passwords don't match!\";\r\n          this.formError = true;\r\n        }\r\n      }\r\n\r\n      if (!this.NewType) {\r\n        this.alertNewType = \"Please select user type\";\r\n        this.formError = true;\r\n      }\r\n\r\n      if (!this.NewCompany) {\r\n        this.alertNewCompany = \"Please select Company\";\r\n        this.formError = true;\r\n      }\r\n\r\n      if (this.formError == false) {\r\n        //create project ! for now just push in array\r\n\r\n        this.users.push({\r\n          id: Math.floor(Math.random() * 1000000),\r\n          name: this.NewFullName,\r\n          username: this.NewFullName,\r\n          email: this.NewEmail,\r\n          type: this.NewType,\r\n          company: this.NewCompany,\r\n        });\r\n\r\n        this.closeModal(\"closeaddModal\"); //close login modal after submit;\r\n        document.getElementById(\"btnOpenMo\").click();\r\n      //   this.getUsers(); // this is for getting from server for new list\r\n      \r\n        $(\"#datatable\").DataTable().clear().fnDestroy();\r\n        this.reCreateTable();\r\n      }\r\n    },\r\n    reCreateTable(){\r\n\r\n        $(\"#datatable\").DataTable({\r\n              lengthMenu: [\r\n                [25, 50, 100, -1],\r\n                [25, 50, 100, \"All\"],\r\n              ],\r\n              pageLength: 25,\r\n            });\r\n    },\r\n\r\n    KeyDown(field) {\r\n      if (field === \"NewFullName\" && this.NewFullName) {\r\n        this.alertNewFullName = \"\";\r\n      } else if (field === \"NewUsername\" && this.NewUsername) {\r\n        this.alertNewUsername = \"\";\r\n      } else if (field === \"NewEmail\" && this.NewEmail) {\r\n        this.alertNewEmail = \"\";\r\n      } else if (field === \"NewPassword\" && this.NewPassword) {\r\n        this.alertNewPassword = \"\";\r\n        this.alertNewRepeatPassword = \"\";\r\n      } else if (field === \"NewRepeatPassword\" && this.NewRepeatPassword) {\r\n        this.alertNewPassword = \"\";\r\n        this.alertNewRepeatPassword = \"\";\r\n      }\r\n    },\r\n    selectChange(field) {\r\n      if (field == \"NewType\" && this.NewType != \"\") {\r\n        this.alertNewType = \"\";\r\n      }\r\n      if (field == \"NewCompany\" && this.NewCompany != \"\") {\r\n        this.alertNewCompany = \"\";\r\n      }\r\n    },\r\n    closeModal(id) {\r\n      document.getElementById(id).click();\r\n    },\r\n  },\r\n\r\n  emits: {\r\n    showSearchbar: false,\r\n  },\r\n\r\n  mounted() {\r\n    this.getUsers();\r\n    // this.$emit(\"showSearchbar\", true);\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style>\r\n@import \"datatables.net-dt\";\r\n@import \"@vueform/multiselect/themes/default.css\";\r\n\r\n#datatable tbody tr:nth-child(even) {background: #aaa}\r\n#datatable tbody tr:nth-child(odd) {background: #FFF}\r\n\r\n#datatable tbody tr td {\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n#datatable_filter {\r\n  display: none;\r\n}\r\n\r\n.right-corder-container {\r\n  position: fixed;\r\n  right: 20px;\r\n  bottom: 20px;\r\n}\r\n\r\n.right-corder-container .right-corder-container-button {\r\n  height: 51px;\r\n  width: 51px;\r\n  border: none;\r\n  background-color: #730e27;\r\n  border-radius: 62px; /*Transform the square into rectangle, sync that value with the width/height*/\r\n  transition: all 300ms; /*Animation to close the button (circle)*/\r\n  box-shadow: 2px 4px 5px rgb(25, 73, 15, 0.5);\r\n  cursor: pointer;\r\n}\r\n.right-corder-container .right-corder-container-button span {\r\n  font-size: 40px;\r\n  color: white;\r\n  position: absolute;\r\n  left: 13px;\r\n  top: 9px;\r\n  line-height: 28px;\r\n}\r\nbody {\r\n  padding-bottom: 60px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}