{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = [\"onClick\", \"src\"];\nconst _hoisted_2 = {\n  class: \"deleteImageButton\"\n};\nconst _hoisted_3 = {\n  class: \"row\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_4 = {\n  class: \"col-md-12 text-center\"\n};\nconst _hoisted_5 = {\n  class: /*#__PURE__*/_normalizeClass('zoomedImageHolder')\n};\nconst _hoisted_6 = [\"src\", \"id\", \"index\"];\nconst _hoisted_7 = {\n  class: \"row\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-md-4 text-start\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  class: \"col-md-4 text-center\"\n};\nconst _hoisted_10 = {\n  class: \"col-md-4 text-end\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"h4\", null, \" Please confirm\", -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"font-bold text-2xl block mb-2 mt-4\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"mb-0\"\n}, \"Are you sure that you want to delete this photo?\", -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = {\n  class: \"row\",\n  style: {\n    \"margin-top\": \"30px\"\n  }\n};\nconst _hoisted_15 = {\n  class: \"col-md-6 text-start\"\n};\nconst _hoisted_16 = {\n  class: \"col-md-6 text-end\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Button = _resolveComponent(\"Button\");\n\n  const _component_swiper_slide = _resolveComponent(\"swiper-slide\");\n\n  const _component_swiper = _resolveComponent(\"swiper\");\n\n  const _component_Dialog = _resolveComponent(\"Dialog\");\n\n  const _directive_tooltip = _resolveDirective(\"tooltip\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_swiper, {\n    modules: $setup.modules,\n    thumbs: {\n      swiper: $data.thumbsSwiper\n    },\n    \"slides-per-view\": 2,\n    \"space-between\": 30,\n    navigation: \"\",\n    pagination: {\n      clickable: true\n    },\n    onSwiper: $setup.onSwiper\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.tripImages, (tripImage, index) => {\n      return _openBlock(), _createBlock(_component_swiper_slide, {\n        class: \"swiperSlideHolder\",\n        key: tripImage.key\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"img\", {\n          onClick: $event => $options.zoomImages(tripImage.key, index),\n          src: $data.baseUrl + $data.methodName + $data.parameter + tripImage.key + '&t=' + $data.timestamp,\n          class: \"swiperImagesSide\"\n        }, null, 8\n        /* PROPS */\n        , _hoisted_1), _createElementVNode(\"div\", _hoisted_2, [$props.userType == 'ADMIN' ? _withDirectives((_openBlock(), _createBlock(_component_Button, {\n          key: 0,\n          onClick: $event => $options.sendBackIdForDelete(tripImage.key),\n          icon: \"fa-stack-1x fa-solid fa-trash-can\",\n          label: \"\",\n          severity: \"danger\",\n          class: \"deleteImageButton\"\n        }, null, 8\n        /* PROPS */\n        , [\"onClick\"])), [[_directive_tooltip, 'Delete photo', void 0, {\n          left: true\n        }]]) : _createCommentVNode(\"v-if\", true)])]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1024\n      /* DYNAMIC_SLOTS */\n      );\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"modules\", \"thumbs\", \"onSwiper\"]), _createVNode(_component_Dialog, {\n    position: 'top',\n    visible: $data.visibleImagesModal,\n    \"onUpdate:visible\": _cache[3] || (_cache[3] = $event => $data.visibleImagesModal = $event),\n    modal: \"\",\n    style: {\n      width: '80%'\n    },\n    pt: {\n      mask: {\n        style: 'backdrop-filter: blur(2px)'\n      }\n    },\n    breakpoints: {\n      '1199px': '75vw',\n      '575px': '90vw'\n    },\n    class: \"zoomImageDialog\"\n  }, {\n    header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h5\", null, _toDisplayString($props.openedcargoname), 1\n    /* TEXT */\n    )])])]),\n    footer: _withCtx(() => []),\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_swiper, {\n      modules: $setup.modules,\n      thumbs: {\n        swiper: $data.thumbsSwiper\n      },\n      \"slides-per-view\": 1,\n      \"space-between\": 10,\n      navigation: \"\",\n      pagination: {\n        clickable: true\n      },\n      onSwiper: $options.onSwiper1,\n      onSlideChangeTransitionEnd: $options.onSlideChange,\n      ref: \"swiperTop\"\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.tripImages, (tripImage, index) => {\n        return _openBlock(), _createBlock(_component_swiper_slide, {\n          class: \"swiperSlideHolder\",\n          key: tripImage.key\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" NOTES: \" + _toDisplayString($props.notes) + \" \", 1\n          /* TEXT */\n          ), _createElementVNode(\"img\", {\n            src: $data.baseUrl + $data.methodName + $data.parameter + tripImage.key + '&t=' + $data.timestamp,\n            id: tripImage.key,\n            index: index\n          }, null, 8\n          /* PROPS */\n          , _hoisted_6)]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1024\n        /* DYNAMIC_SLOTS */\n        );\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"modules\", \"thumbs\", \"onSwiper\", \"onSlideChangeTransitionEnd\"]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_createCommentVNode(\" <a  v-tooltip.top=\\\"{ value: 'Rotate photo', showDelay: 1000, hideDelay: 300 }\\\" href=\\\"javascript:\\\"  @click=\\\"rotateZoomedImage(zoomedImageId)\\\" style=\\\"font-size:30px\\\" ><i class=\\\"pi pi-undo rotateIcon\\\"></i></a>\\r\\n             \"), _withDirectives(_createVNode(_component_Button, {\n      icon: \"pi pi-undo rotateIcon\",\n      onClick: _cache[0] || (_cache[0] = $event => $options.rotateZoomedImage($data.zoomedImageId)),\n      class: \"downloadImageButton\",\n      style: {\n        \"margin-right\": \"30px\"\n      }\n    }, null, 512\n    /* NEED_PATCH */\n    ), [[_directive_tooltip, 'Rotate image', void 0, {\n      bottom: true\n    }]]), _withDirectives(_createVNode(_component_Button, {\n      icon: \"pi pi-download\",\n      onClick: _cache[1] || (_cache[1] = $event => $options.downloadImage($data.zoomedImageId)),\n      class: \"downloadImageButton\"\n    }, null, 512\n    /* NEED_PATCH */\n    ), [[_directive_tooltip, 'Download photo', void 0, {\n      bottom: true\n    }]])]), _createElementVNode(\"div\", _hoisted_10, [$props.userType == 'ADMIN' ? _withDirectives((_openBlock(), _createBlock(_component_Button, {\n      key: 0,\n      onClick: _cache[2] || (_cache[2] = $event => {\n        $data.photoIdForDelete = $data.zoomedImageId;\n        $data.displayDeletePhotoConfirm = true;\n      }),\n      icon: \"pi pi-trash\",\n      class: \"deletePhotoButton\",\n      label: \"Delete photo\"\n    }, null, 512\n    /* NEED_PATCH */\n    )), [[_directive_tooltip, {\n      value: 'Delete photo',\n      showDelay: 1000,\n      hideDelay: 300\n    }, void 0, {\n      top: true\n    }]]) : _createCommentVNode(\"v-if\", true)])])])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"visible\", \"pt\"]), _createCommentVNode(\" dialog confirm Delete Photo \"), _createVNode(_component_Dialog, {\n    visible: $data.displayDeletePhotoConfirm,\n    \"onUpdate:visible\": _cache[6] || (_cache[6] = $event => $data.displayDeletePhotoConfirm = $event),\n    modal: \"\",\n    style: {\n      width: '30rem'\n    },\n    breakpoints: {\n      '1199px': '75vw',\n      '575px': '90vw'\n    }\n  }, {\n    header: _withCtx(() => [_hoisted_11]),\n    default: _withCtx(() => [_hoisted_12, _hoisted_13, _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createVNode(_component_Button, {\n      class: \"redButton\",\n      label: \"Cancel\",\n      onClick: _cache[4] || (_cache[4] = $event => $data.displayDeletePhotoConfirm = false)\n    })]), _createElementVNode(\"div\", _hoisted_16, [_createVNode(_component_Button, {\n      label: \"Yes, delete\",\n      onClick: _cache[5] || (_cache[5] = $event => $options.deletePhoto($data.photoIdForDelete))\n    })])])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"visible\"])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","style","_createElementVNode","_createVNode","_component_swiper","modules","$setup","thumbs","swiper","$data","navigation","pagination","clickable","onSwiper","_createElementBlock","_Fragment","_renderList","$props","tripImage","index","_createBlock","_component_swiper_slide","key","onClick","$options","src","_component_Button","icon","label","severity","_component_Dialog","position","visible","$event","modal","width","pt","mask","breakpoints","header","_toDisplayString","footer","onSlideChangeTransitionEnd","ref","id","_hoisted_8","_createCommentVNode","value","showDelay","hideDelay","_hoisted_11","_hoisted_12","_hoisted_13"],"sourceRoot":"","sources":["Q:\\Projects\\Snags-web-vue\\src\\components\\ui\\SwiperCarousel.vue"],"sourcesContent":["<template>\r\n   \r\n   <swiper\r\n    :modules=\"modules\"\r\n    :thumbs=\"{ swiper: thumbsSwiper }\"\r\n      :slides-per-view=\"2\"\r\n      :space-between=\"30\"\r\n      navigation\r\n      :pagination=\"{ clickable: true }\"\r\n      @swiper=\"onSwiper\"\r\n     \r\n    >\r\n      <swiper-slide class=\"swiperSlideHolder\" v-for=\"(tripImage,index) in tripImages\" v-bind:key=\"tripImage.key\" >\r\n         <img @click=\"zoomImages(tripImage.key, index)\" :src=\"baseUrl+methodName+parameter+tripImage.key+'&t='+timestamp\" class=\"swiperImagesSide\">\r\n         <div class=\"deleteImageButton\">\r\n            <Button v-if=\"userType=='ADMIN'\" @click=\"sendBackIdForDelete(tripImage.key)\" v-tooltip.left=\"'Delete photo'\" icon=\"fa-stack-1x fa-solid fa-trash-can\" label=\"\" severity=\"danger\" class=\"deleteImageButton\"></Button>\r\n         </div>\r\n      </swiper-slide>\r\n         \r\n    </swiper>\r\n\r\n   \r\n    <Dialog   :position=\"'top'\"  \r\n              v-model:visible=\"visibleImagesModal\" \r\n              modal\r\n              :style=\"{ width: '80%' } \"  \r\n              :pt=\"{mask: {style: 'backdrop-filter: blur(2px)' }  }\"  \r\n              :breakpoints=\"{ '1199px': '75vw', '575px': '90vw' }\"\r\n              class=\"zoomImageDialog\"\r\n              >\r\n              \r\n\r\n         <template #header>\r\n          \r\n              <div class=\"row\" style=\"width:100%\">\r\n                <div class=\"col-md-12  text-center\">\r\n                   <h5>{{ openedcargoname }} </h5>                \r\n                    \r\n                </div>\r\n              \r\n               \r\n              </div>\r\n             \r\n             \r\n          \r\n        </template>\r\n\r\n    \r\n       <!-- One image-->\r\n       <!-- <div :class=\"'zoomedImageHolder'\" >\r\n            <img :src=\"zoomedImageSource\" :class=\"'zoomedImageClass'+ rotationClass\">\r\n        </div>-->\r\n\r\n       <!-- or carousel again-->\r\n       <div :class=\"'zoomedImageHolder'\" >\r\n            <swiper\r\n            :modules=\"modules\"\r\n            :thumbs=\"{ swiper: thumbsSwiper }\"\r\n            :slides-per-view=\"1\"\r\n            :space-between=\"10\"\r\n            navigation\r\n            :pagination=\"{ clickable: true }\"\r\n            @swiper=\"onSwiper1\"\r\n            @slideChangeTransitionEnd=\"onSlideChange\"\r\n           \r\n            ref=\"swiperTop\"\r\n          >\r\n            <swiper-slide  class=\"swiperSlideHolder\" v-for=\"(tripImage,index) in tripImages\" v-bind:key=\"tripImage.key\">\r\n              NOTES: {{ notes }}\r\n              <img  :src=\"baseUrl+methodName+parameter+tripImage.key+'&t='+timestamp\" :id=\"tripImage.key\" :index=\"index\">\r\n             </swiper-slide>\r\n             \r\n           \r\n\r\n          </swiper>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4 text-start\">\r\n              </div>\r\n            <div class=\"col-md-4 text-center\">\r\n             <!-- <a  v-tooltip.top=\"{ value: 'Rotate photo', showDelay: 1000, hideDelay: 300 }\" href=\"javascript:\"  @click=\"rotateZoomedImage(zoomedImageId)\" style=\"font-size:30px\" ><i class=\"pi pi-undo rotateIcon\"></i></a>\r\n             --> \r\n              <Button v-tooltip.bottom=\"'Rotate image'\" icon=\"pi pi-undo rotateIcon\" @click=\"rotateZoomedImage(zoomedImageId)\"  class=\"downloadImageButton\" style=\"margin-right:30px\"/>\r\n              <Button v-tooltip.bottom=\"'Download photo'\" icon=\"pi pi-download\" @click=\"downloadImage(zoomedImageId)\" class=\"downloadImageButton\"/>\r\n            </div>\r\n            <div class=\"col-md-4 text-end\">\r\n              \r\n              <Button v-if=\"userType=='ADMIN'\" @click=\"photoIdForDelete=zoomedImageId;displayDeletePhotoConfirm=true\" v-tooltip.top=\"{ value: 'Delete photo', showDelay: 1000, hideDelay: 300 }\" icon=\"pi pi-trash\" class=\"deletePhotoButton\" label=\"Delete photo\"></Button>\r\n             \r\n            </div>\r\n         </div>\r\n          \r\n  </div>  \r\n      <!-- ------------------------------ -->\r\n\r\n\r\n       <template #footer>\r\n         \r\n       \r\n       </template>\r\n\r\n        </Dialog>  \r\n\r\n \r\n<!-- dialog confirm Delete Photo --> \r\n<Dialog v-model:visible=\"displayDeletePhotoConfirm\" modal  :style=\"{ width: '30rem' }\" :breakpoints=\"{ '1199px': '75vw', '575px': '90vw' }\">\r\n    <template #header=\"\"> \r\n        <h4> Please confirm</h4>\r\n    </template>\r\n  \r\n            <span class=\"font-bold text-2xl block mb-2 mt-4\"></span>\r\n            <p class=\"mb-0\">Are you sure that you want to delete this photo?</p>\r\n          \r\n          <div class=\"row\" style=\"margin-top:30px\">\r\n              <div class=\"col-md-6 text-start\">\r\n                  <Button class=\"redButton\" label=\"Cancel\" @click=\"displayDeletePhotoConfirm=false\"></Button>\r\n              </div>\r\n              <div class=\"col-md-6 text-end\">\r\n                  <Button label=\"Yes, delete\" @click=\"deletePhoto(photoIdForDelete)\"></Button>\r\n            </div>   \r\n          </div>\r\n           \r\n</Dialog>\r\n\r\n\r\n\r\n  </template>\r\n  <script>\r\n  \r\n\r\n  // import Swiper core and required components\r\n  import { Navigation, Pagination, Scrollbar, A11y } from 'swiper/modules';\r\n  import Button from 'primevue/button';\r\n  import { Thumbs } from 'swiper/modules';\r\n\r\n  // Import Swiper Vue.js components\r\n  import { Swiper, SwiperSlide } from \"swiper/vue\";\r\n  \r\n  import 'swiper/css';\r\n  import 'swiper/css/navigation';\r\n  import 'swiper/css/scrollbar';\r\n  import Dialog from 'primevue/dialog';\r\n // import Image from 'primevue/image';\r\n\r\n  \r\n import axios from \"axios\";\r\n  import $ from \"jquery\";\r\n\r\n\r\n   // Import Swiper styles\r\n  export default {\r\n    props:['notes','tripImages','openedcargoname','userType'],\r\n    components: {\r\n      Swiper,\r\n      SwiperSlide,\r\n      Dialog,\r\n      Button\r\n    \r\n    },\r\n    emits:['showloader', 'swiper', 'deletePhoto', 'deletePhotomodal'],\r\n    setup() {\r\n      const onSwiper = () => {\r\n       // console.log(swiper);\r\n       \r\n       \r\n      };\r\n\r\n          \r\n      return {\r\n        onSwiper,SwiperSlide,Thumbs,\r\n       \r\n        modules: [Navigation, Pagination, Scrollbar, A11y],\r\n      };\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        thumbsSwiper:'',\r\n        timestamp : Date.now(),\r\n        swiper:'',\r\n        defaultSlideTo : 0,\r\n        displayDeletePhotoConfirm:false,\r\n        zoomedImageId: '',\r\n        photoIdForDelete:'',\r\n        visibleImagesModal: false,\r\n        baseUrl : localStorage.getItem(\"_rootRestUrl\"),\r\n        methodName : '/api/Attachments/ViewPhoto',\r\n        methodNameDownload: '/api/Attachments/DownloadPhoto',\r\n        parameter : '?photoKey=',\r\n        zoomedImageSource : '',\r\n        zoomedImageClass : 'zoomedImage',\r\n        rotationClass:'',\r\n        rotate:0,\r\n      \r\n      }\r\n    },\r\n\r\n    methods: {\r\n      onSwiper1(swiper) {\r\n        this.swiper = swiper\r\n        this.swiper.slideTo(this.defaultSlideTo);\r\n        \r\n\r\n    },\r\n\r\n    downloadImage(){\r\n    \r\n      this.$emit('showloader',true);\r\n   \r\n         /* var downloadURL = this.baseUrl+this.methodName+this.parameter+this.zoomedImageId+'&='+this.timestamp;\r\n          const link = document.createElement('a');\r\n          link.href = downloadURL;\r\n          link.download = 'download';\r\n          link.target = '_blank';\r\n          link.click();\r\n          URL.revokeObjectURL(link.href)*/\r\n\r\n         const index=$('#'+this.zoomedImageId).attr('index');\r\n         const filename = this.tripImages[index]['caption'];\r\n\r\n         var downloadURL = this.baseUrl+this.methodNameDownload+this.parameter+this.zoomedImageId+'&='+this.timestamp;\r\n\r\n          axios.get(downloadURL, { responseType: 'blob' })\r\n          .then(response => {\r\n            const blob = new Blob([response.data], { type: 'image/jpeg' })\r\n            const link = document.createElement('a')\r\n            link.href = URL.createObjectURL(blob)\r\n            link.id= Date.now();\r\n            link.download = filename;\r\n            link.click();\r\n            URL.revokeObjectURL(link.href);\r\n\r\n            this.$emit('showloader',false);\r\n\r\n          }).catch(console.error)\r\n\r\n        \r\n\r\n    },\r\n    \r\n      \r\n      zoomImages(imageKey, index){\r\n          \r\n       \r\n\r\n\r\n            var imageId = this.tripImages[index];\r\n            this.zoomedImageId=imageId['key'];\r\n\r\n            this.zoomedImageSource = this.baseUrl+this.methodName+this.parameter+imageKey;\r\n            this.rotate = 0;\r\n            this.zoomedImageClass = 'zoomedImage';\r\n            this.visibleImagesModal = true;\r\n            this.rotationClass = '';\r\n            \r\n           // alert(index)\r\n\r\n            this.defaultSlideTo = index;\r\n            this.loading = false;\r\n          },\r\n\r\n     async rotateZoomedImage(imageId){\r\n\r\n            this.$emit('showloader',true);\r\n\r\n                         \r\n              var newPhotoUrlRequest = this.baseUrl+this.methodName+this.parameter+imageId +'&rotate=true&t='+this.timestamp;\r\n              const sessionId=localStorage.getItem(\"token\");\r\n            \r\n             \r\n\r\n             let formData = JSON.stringify({ sessionId: sessionId });\r\n                let config = {\r\n                  headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                  },\r\n\r\n                };\r\n              \r\n               // this.timestamp = Date.now();\r\n\r\n              await axios\r\n                .get(newPhotoUrlRequest, formData, config)\r\n                .then(() => {\r\n                  this.timestamp = Date.now();\r\n                //   var newPhotoUrl = this.baseUrl+this.methodName+this.parameter+imageId +'&t='+this.timestamp;\r\n                \r\n                 //  $('#'+imageId).attr('src',newPhotoUrl)\r\n                \r\n                 setTimeout(() =>  this.$emit('showloader',false), 375);\r\n                 \r\n                })           \r\n                .catch(function (error) {\r\n                    // handle error\r\n                    console.table(error);\r\n                 //   this.$emit('showloader',false);\r\n                });\r\n\r\n               \r\n               \r\n             \r\n          },\r\n\r\n          sendBackIdForDelete(imageId){\r\n              this.displayDeletePhotoConfirm = true;\r\n              this.photoIdForDelete=imageId;\r\n             \r\n              this.$emit('delete-photo',imageId);\r\n          },\r\n\r\n          sendBackIdForDeleteModal(imageId){\r\n              this.displayDeletePhotoConfirm = true;\r\n              this.photoIdForDelete=imageId;\r\n           \r\n          },\r\n          deletePhoto(photoId){\r\n            \r\n            this.$emit('delete-photomodal',photoId);\r\n            this.visibleImagesModal = false;\r\n            this.displayDeletePhotoConfirm = false;\r\n          },\r\n         \r\n\r\n          onSlideChange() {\r\n            var imageId = $('.zoomedImageHolder .swiper .swiper-wrapper .swiper-slide-active img').attr('id')\r\n            this.zoomedImageId=imageId;\r\n           \r\n          },\r\n    },\r\n  mounted(){\r\n   // alert(this.tripImages)\r\n    \r\n  },\r\n \r\n  };\r\n  </script>\r\n\r\n  <style>\r\n.swiperSlideHolder img{width:100%}\r\n\r\n.p-dialog-mask {backdrop-filter: blur(2px)}\r\n\r\n.zoomedImage{width:100%}\r\n.rotateIcon{\r\n  -webkit-transform: scaleX(-1);\r\n  transform: scaleX(-1);\r\n}\r\n\r\n.rotate90{\r\n  -webkit-transform:rotate(90deg);\r\n  -moz-transform: rotate(90deg);\r\n  -ms-transform: rotate(90deg);\r\n  -o-transform: rotate(900deg);\r\n  transform: rotate(90deg);\r\n}\r\n.rotate180{\r\n  -webkit-transform:rotate(180deg);\r\n  -moz-transform: rotate(180deg);\r\n  -ms-transform: rotate(180deg);\r\n  -o-transform: rotate(180deg);\r\n  transform: rotate(180deg);\r\n}\r\n.rotate270{\r\n  -webkit-transform:rotate(270deg);\r\n  -moz-transform: rotate(270deg);\r\n  -ms-transform: rotate(270deg);\r\n  -o-transform: rotate(270deg);\r\n  transform: rotate(270deg);\r\n}\r\n\r\n\r\n\r\n/*.zoomedImageHolder{height:calc(100vh - 120px);width:100%;background-size: contain; background-repeat:no-repeat;background-position: center;}*/\r\n.zoomedImageHolder{height:100%;width:100%;}\r\n.zoomedImageHolder img {\r\n  display: block;\r\n  max-width:100%;\r\n  max-height:calc(100% - 0px);\r\n  width: auto;\r\n  height: auto;\r\n  margin:auto;\r\n}\r\n.zoomedImageHolder .swiper, .zoomedImageHolder .swiper-wrapper, .zoomedImageHolder .swiper-wrapper{\r\n  max-height:calc(100% - 30px);\r\n}\r\n.zoomedImageHolder .swiper, .zoomedImageHolder .swiper-wrapper{\r\n  height:calc(100vh - 30px);\r\n}\r\n\r\n\r\n.p-dialog .p-dialog-footer{padding-top:5px !important;padding-bottom:5px !important}\r\n.p-dialog .p-dialog-header{padding-top:5px !important;padding-bottom:5px !important}\r\n\r\n.p-dialog-content{height:calc(100vh - 100px);padding-top: 10pxL;overflow-y: hidden;}\r\n\r\n.deleteImageButton .p-button{\r\n  background:  rgb(170, 0, 0) !important;\r\n  border: rgb(170, 0, 0) !important;\r\n  position:absolute;\r\n  top:3px;\r\n  right:3px;\r\n  padding:1px !important;\r\n}\r\n.deleteImageButton .p-button:hover{\r\n  background:  rgb(120, 0, 0) !important;\r\n  border: rgb(120, 0, 0) !important;\r\n \r\n}\r\n\r\n.p-button.deletePhotoButton{\r\n  background:  rgb(170, 0, 0) !important;\r\n  border: rgb(170, 0, 0) !important;\r\n  padding:5px !important;\r\n}\r\n.p-button.deletePhotoButton:hover{\r\n  background:  rgb(120, 0, 0) !important;\r\n  border: rgb(120, 0, 0) !important;\r\n}\r\n\r\n.p-tabview .p-tabview-panels{padding:10px !important}\r\n\r\n.zoomImageDialog{height:calc(100vh - 25px;);max-height: unset !important;}\r\n.zoomImageDialog .p-dialog-content {height: calc(100vh - 80px);}\r\n\r\n.downloadImageButton{\r\n /* position: absolute !important;\r\n  right: 75px !important;*/\r\n  padding: 2px !important;\r\n}\r\n\r\nh5 {display:inline-block}\r\n\r\n.p-dialog{max-height: 90% !important}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}