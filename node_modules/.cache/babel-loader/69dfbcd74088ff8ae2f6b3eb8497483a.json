{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nimport { inject, ref, computed, defineAsyncComponent, resolveComponent, openBlock, createBlock, Fragment, renderList, withCtx, renderSlot, toRefs, provide, onUnmounted, createVNode, mergeProps, watch, nextTick, createCommentVNode, onMounted, withKeys, withModifiers, withDirectives, vModelText, toDisplayString, Transition } from \"vue\";\nvar commonjsGlobal = typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : {};\n\nfunction isNil(value) {\n  return value == null;\n}\n\nvar lodash_isnil = isNil;\nvar INFINITY$1 = 1 / 0,\n    MAX_INTEGER = 17976931348623157e292,\n    NAN = 0 / 0;\nvar symbolTag$1 = \"[object Symbol]\";\nvar reTrim = /^\\s+|\\s+$/g;\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\nvar reIsBinary = /^0b[01]+$/i;\nvar reIsOctal = /^0o[0-7]+$/i;\nvar freeParseInt = parseInt;\nvar objectProto$1 = Object.prototype;\nvar objectToString$1 = objectProto$1.toString;\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == \"object\" || type == \"function\");\n}\n\nfunction isObjectLike$1(value) {\n  return !!value && typeof value == \"object\";\n}\n\nfunction isSymbol$1(value) {\n  return typeof value == \"symbol\" || isObjectLike$1(value) && objectToString$1.call(value) == symbolTag$1;\n}\n\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n\n  value = toNumber(value);\n\n  if (value === INFINITY$1 || value === -INFINITY$1) {\n    var sign = value < 0 ? -1 : 1;\n    return sign * MAX_INTEGER;\n  }\n\n  return value === value ? value : 0;\n}\n\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n  return result === result ? remainder ? result - remainder : result : 0;\n}\n\nfunction toNumber(value) {\n  if (typeof value == \"number\") {\n    return value;\n  }\n\n  if (isSymbol$1(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n    value = isObject(other) ? other + \"\" : other;\n  }\n\n  if (typeof value != \"string\") {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, \"\");\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nvar lodash_tointeger = toInteger;\nconst defaultSize = 8;\nconst defaultDisabledClass = \"disabled\";\nconst defaultFocusClass = \"focused\";\nconst defaultDragClass = \"draggable\";\nconst defaultDropClass = \"droppable\";\nconst defaultOverClass = \"node-over\";\nconst defaultInClass = \"node-in\";\nconst defaultUnderClass = \"node-under\";\nconst defaultViewBox = \"0 0 123.958 123.959\";\nconst defaultOpenDraw = `M117.979,28.017h-112c-5.3,0-8,6.4-4.2,10.2l56,56c2.3,2.3,6.1,2.3,8.401,0l56-56C125.979,34.417,123.279,28.017,117.979,28.017z`;\nconst defaultCloseDraw = `M38.217,1.779c-3.8-3.8-10.2-1.1-10.2,4.2v112c0,5.3,6.4,8,10.2,4.2l56-56c2.3-2.301,2.3-6.101,0-8.401L38.217,1.779z`;\nconst defaultColor = \"black\";\n\nfunction createDefaultIcon(draw) {\n  return {\n    type: \"shape\",\n    width: defaultSize,\n    height: defaultSize,\n    viewBox: defaultViewBox,\n    stroke: defaultColor,\n    fill: defaultColor,\n    draw,\n    name: null,\n    src: null,\n    alt: null,\n    style: null,\n    class: null\n  };\n}\n\nconst defaultConfig = {\n  roots: [],\n  padding: 16,\n  editable: false,\n  editing: null,\n  checkboxes: false,\n  dragAndDrop: false,\n  keyboardNavigation: false,\n  openedIcon: createDefaultIcon(defaultOpenDraw),\n  closedIcon: createDefaultIcon(defaultCloseDraw)\n};\n\nfunction useLevel(props) {\n  const state = inject(\"state\");\n  const config = state.config;\n  const nodes = state.nodes;\n  const depth = ref(props.depth);\n  const parent = ref(props.parentId);\n  const level = computed(() => {\n    const res = [];\n\n    if (lodash_isnil(parent.value) && config.value.roots && depth.value === 0) {\n      for (const id2 of config.value.roots) {\n        addNode(id2, res);\n      }\n\n      return res;\n    }\n\n    if (!lodash_isnil(parent.value)) {\n      const node = nodes.value[parent.value];\n\n      if (node && node.children && node.children.length > 0) {\n        for (const id2 of node.children) {\n          addNode(id2, res);\n        }\n      }\n\n      return res;\n    }\n\n    return [];\n  });\n\n  const addNode = (id2, a) => {\n    if (nodes.value[id2]) {\n      nodes.value[id2].id = id2;\n      nodes.value[id2].parent = parent.value;\n      a.push(nodes.value[id2]);\n    }\n  };\n\n  const id = computed(() => {\n    return new Date().valueOf();\n  });\n  const padding = computed(() => {\n    if (depth.value === 0) {\n      return 0;\n    }\n\n    if (lodash_isnil(config.value.padding)) {\n      return defaultConfig.padding;\n    }\n\n    const p = lodash_tointeger(config.value.padding);\n    return p >= 0 ? p : 0;\n  });\n  const style = computed(() => {\n    return {\n      \"padding-left\": `${padding.value}px`,\n      \"list-style\": \"none\"\n    };\n  });\n  return {\n    id,\n    level,\n    padding,\n    style\n  };\n}\n\nvar _export_sfc = (sfc, props) => {\n  for (const [key, val] of props) {\n    sfc[key] = val;\n  }\n\n  return sfc;\n};\n\nconst _sfc_main$4 = {\n  components: {\n    TreeNode: defineAsyncComponent(() => Promise.resolve().then(function () {\n      return TreeNode$1;\n    }))\n  },\n  props: {\n    depth: {\n      required: true,\n      type: Number,\n      default: null\n    },\n    parentId: {\n      type: String,\n      default: null\n    }\n  },\n\n  setup(props) {\n    return __spreadValues({}, useLevel(props));\n  }\n\n};\n\nfunction _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TreeNode = resolveComponent(\"TreeNode\");\n\n  return openBlock(), createBlock(\"ul\", {\n    class: \"tree-level\",\n    id: _ctx.id,\n    style: _ctx.style\n  }, [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.level, (item, index) => {\n    return openBlock(), createBlock(_component_TreeNode, {\n      key: item.id,\n      node: item,\n      depth: $props.depth,\n      index,\n      \"parent-id\": $props.parentId\n    }, {\n      \"loading-slot\": withCtx(props => [renderSlot(_ctx.$slots, \"loading-slot\", {\n        node: props.node\n      })]),\n      \"before-input\": withCtx(props => [renderSlot(_ctx.$slots, \"before-input\", {\n        node: props.node\n      })]),\n      \"after-input\": withCtx(props => [renderSlot(_ctx.$slots, \"after-input\", {\n        node: props.node\n      })]),\n      _: 2\n    }, 1032, [\"node\", \"depth\", \"index\", \"parent-id\"]);\n  }), 128))], 12, [\"id\"]);\n}\n\nvar TreeLevel = /* @__PURE__ */_export_sfc(_sfc_main$4, [[\"render\", _sfc_render$4]]);\n\nvar TreeLevel$1 = /* @__PURE__ */Object.freeze({\n  __proto__: null,\n  [Symbol.toStringTag]: \"Module\",\n  \"default\": TreeLevel\n});\nvar INFINITY = 1 / 0;\nvar symbolTag = \"[object Symbol]\";\nvar freeGlobal = typeof commonjsGlobal == \"object\" && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\nvar freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\nvar root = freeGlobal || freeSelf || Function(\"return this\")();\nvar objectProto = Object.prototype;\nvar idCounter = 0;\nvar objectToString = objectProto.toString;\nvar Symbol$1 = root.Symbol;\nvar symbolProto = Symbol$1 ? Symbol$1.prototype : void 0,\n    symbolToString = symbolProto ? symbolProto.toString : void 0;\n\nfunction baseToString(value) {\n  if (typeof value == \"string\") {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : \"\";\n  }\n\n  var result = value + \"\";\n  return result == \"0\" && 1 / value == -INFINITY ? \"-0\" : result;\n}\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == \"object\";\n}\n\nfunction isSymbol(value) {\n  return typeof value == \"symbol\" || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n\nfunction toString(value) {\n  return value == null ? \"\" : baseToString(value);\n}\n\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nvar lodash_uniqueid = uniqueId;\nconst states = new Map();\n\nfunction createState(props) {\n  const {\n    nodes,\n    config\n  } = toRefs(props);\n  const state = {\n    id: lodash_uniqueid(),\n    nodes: computed(() => nodes.value),\n    config: computed(() => config.value),\n    focusable: ref(null),\n    focusFunc: new Map(),\n    dragged: ref({\n      node: null,\n      element: null,\n      wrapper: null,\n      parentId: null\n    })\n  };\n  states.set(state.id, state);\n  return state.id;\n}\n\nfunction useTree(props, emit) {\n  const element = ref(null);\n  const id = createState(props);\n  const state = states.get(id);\n  provide(\"emitter\", emit);\n  provide(\"state\", state);\n  const style = computed(() => {\n    return {\n      \"display\": \"flex\",\n      \"align-items\": \"center\"\n    };\n  });\n  onUnmounted(() => {\n    states.delete(id);\n  });\n  return {\n    element,\n    style\n  };\n}\n\nvar material_css_vue_type_style_index_0_src_lang = \"\";\nconst _sfc_main$3 = {\n  components: {\n    TreeLevel\n  },\n  props: {\n    nodes: {\n      required: true,\n      type: Object,\n      default: () => {}\n    },\n    config: {\n      required: true,\n      type: Object,\n      default: () => {}\n    }\n  },\n\n  setup(props, {\n    emit\n  }) {\n    return __spreadValues({}, useTree(props, emit));\n  },\n\n  methods: {\n    setElementRef(elt) {\n      this.element = elt;\n    }\n\n  }\n};\n\nfunction _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TreeLevel = resolveComponent(\"TreeLevel\");\n\n  return openBlock(), createBlock(\"div\", {\n    class: \"tree\",\n    ref: $options.setElementRef,\n    style: _ctx.style\n  }, [createVNode(_component_TreeLevel, mergeProps({\n    depth: 0,\n    \"parent-id\": null\n  }, _ctx.$attrs), {\n    \"loading-slot\": withCtx(props => [renderSlot(_ctx.$slots, \"loading-slot\", {\n      node: props.node\n    })]),\n    \"before-input\": withCtx(props => [renderSlot(_ctx.$slots, \"before-input\", {\n      node: props.node\n    })]),\n    \"after-input\": withCtx(props => [renderSlot(_ctx.$slots, \"after-input\", {\n      node: props.node\n    })]),\n    _: 1\n  }, 16)], 4);\n}\n\nvar Tree = /* @__PURE__ */_export_sfc(_sfc_main$3, [[\"render\", _sfc_render$3]]);\n\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\n\nvar lodash_eq = eq;\nconst nodeEvents = {\n  opened: \"nodeOpened\",\n  closed: \"nodeClosed\",\n  focus: \"nodeFocus\",\n  toggle: \"nodeToggle\",\n  blur: \"nodeBlur\",\n  edit: \"nodeEdit\"\n};\nconst checkboxEvents = {\n  checked: \"nodeChecked\",\n  unchecked: \"nodeUnchecked\"\n};\nconst dragEvents = {\n  start: \"nodeDragstart\",\n  end: \"nodeDragend\",\n  enter: \"nodeDragenter\",\n  leave: \"nodeDragleave\",\n  over: \"nodeOver\",\n  drop: \"nodeDrop\"\n};\n\nfunction useInput(cmn) {\n  const node = cmn.node;\n  const config = cmn.config;\n  const wrapper = cmn.wrapper;\n  const editable = cmn.editable;\n  const editing = cmn.editing;\n  const input = ref(null);\n  const text = computed({\n    get: () => node.value.text,\n    set: val => node.value.text = val\n  });\n  const editableClass = computed(() => {\n    if (!cmn.editable.value) {\n      return null;\n    }\n\n    return config.value.editableClass ? config.value.editableClass : \"editable\";\n  });\n  watch(editing, (nv, ov) => {\n    if (!lodash_eq(nv, ov) && nv) {\n      nextTick(() => {\n        input.value.focus();\n      });\n    }\n  });\n\n  const focusInput = () => {\n    if (editable.value && !cmn.disabled.value) {\n      config.value.editing = node.value.id;\n      cmn.root.emit(nodeEvents.edit, node.value);\n    }\n  };\n\n  const esc = event => {\n    if (editable.value && config.value.keyboardNavigation) {\n      cmn.blur(event);\n      wrapper.value.focus();\n    }\n  };\n\n  const enter = () => {\n    if (editable.value && !cmn.disabled.value && config.value.keyboardNavigation) {\n      focusInput();\n    }\n  };\n\n  return {\n    text,\n    input,\n    editing,\n    editable,\n    editableClass,\n    focusInput,\n    esc,\n    enter\n  };\n}\n\nfunction useIcon(props) {\n  const {\n    isLeaf\n  } = toRefs(props);\n  const state = inject(\"state\");\n  const config = state.config;\n  const openedIcon = computed(() => {\n    return config.value.openedIcon || defaultConfig.openedIcon;\n  });\n  const closedIcon = computed(() => {\n    return config.value.closedIcon || defaultConfig.closedIcon;\n  });\n  const hasIcons = computed(() => {\n    return !lodash_isnil(closedIcon.value) && !lodash_isnil(openedIcon.value);\n  });\n  const useIcons = computed(() => {\n    return !isLeaf.value && hasIcons.value;\n  });\n  const fakeNodeStyle = computed(() => {\n    return {\n      width: `${defaultSize}px`,\n      height: `${defaultSize}px`\n    };\n  });\n  return {\n    hasIcons,\n    openedIcon,\n    closedIcon,\n    useIcons,\n    fakeNodeStyle\n  };\n}\n\nconst _sfc_main$2 = {\n  props: {\n    icon: {\n      required: true,\n      type: Object\n    }\n  }\n};\n\nfunction _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return $props.icon.type === \"shape\" ? (openBlock(), createBlock(\"svg\", {\n    key: 0,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: $props.icon.width,\n    height: $props.icon.height,\n    class: $props.icon.class,\n    style: $props.icon.style,\n    viewBox: $props.icon.viewBox\n  }, [createVNode(\"path\", {\n    d: $props.icon.draw,\n    fill: $props.icon.fill,\n    stroke: $props.icon.stroke,\n    \"stroke-width\": $props.icon.strokeWidth\n  }, null, 8, [\"d\", \"fill\", \"stroke\", \"stroke-width\"])], 14, [\"width\", \"height\", \"viewBox\"])) : $props.icon.type === \"class\" ? (openBlock(), createBlock(\"i\", {\n    key: 1,\n    class: $props.icon.class,\n    style: $props.icon.style\n  }, null, 6)) : $props.icon.type === \"img\" ? (openBlock(), createBlock(\"img\", {\n    key: 2,\n    src: $props.icon.src,\n    alt: $props.icon.alt,\n    width: $props.icon.width,\n    height: $props.icon.height,\n    class: $props.icon.class,\n    style: $props.icon.style\n  }, null, 14, [\"src\", \"alt\", \"width\", \"height\"])) : createCommentVNode(\"\", true);\n}\n\nvar Icon = /* @__PURE__ */_export_sfc(_sfc_main$2, [[\"render\", _sfc_render$2]]);\n\nconst _sfc_main$1 = {\n  components: {\n    Icon\n  },\n  props: {\n    isLeaf: {\n      type: Boolean\n    },\n    opened: {\n      type: Boolean\n    }\n  },\n\n  setup(props) {\n    return useIcon(props);\n  },\n\n  computed: {\n    fakeIcon() {\n      return createDefaultIcon(null);\n    }\n\n  }\n};\n\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Icon = resolveComponent(\"Icon\");\n\n  return _ctx.useIcons ? (openBlock(), createBlock(Fragment, {\n    key: 0\n  }, [$props.opened ? (openBlock(), createBlock(_component_Icon, {\n    key: 0,\n    icon: _ctx.openedIcon\n  }, null, 8, [\"icon\"])) : (openBlock(), createBlock(_component_Icon, {\n    key: 1,\n    icon: _ctx.closedIcon\n  }, null, 8, [\"icon\"]))], 64)) : (openBlock(), createBlock(_component_Icon, {\n    key: 1,\n    icon: $options.fakeIcon\n  }, null, 8, [\"icon\"]));\n}\n\nvar TreeIcons = /* @__PURE__ */_export_sfc(_sfc_main$1, [[\"render\", _sfc_render$1]]);\n\nfunction useNode(cmn, props) {\n  const state = cmn.state;\n  const node = cmn.node;\n  const config = cmn.config;\n  const wrapper = cmn.wrapper;\n  const editing = cmn.editing;\n  const level = ref(null);\n  const depth = ref(props.depth);\n  const index = ref(props.index);\n\n  if (!node.value.children) {\n    node.value.children = ref([]).value;\n  }\n\n  const id = computed(() => {\n    return hasNode.value && node.value.id;\n  });\n  const hasNode = computed(() => {\n    return !lodash_isnil(node);\n  });\n  const hasState = computed(() => {\n    return hasNode.value && !lodash_isnil(node.value.state);\n  });\n  const roots = computed(() => {\n    return config.value.roots || [];\n  });\n  const children = computed(() => {\n    return lodash_isnil(node.value.children) ? [] : node.value.children;\n  });\n  const nbChildren = computed(() => {\n    return children.value.length;\n  });\n  const hasChildren = computed(() => {\n    return nbChildren.value > 0;\n  });\n  const opened = computed(() => {\n    return hasState.value && node.value.state.opened || false;\n  });\n  const isLoading = computed(() => {\n    return hasState.value && node.value.state.isLoading || false;\n  });\n  const displayLoading = computed(() => {\n    return isLoading.value && !hasChildren.value && opened.value;\n  });\n  const displayLevel = computed(() => {\n    return !isLoading.value && hasChildren.value && opened.value;\n  });\n  const style = computed(() => {\n    return {\n      display: \"flex\"\n    };\n  });\n  const disabledClass = computed(() => {\n    if (!cmn.disabled.value) {\n      return null;\n    }\n\n    return config.value.disabledClass ? config.value.disabledClass : defaultDisabledClass;\n  });\n  const hideIcons = computed(() => {\n    for (const id2 of roots.value) {\n      const node2 = state.nodes.value[id2];\n\n      if (node2.children && node2.children.length > 0) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n  const isLeaf = computed(() => {\n    if (config.value.leaves instanceof Array) {\n      const arr = config.value.leaves;\n      const idx = arr.indexOf(id.value);\n      return Number.isFinite(idx) && idx >= 0;\n    }\n\n    return !hasChildren.value;\n  });\n  const isFocusable = computed(() => {\n    return state.focusable.value === node.value.id;\n  });\n  const tabIndex = computed(() => {\n    if (depth.value === 0 && index.value === 0 && lodash_isnil(state.focusable.value)) {\n      return 0;\n    }\n\n    return isFocusable.value ? 0 : -1;\n  });\n  const focusClass = computed(() => {\n    if (!cmn.focused.value) {\n      return null;\n    }\n\n    return config.value.focusClass ? config.value.focusClass : defaultFocusClass;\n  });\n  watch(opened, nv => {\n    nv ? cmn.root.emit(nodeEvents.opened, node.value) : cmn.root.emit(nodeEvents.closed, node.value);\n  });\n\n  const focus = () => {\n    state.focusable.value = node.value.id;\n    nextTick(() => {\n      wrapper.value.focus();\n      cmn.focused.value = true;\n      cmn.root.emit(nodeEvents.focus, node.value);\n    });\n  };\n\n  const toggle = () => {\n    node.value.state.opened = !node.value.state.opened;\n    cmn.root.emit(nodeEvents.toggle, node.value);\n  };\n\n  const right = () => {\n    if (!editing.value && config.value.keyboardNavigation) {\n      node.value.state.opened = true;\n    }\n  };\n\n  const left = () => {\n    if (!editing.value && config.value.keyboardNavigation) {\n      node.value.state.opened = false;\n    }\n  };\n\n  const move = getFunc => {\n    const id2 = getFunc(node.value.id);\n\n    if (!lodash_isnil(id2) && config.value.keyboardNavigation) {\n      const f = state.focusFunc.get(id2);\n\n      if (f) {\n        f();\n      }\n    }\n  };\n\n  const up = () => move(prevVisible);\n\n  const prev = id2 => {\n    const n = state.nodes.value[id2];\n\n    if (n.children && n.children.length > 0) {\n      const idx = n.children.indexOf(node.value.id);\n      const prev2 = n.children[idx - 1];\n\n      if (!lodash_isnil(prev2)) {\n        return lastChild(prev2);\n      }\n    }\n\n    return n.id;\n  };\n\n  const prevVisible = id2 => {\n    const n = state.nodes.value[id2];\n    const p = state.nodes.value[n.parent];\n\n    if (!p) {\n      const idx = roots.value.indexOf(id2);\n      return lastChild(roots.value[idx - 1]) || null;\n    }\n\n    return prev(p.id);\n  };\n\n  const lastChild = id2 => {\n    const n = state.nodes.value[id2];\n\n    if (!n) {\n      return null;\n    }\n\n    if (n.children && n.children.length > 0 && n.state.opened) {\n      const last = n.children[n.children.length - 1];\n\n      if (!lodash_isnil(last)) {\n        return lastChild(last);\n      }\n    }\n\n    return n.id;\n  };\n\n  const down = () => move(nextVisible);\n\n  const nextRoot = id2 => {\n    const idx = roots.value.indexOf(id2);\n    return roots.value[idx + 1] || null;\n  };\n\n  const next = (p, id2) => {\n    const idx = p.children.indexOf(id2);\n\n    if (p.children[idx + 1]) {\n      return p.children[idx + 1];\n    }\n\n    if (p.parent) {\n      return next(state.nodes.value[p.parent], p.id);\n    }\n\n    return nextRoot(p.id);\n  };\n\n  const nextVisible = id2 => {\n    const n = state.nodes.value[id2];\n\n    if (n.children && n.children.length > 0 && n.state.opened) {\n      return n.children[0];\n    }\n\n    const p = state.nodes.value[n.parent];\n    return p ? next(p, id2) : nextRoot(id2);\n  };\n\n  onMounted(() => {\n    state.focusFunc.set(node.value.id, focus);\n  });\n  onUnmounted(() => {\n    state.focusFunc.delete(node.value.id);\n  });\n  return {\n    id,\n    level,\n    style,\n    opened,\n    hasNode,\n    hideIcons,\n    hasChildren,\n    tabIndex,\n    focusClass,\n    disabledClass,\n    isLeaf,\n    isLoading,\n    displayLoading,\n    displayLevel,\n    right,\n    left,\n    up,\n    down,\n    toggle,\n    focus,\n    prevVisible,\n    nextVisible\n  };\n}\n\nfunction ensureState(node) {\n  if (lodash_isnil(node.state)) {\n    node.state = {};\n    node.state.checked = false;\n  }\n}\n\nfunction auto(node, nodes) {\n  const check = v => {\n    node.value.state.checked = v;\n  };\n\n  const setIndeterminate = v => {\n    node.value.state.indeterminate = v;\n  };\n\n  const ensureCheck = () => {\n    ensureState(node.value);\n\n    if (node.value.state.checked || !hasChildren.value) {\n      setIndeterminate(false);\n    }\n  };\n\n  const children = computed(() => {\n    return node.value.children;\n  });\n  const hasChildren = computed(() => {\n    return !lodash_isnil(children.value) && children.value.length > 0 || false;\n  });\n  const states2 = computed(() => {\n    if (!hasChildren.value) {\n      return [];\n    }\n\n    const res = [];\n\n    for (const c of children.value) {\n      const child = nodes.value[c];\n\n      if (!lodash_isnil(child)) {\n        ensureState(child);\n        res.push(child.state);\n      }\n    }\n\n    return res;\n  });\n  const checked = computed(() => {\n    return node.value.state.checked;\n  });\n  const indeterminate = computed(() => {\n    return node.value.state.indeterminate;\n  });\n  const allChecked = computed(() => {\n    return states2.value.every(x => x.checked);\n  });\n  const noneChecked = computed(() => {\n    return states2.value.every(x => !x.checked);\n  });\n  const someChecked = computed(() => {\n    return !allChecked.value && !noneChecked.value;\n  });\n  const someIndeterminate = computed(() => {\n    return states2.value.some(x => x.indeterminate);\n  });\n\n  const recurseDown = n => {\n    if (!lodash_isnil(n.state) && !lodash_isnil(n.children)) {\n      for (const id of n.children) {\n        const child = nodes.value[id];\n\n        if (!lodash_isnil(child)) {\n          ensureState(child);\n          child.state.indeterminate = false;\n          child.state.checked = n.state.checked;\n          recurseDown(child);\n        }\n      }\n    }\n  };\n\n  const updateState = () => {\n    if (!hasChildren.value) {\n      return;\n    }\n\n    if (noneChecked.value && !someIndeterminate.value) {\n      setIndeterminate(false);\n      check(false);\n      return;\n    }\n\n    if (allChecked.value) {\n      setIndeterminate(false);\n      check(true);\n      return;\n    }\n\n    setIndeterminate(true);\n    check(false);\n  };\n\n  const rebuild = () => {\n    ensureCheck();\n    recurseDown(node.value);\n    updateState();\n  };\n\n  const click = () => {\n    setIndeterminate(false);\n    check(!node.value.state.checked);\n  };\n\n  return {\n    checked,\n    indeterminate,\n    noneChecked,\n    someChecked,\n    allChecked,\n    someIndeterminate,\n    click,\n    rebuild,\n    updateState,\n    recurseDown\n  };\n}\n\nfunction manual(node) {\n  const checked = computed(() => {\n    return node.value.state.checked;\n  });\n  const indeterminate = computed(() => {\n    return node.value.state.indeterminate || false;\n  });\n  const noneChecked = computed(() => {\n    return false;\n  });\n  const someChecked = computed(() => {\n    return false;\n  });\n  const allChecked = computed(() => {\n    return false;\n  });\n  const someIndeterminate = computed(() => {\n    return false;\n  });\n\n  const click = () => {\n    node.value.state.checked = !node.value.state.checked;\n  };\n\n  const rebuild = () => {};\n\n  const updateState = () => {};\n\n  const recurseDown = () => {};\n\n  return {\n    checked,\n    indeterminate,\n    noneChecked,\n    someChecked,\n    allChecked,\n    someIndeterminate,\n    click,\n    rebuild,\n    updateState,\n    recurseDown\n  };\n}\n\nvar checkMode;\n\n(function (checkMode2) {\n  checkMode2[checkMode2[\"auto\"] = 0] = \"auto\";\n  checkMode2[checkMode2[\"manual\"] = 1] = \"manual\";\n})(checkMode || (checkMode = {}));\n\nfunction useCheckBox(cmn) {\n  const node = cmn.node;\n  const config = cmn.config;\n  const nodes = cmn.state.nodes;\n  const mode = computed(() => {\n    return config.value.checkMode === checkMode.auto ? checkMode.auto : checkMode.manual;\n  });\n  const factory = computed(() => {\n    return mode.value === checkMode.auto ? auto(node, nodes) : manual(node);\n  });\n  watch(mode, (nv, ov) => {\n    if (!lodash_eq(nv, ov)) {\n      factory.value.rebuild();\n    }\n  });\n  const checked = computed(() => {\n    return factory.value.checked.value;\n  });\n  const indeterminate = computed(() => {\n    return factory.value.indeterminate.value;\n  });\n  const hasCheckbox = computed(() => {\n    return config.value.checkboxes || defaultConfig.checkboxes;\n  });\n  const checkedClass = computed(() => {\n    return [factory.value.checked.value ? config.value.checkedClass ? config.value.checkedClass : \"checked\" : null, factory.value.indeterminate.value ? config.value.indeterminateClass ? config.value.indeterminateClass : \"indeterminate\" : null];\n  });\n  const allChecked = computed(() => {\n    return factory.value.allChecked.value;\n  });\n  const noneChecked = computed(() => {\n    return factory.value.noneChecked.value;\n  });\n  const someChecked = computed(() => {\n    return factory.value.someChecked.value;\n  });\n  const someIndeterminate = computed(() => {\n    return factory.value.someIndeterminate.value;\n  });\n  watch([allChecked, noneChecked, someChecked], ([ov1, ov2, ov3]) => {\n    if (ov1 || ov2 || ov3) {\n      factory.value.updateState();\n    }\n  }, {\n    deep: true\n  });\n  watch(someIndeterminate, (nv, ov) => {\n    if (!lodash_eq(nv, ov)) {\n      factory.value.updateState();\n    }\n  }, {\n    deep: true\n  });\n\n  const clickCheckbox = () => {\n    if (!cmn.disabled.value) {\n      factory.value.click();\n      factory.value.recurseDown(node.value);\n      cmn.root.emit(checked.value ? checkboxEvents.checked : checkboxEvents.unchecked, node.value);\n    }\n  };\n\n  const space = () => {\n    if (!cmn.editing.value && config.value.checkboxes && config.value.keyboardNavigation) {\n      clickCheckbox();\n    }\n  };\n\n  return {\n    checked,\n    hasCheckbox,\n    indeterminate,\n    checkedClass,\n    space,\n    clickCheckbox\n  };\n}\n\nvar DragPosition;\n\n(function (DragPosition2) {\n  DragPosition2[DragPosition2[\"over\"] = 0] = \"over\";\n  DragPosition2[DragPosition2[\"in\"] = 1] = \"in\";\n  DragPosition2[DragPosition2[\"under\"] = 2] = \"under\";\n})(DragPosition || (DragPosition = {}));\n\nfunction useDragAndDrop(cmn, props) {\n  const node = cmn.node;\n  const state = cmn.state;\n  const parentId = ref(props.parentId);\n  const config = cmn.config;\n  const nodes = state.nodes;\n  const dragged = ref(state.dragged);\n  const wrapper = cmn.wrapper;\n  const element = ref(null);\n  const pos = ref(null);\n  const draggable = computed(() => {\n    return !cmn.disabled.value && config.value.dragAndDrop && node.value.state.draggable !== false;\n  });\n  const droppable = computed(() => {\n    return config.value.dragAndDrop && node.value.state.dropable !== false;\n  });\n  const isDragging = computed(() => {\n    return !lodash_isnil(dragged.value) && !lodash_isnil(dragged.value.node);\n  });\n  const isSameNode = computed(() => {\n    return isDragging.value && dragged.value.node.id === node.value.id;\n  });\n  const isSameParent = computed(() => {\n    return targetParent.value === draggedParent.value;\n  });\n  const draggedParent = computed(() => {\n    return !isDragging.value || !dragged.value.parentId ? null : getParent(dragged.value.parentId);\n  });\n  const draggedLvl = computed(() => {\n    return getLevel(draggedParent.value);\n  });\n  const targetParent = computed(() => {\n    return !lodash_isnil(parentId.value) ? getParent(parentId.value) : null;\n  });\n  const targetLvl = computed(() => {\n    return getLevel(targetParent.value);\n  });\n  const dragContain = computed(() => {\n    if (!isDragging.value || !dragged.value.wrapper) {\n      return false;\n    }\n\n    return dragged.value.element.contains(element.value);\n  });\n  const context = computed(() => {\n    return {\n      dragged: dragged.value,\n      target: {\n        node: node.value.id,\n        element: element.value,\n        wrapper: wrapper.value,\n        parentId: parentId.value\n      }\n    };\n  });\n  const dragClass = computed(() => {\n    return [draggable.value ? defaultDragClass : null, droppable.value ? defaultDropClass : null, pos.value === 0 ? defaultOverClass : null, pos.value === 1 ? defaultInClass : null, pos.value === 2 ? defaultUnderClass : null];\n  });\n\n  const getParent = id => {\n    return !lodash_isnil(id) ? nodes.value[id] : null;\n  };\n\n  const getLevel = node2 => {\n    return !lodash_isnil(node2) ? node2.children : config.value.roots;\n  };\n\n  const getDataTransfer = evt => {\n    if (!evt || !evt.dataTransfer) return null;\n    const jsonPayload = evt.dataTransfer.getData(\"application/json\");\n    if (jsonPayload) return JSON.parse(jsonPayload);\n    return evt.dataTransfer.getData(\"text/plain\");\n  };\n\n  const isExternalSrc = evt => {\n    var _a, _b;\n\n    return ((_b = (_a = evt == null ? void 0 : evt.dataTransfer) == null ? void 0 : _a.items) == null ? void 0 : _b.length) > 0;\n  };\n\n  const dragstart = evt => {\n    if (draggable.value) {\n      dragged.value = {\n        node: node.value,\n        element: element.value,\n        wrapper: wrapper.value,\n        parentId: parentId.value\n      };\n      cmn.root.emit(dragEvents.start, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n    }\n  };\n\n  const eventContext = evt => {\n    return {\n      evt,\n      external: isExternalSrc(evt),\n      dataTransfer: getDataTransfer(evt)\n    };\n  };\n\n  const dragend = evt => {\n    cmn.root.emit(dragEvents.end, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n    dragged.value = null;\n  };\n\n  const dragenter = evt => {\n    cmn.root.emit(dragEvents.enter, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n  };\n\n  const dragleave = evt => {\n    cmn.root.emit(dragEvents.leave, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n    pos.value = null;\n  };\n\n  const dragover = evt => {\n    if (!isSameNode.value && !dragContain.value) {\n      const external = isExternalSrc(evt);\n      if (!isDragging.value && !external) return;\n      cmn.root.emit(dragEvents.over, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n\n      if (!external && wrapper.value) {\n        const factor = 0.3;\n        const y = evt.pageY;\n        const r = wrapper.value.getBoundingClientRect();\n        const midPoint = r.top + r.height / 2;\n        const midRange = [midPoint - r.height * factor, midPoint + r.height * factor];\n        const idx = draggedLvl.value.indexOf(node.value.id);\n        const idxDrag = draggedLvl.value.indexOf(dragged.value.node.id);\n\n        if (y < midRange[0] && (!isSameParent.value || isSameParent.value && idx !== idxDrag + 1)) {\n          pos.value = 0;\n        } else if (y > midRange[1] && (!isSameParent.value || isSameParent.value && idx !== idxDrag - 1)) {\n          pos.value = 2;\n        } else {\n          pos.value = 1;\n        }\n      }\n    }\n  };\n\n  const drop = evt => {\n    if (!isSameNode.value && !dragContain.value) {\n      switch (pos.value) {\n        case 0:\n          {\n            insertAt(0);\n            break;\n          }\n\n        case 2:\n          {\n            insertAt(1);\n            break;\n          }\n\n        case 1:\n          {\n            insertIn();\n          }\n      }\n    }\n\n    cmn.root.emit(dragEvents.drop, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n    pos.value = null;\n  };\n\n  const insertAt = i => {\n    if (isDragging.value) {\n      const dragId = dragged.value.node.id;\n      const dragIdx = draggedLvl.value.indexOf(dragId);\n      draggedLvl.value.splice(dragIdx, 1);\n      const targetId = node.value.id;\n      const idx = targetLvl.value.indexOf(targetId);\n      targetLvl.value.splice(idx + i, 0, dragId);\n    }\n  };\n\n  const insertIn = () => {\n    if (isDragging.value && droppable.value) {\n      const dragId = dragged.value.node.id;\n\n      if (draggedLvl.value) {\n        const idx = draggedLvl.value.indexOf(dragId);\n        draggedLvl.value.splice(idx, 1);\n      }\n\n      node.value.children.unshift(dragId);\n    }\n  };\n\n  return {\n    pos,\n    element,\n    dragClass,\n    draggable,\n    droppable,\n    dragstart,\n    dragend,\n    dragenter,\n    dragleave,\n    dragover,\n    drop\n  };\n}\n\nfunction useCommon(props) {\n  const {\n    node\n  } = toRefs(props);\n  const state = inject(\"state\");\n  const config = state.config;\n  const wrapper = ref(null);\n  const focused = ref(false);\n  const root2 = {\n    emit: inject(\"emitter\")\n  };\n  ensureState(node.value);\n  const hasNode = computed(() => {\n    return !lodash_isnil(node);\n  });\n  const hasConfig = computed(() => {\n    return !lodash_isnil(config.value);\n  });\n  const hasState = computed(() => {\n    return hasNode.value && !lodash_isnil(node.value.state);\n  });\n  const disabled = computed(() => {\n    return config.value.disabled || node.value.state.disabled;\n  });\n  const editable = computed(() => {\n    return config.value.editable && (!lodash_isnil(node.value.state.editable) ? node.value.state.editable : true) || defaultConfig.editable;\n  });\n  const editing = computed(() => {\n    return editable.value && config.value.editing === node.value.id;\n  });\n\n  const blur = e => {\n    if (e.type === \"blur\") {\n      const current = e.currentTarget;\n      const related = e.relatedTarget;\n\n      if (!current.contains(related)) {\n        config.value.editing = null;\n        focused.value = false;\n        root2.emit(nodeEvents.blur, e, node.value);\n      }\n    }\n  };\n\n  return {\n    state,\n    node,\n    config,\n    hasNode,\n    hasState,\n    hasConfig,\n    disabled,\n    wrapper,\n    editable,\n    editing,\n    focused,\n    blur,\n    root: root2\n  };\n}\n\nconst _sfc_main = {\n  components: {\n    TreeLevel: defineAsyncComponent(() => Promise.resolve().then(function () {\n      return TreeLevel$1;\n    })),\n    TreeIcons\n  },\n  emits: [...Object.values(nodeEvents), ...Object.values(checkboxEvents), ...Object.values(dragEvents)],\n  props: {\n    depth: {\n      required: true,\n      type: Number\n    },\n    index: {\n      required: true,\n      type: Number\n    },\n    node: {\n      required: true,\n      type: Object\n    },\n    parentId: {\n      default: null,\n      type: String\n    }\n  },\n\n  setup(props) {\n    const cmn = useCommon(props);\n    return __spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, cmn), useInput(cmn)), useCheckBox(cmn)), useNode(cmn, props)), useDragAndDrop(cmn, props));\n  },\n\n  computed: {\n    nodeClass() {\n      return [this.focusClass, this.disabledClass, this.checkedClass, this.editableClass, this.dragClass];\n    }\n\n  },\n  methods: {\n    setWrapperRef(e) {\n      this.wrapper = e;\n    },\n\n    setLevelRef(e) {\n      this.level = e;\n    },\n\n    setElementRef(e) {\n      this.element = e;\n    },\n\n    setInputRef(e) {\n      this.input = e;\n    }\n\n  }\n};\nconst _hoisted_1 = {\n  class: \"input-wrapper\"\n};\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TreeIcons = resolveComponent(\"TreeIcons\");\n\n  const _component_TreeLevel = resolveComponent(\"TreeLevel\");\n\n  return _ctx.hasNode ? (openBlock(), createBlock(\"li\", {\n    key: 0,\n    class: \"tree-node\",\n    ref: $options.setElementRef,\n    \"aria-expanded\": _ctx.opened,\n    onKeydown: [_cache[14] || (_cache[14] = withKeys(withModifiers((...args) => _ctx.enter && _ctx.enter(...args), [\"stop\"]), [\"enter\"])), _cache[15] || (_cache[15] = withKeys(withModifiers((...args) => _ctx.esc && _ctx.esc(...args), [\"stop\"]), [\"esc\"])), _cache[16] || (_cache[16] = withKeys(withModifiers((...args) => _ctx.space && _ctx.space(...args), [\"stop\"]), [\"space\"])), _cache[17] || (_cache[17] = withKeys(withModifiers((...args) => _ctx.left && _ctx.left(...args), [\"stop\"]), [\"left\"])), _cache[18] || (_cache[18] = withKeys(withModifiers((...args) => _ctx.right && _ctx.right(...args), [\"stop\"]), [\"right\"])), _cache[19] || (_cache[19] = withKeys(withModifiers((...args) => _ctx.up && _ctx.up(...args), [\"stop\"]), [\"up\"])), _cache[20] || (_cache[20] = withKeys(withModifiers((...args) => _ctx.down && _ctx.down(...args), [\"stop\"]), [\"down\"]))]\n  }, [createVNode(\"div\", {\n    class: [\"node-wrapper\", $options.nodeClass],\n    style: _ctx.style,\n    ref: $options.setWrapperRef,\n    draggable: _ctx.draggable,\n    tabindex: _ctx.tabIndex,\n    onBlur: _cache[6] || (_cache[6] = (...args) => _ctx.blur && _ctx.blur(...args)),\n    onClick: _cache[7] || (_cache[7] = withModifiers((...args) => _ctx.focus && _ctx.focus(...args), [\"stop\"])),\n    onDragstart: _cache[8] || (_cache[8] = withModifiers((...args) => _ctx.dragstart && _ctx.dragstart(...args), [\"stop\"])),\n    onDragend: _cache[9] || (_cache[9] = withModifiers((...args) => _ctx.dragend && _ctx.dragend(...args), [\"stop\"])),\n    onDragenter: _cache[10] || (_cache[10] = withModifiers((...args) => _ctx.dragenter && _ctx.dragenter(...args), [\"prevent\", \"stop\"])),\n    onDragleave: _cache[11] || (_cache[11] = withModifiers((...args) => _ctx.dragleave && _ctx.dragleave(...args), [\"prevent\", \"stop\"])),\n    onDragover: _cache[12] || (_cache[12] = withModifiers((...args) => _ctx.dragover && _ctx.dragover(...args), [\"prevent\", \"stop\"])),\n    onDrop: _cache[13] || (_cache[13] = withModifiers((...args) => _ctx.drop && _ctx.drop(...args), [\"prevent\", \"stop\"]))\n  }, [!_ctx.hideIcons ? (openBlock(), createBlock(\"div\", {\n    key: 0,\n    class: \"icon-wrapper\",\n    onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.toggle && _ctx.toggle(...args), [\"stop\"]))\n  }, [createVNode(_component_TreeIcons, {\n    \"is-leaf\": _ctx.isLeaf,\n    opened: _ctx.opened\n  }, null, 8, [\"is-leaf\", \"opened\"])])) : createCommentVNode(\"\", true), _ctx.hasCheckbox ? (openBlock(), createBlock(\"div\", {\n    key: 1,\n    class: [\"checkbox-wrapper\", _ctx.checkedClass],\n    onClick: _cache[2] || (_cache[2] = withModifiers((...args) => _ctx.clickCheckbox && _ctx.clickCheckbox(...args), [\"stop\"]))\n  }, [createVNode(\"input\", {\n    type: \"checkbox\",\n    tabindex: \"-1\",\n    class: \"node-checkbox\",\n    checked: _ctx.checked,\n    disabled: _ctx.disabled,\n    indeterminate: _ctx.indeterminate\n  }, null, 8, [\"checked\", \"disabled\", \"indeterminate\"])], 2)) : createCommentVNode(\"\", true), renderSlot(_ctx.$slots, \"before-input\", {\n    node: $props.node\n  }), createVNode(\"div\", _hoisted_1, [_ctx.editing ? withDirectives((openBlock(), createBlock(\"input\", {\n    key: 0,\n    type: \"text\",\n    tabindex: \"0\",\n    class: \"node-input\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.text = $event),\n    ref: $options.setInputRef,\n    disabled: _ctx.disabled,\n    onBlur: _cache[4] || (_cache[4] = (...args) => _ctx.blur && _ctx.blur(...args))\n  }, null, 40, [\"disabled\"])), [[vModelText, _ctx.text]]) : (openBlock(), createBlock(\"span\", {\n    key: 1,\n    class: \"node-text\",\n    onDblclick: _cache[5] || (_cache[5] = (...args) => _ctx.focusInput && _ctx.focusInput(...args))\n  }, toDisplayString(_ctx.text), 33))]), renderSlot(_ctx.$slots, \"after-input\", {\n    node: $props.node\n  })], 46, [\"draggable\", \"tabindex\"]), _ctx.displayLoading ? renderSlot(_ctx.$slots, \"loading-slot\", {\n    key: 0,\n    node: $props.node\n  }) : createCommentVNode(\"\", true), createVNode(Transition, {\n    name: \"level\"\n  }, {\n    default: withCtx(() => [_ctx.displayLevel ? (openBlock(), createBlock(_component_TreeLevel, {\n      key: 0,\n      \"parent-id\": _ctx.id,\n      depth: $props.depth + 1,\n      ref: $options.setLevelRef\n    }, {\n      \"loading-slot\": withCtx(props => [renderSlot(_ctx.$slots, \"loading-slot\", {\n        node: props.node\n      })]),\n      \"before-input\": withCtx(props => [renderSlot(_ctx.$slots, \"before-input\", {\n        node: props.node\n      })]),\n      \"after-input\": withCtx(props => [renderSlot(_ctx.$slots, \"after-input\", {\n        node: props.node\n      })]),\n      _: 1\n    }, 8, [\"parent-id\", \"depth\"])) : createCommentVNode(\"\", true)]),\n    _: 1\n  })], 40, [\"aria-expanded\"])) : createCommentVNode(\"\", true);\n}\n\nvar TreeNode = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nvar TreeNode$1 = /* @__PURE__ */Object.freeze({\n  __proto__: null,\n  [Symbol.toStringTag]: \"Module\",\n  \"default\": TreeNode\n});\nexport { Tree as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","inject","ref","computed","defineAsyncComponent","resolveComponent","openBlock","createBlock","Fragment","renderList","withCtx","renderSlot","toRefs","provide","onUnmounted","createVNode","mergeProps","watch","nextTick","createCommentVNode","onMounted","withKeys","withModifiers","withDirectives","vModelText","toDisplayString","Transition","commonjsGlobal","globalThis","window","global","self","isNil","lodash_isnil","INFINITY$1","MAX_INTEGER","NAN","symbolTag$1","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","objectProto$1","objectToString$1","toString","isObject","type","isObjectLike$1","isSymbol$1","toFinite","toNumber","sign","toInteger","result","remainder","other","valueOf","replace","isBinary","test","slice","lodash_tointeger","defaultSize","defaultDisabledClass","defaultFocusClass","defaultDragClass","defaultDropClass","defaultOverClass","defaultInClass","defaultUnderClass","defaultViewBox","defaultOpenDraw","defaultCloseDraw","defaultColor","createDefaultIcon","draw","width","height","viewBox","stroke","fill","name","src","alt","style","class","defaultConfig","roots","padding","editable","editing","checkboxes","dragAndDrop","keyboardNavigation","openedIcon","closedIcon","useLevel","props","state","config","nodes","depth","parent","parentId","level","res","id2","addNode","node","children","length","id","push","Date","p","_export_sfc","sfc","val","_sfc_main$4","components","TreeNode","Promise","resolve","then","TreeNode$1","required","Number","default","String","setup","_sfc_render$4","_ctx","_cache","$props","$setup","$data","$options","_component_TreeNode","item","index","$slots","_","TreeLevel","TreeLevel$1","freeze","__proto__","Symbol","toStringTag","INFINITY","symbolTag","freeGlobal","freeSelf","root","Function","objectProto","idCounter","objectToString","Symbol$1","symbolProto","symbolToString","baseToString","isSymbol","isObjectLike","uniqueId","prefix","lodash_uniqueid","states","Map","createState","focusable","focusFunc","dragged","element","wrapper","set","useTree","emit","get","delete","material_css_vue_type_style_index_0_src_lang","_sfc_main$3","methods","setElementRef","elt","_sfc_render$3","_component_TreeLevel","$attrs","Tree","eq","lodash_eq","nodeEvents","opened","closed","focus","toggle","blur","edit","checkboxEvents","checked","unchecked","dragEvents","start","end","enter","leave","over","drop","useInput","cmn","input","text","editableClass","nv","ov","focusInput","disabled","esc","event","useIcon","isLeaf","hasIcons","useIcons","fakeNodeStyle","_sfc_main$2","icon","_sfc_render$2","xmlns","d","strokeWidth","Icon","_sfc_main$1","Boolean","fakeIcon","_sfc_render$1","_component_Icon","TreeIcons","useNode","hasNode","hasState","nbChildren","hasChildren","isLoading","displayLoading","displayLevel","display","disabledClass","hideIcons","node2","leaves","Array","arr","idx","indexOf","isFinite","isFocusable","tabIndex","focusClass","focused","right","left","move","getFunc","f","up","prevVisible","prev","n","prev2","lastChild","last","down","nextVisible","nextRoot","next","ensureState","auto","check","v","setIndeterminate","indeterminate","ensureCheck","states2","c","child","allChecked","every","x","noneChecked","someChecked","someIndeterminate","some","recurseDown","updateState","rebuild","click","manual","checkMode","checkMode2","useCheckBox","mode","factory","hasCheckbox","checkedClass","indeterminateClass","ov1","ov2","ov3","deep","clickCheckbox","space","DragPosition","DragPosition2","useDragAndDrop","pos","draggable","droppable","dropable","isDragging","isSameNode","isSameParent","targetParent","draggedParent","getParent","draggedLvl","getLevel","targetLvl","dragContain","contains","context","target","dragClass","getDataTransfer","evt","dataTransfer","jsonPayload","getData","JSON","parse","isExternalSrc","_a","_b","items","dragstart","eventContext","external","dragend","dragenter","dragleave","dragover","factor","y","pageY","r","getBoundingClientRect","midPoint","top","midRange","idxDrag","insertAt","insertIn","i","dragId","dragIdx","splice","targetId","unshift","useCommon","root2","hasConfig","e","current","currentTarget","related","relatedTarget","_sfc_main","emits","values","nodeClass","setWrapperRef","setLevelRef","setInputRef","_hoisted_1","_sfc_render","_component_TreeIcons","onKeydown","args","tabindex","onBlur","onClick","onDragstart","onDragend","onDragenter","onDragleave","onDragover","onDrop","$event","onDblclick"],"sources":["Q:/Projects/DFM v2/node_modules/vue3-treeview/dist/vue3-treeview.es.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport { inject, ref, computed, defineAsyncComponent, resolveComponent, openBlock, createBlock, Fragment, renderList, withCtx, renderSlot, toRefs, provide, onUnmounted, createVNode, mergeProps, watch, nextTick, createCommentVNode, onMounted, withKeys, withModifiers, withDirectives, vModelText, toDisplayString, Transition } from \"vue\";\nvar commonjsGlobal = typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : {};\nfunction isNil(value) {\n  return value == null;\n}\nvar lodash_isnil = isNil;\nvar INFINITY$1 = 1 / 0, MAX_INTEGER = 17976931348623157e292, NAN = 0 / 0;\nvar symbolTag$1 = \"[object Symbol]\";\nvar reTrim = /^\\s+|\\s+$/g;\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\nvar reIsBinary = /^0b[01]+$/i;\nvar reIsOctal = /^0o[0-7]+$/i;\nvar freeParseInt = parseInt;\nvar objectProto$1 = Object.prototype;\nvar objectToString$1 = objectProto$1.toString;\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == \"object\" || type == \"function\");\n}\nfunction isObjectLike$1(value) {\n  return !!value && typeof value == \"object\";\n}\nfunction isSymbol$1(value) {\n  return typeof value == \"symbol\" || isObjectLike$1(value) && objectToString$1.call(value) == symbolTag$1;\n}\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY$1 || value === -INFINITY$1) {\n    var sign = value < 0 ? -1 : 1;\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\nfunction toInteger(value) {\n  var result = toFinite(value), remainder = result % 1;\n  return result === result ? remainder ? result - remainder : result : 0;\n}\nfunction toNumber(value) {\n  if (typeof value == \"number\") {\n    return value;\n  }\n  if (isSymbol$1(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n    value = isObject(other) ? other + \"\" : other;\n  }\n  if (typeof value != \"string\") {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, \"\");\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\nvar lodash_tointeger = toInteger;\nconst defaultSize = 8;\nconst defaultDisabledClass = \"disabled\";\nconst defaultFocusClass = \"focused\";\nconst defaultDragClass = \"draggable\";\nconst defaultDropClass = \"droppable\";\nconst defaultOverClass = \"node-over\";\nconst defaultInClass = \"node-in\";\nconst defaultUnderClass = \"node-under\";\nconst defaultViewBox = \"0 0 123.958 123.959\";\nconst defaultOpenDraw = `M117.979,28.017h-112c-5.3,0-8,6.4-4.2,10.2l56,56c2.3,2.3,6.1,2.3,8.401,0l56-56C125.979,34.417,123.279,28.017,117.979,28.017z`;\nconst defaultCloseDraw = `M38.217,1.779c-3.8-3.8-10.2-1.1-10.2,4.2v112c0,5.3,6.4,8,10.2,4.2l56-56c2.3-2.301,2.3-6.101,0-8.401L38.217,1.779z`;\nconst defaultColor = \"black\";\nfunction createDefaultIcon(draw) {\n  return {\n    type: \"shape\",\n    width: defaultSize,\n    height: defaultSize,\n    viewBox: defaultViewBox,\n    stroke: defaultColor,\n    fill: defaultColor,\n    draw,\n    name: null,\n    src: null,\n    alt: null,\n    style: null,\n    class: null\n  };\n}\nconst defaultConfig = {\n  roots: [],\n  padding: 16,\n  editable: false,\n  editing: null,\n  checkboxes: false,\n  dragAndDrop: false,\n  keyboardNavigation: false,\n  openedIcon: createDefaultIcon(defaultOpenDraw),\n  closedIcon: createDefaultIcon(defaultCloseDraw)\n};\nfunction useLevel(props) {\n  const state = inject(\"state\");\n  const config = state.config;\n  const nodes = state.nodes;\n  const depth = ref(props.depth);\n  const parent = ref(props.parentId);\n  const level = computed(() => {\n    const res = [];\n    if (lodash_isnil(parent.value) && config.value.roots && depth.value === 0) {\n      for (const id2 of config.value.roots) {\n        addNode(id2, res);\n      }\n      return res;\n    }\n    if (!lodash_isnil(parent.value)) {\n      const node = nodes.value[parent.value];\n      if (node && node.children && node.children.length > 0) {\n        for (const id2 of node.children) {\n          addNode(id2, res);\n        }\n      }\n      return res;\n    }\n    return [];\n  });\n  const addNode = (id2, a) => {\n    if (nodes.value[id2]) {\n      nodes.value[id2].id = id2;\n      nodes.value[id2].parent = parent.value;\n      a.push(nodes.value[id2]);\n    }\n  };\n  const id = computed(() => {\n    return new Date().valueOf();\n  });\n  const padding = computed(() => {\n    if (depth.value === 0) {\n      return 0;\n    }\n    if (lodash_isnil(config.value.padding)) {\n      return defaultConfig.padding;\n    }\n    const p = lodash_tointeger(config.value.padding);\n    return p >= 0 ? p : 0;\n  });\n  const style = computed(() => {\n    return {\n      \"padding-left\": `${padding.value}px`,\n      \"list-style\": \"none\"\n    };\n  });\n  return {\n    id,\n    level,\n    padding,\n    style\n  };\n}\nvar _export_sfc = (sfc, props) => {\n  for (const [key, val] of props) {\n    sfc[key] = val;\n  }\n  return sfc;\n};\nconst _sfc_main$4 = {\n  components: {\n    TreeNode: defineAsyncComponent(() => Promise.resolve().then(function() {\n      return TreeNode$1;\n    }))\n  },\n  props: {\n    depth: {\n      required: true,\n      type: Number,\n      default: null\n    },\n    parentId: {\n      type: String,\n      default: null\n    }\n  },\n  setup(props) {\n    return __spreadValues({}, useLevel(props));\n  }\n};\nfunction _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TreeNode = resolveComponent(\"TreeNode\");\n  return openBlock(), createBlock(\"ul\", {\n    class: \"tree-level\",\n    id: _ctx.id,\n    style: _ctx.style\n  }, [\n    (openBlock(true), createBlock(Fragment, null, renderList(_ctx.level, (item, index) => {\n      return openBlock(), createBlock(_component_TreeNode, {\n        key: item.id,\n        node: item,\n        depth: $props.depth,\n        index,\n        \"parent-id\": $props.parentId\n      }, {\n        \"loading-slot\": withCtx((props) => [\n          renderSlot(_ctx.$slots, \"loading-slot\", {\n            node: props.node\n          })\n        ]),\n        \"before-input\": withCtx((props) => [\n          renderSlot(_ctx.$slots, \"before-input\", {\n            node: props.node\n          })\n        ]),\n        \"after-input\": withCtx((props) => [\n          renderSlot(_ctx.$slots, \"after-input\", {\n            node: props.node\n          })\n        ]),\n        _: 2\n      }, 1032, [\"node\", \"depth\", \"index\", \"parent-id\"]);\n    }), 128))\n  ], 12, [\"id\"]);\n}\nvar TreeLevel = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"render\", _sfc_render$4]]);\nvar TreeLevel$1 = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  [Symbol.toStringTag]: \"Module\",\n  \"default\": TreeLevel\n});\nvar INFINITY = 1 / 0;\nvar symbolTag = \"[object Symbol]\";\nvar freeGlobal = typeof commonjsGlobal == \"object\" && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\nvar freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\nvar root = freeGlobal || freeSelf || Function(\"return this\")();\nvar objectProto = Object.prototype;\nvar idCounter = 0;\nvar objectToString = objectProto.toString;\nvar Symbol$1 = root.Symbol;\nvar symbolProto = Symbol$1 ? Symbol$1.prototype : void 0, symbolToString = symbolProto ? symbolProto.toString : void 0;\nfunction baseToString(value) {\n  if (typeof value == \"string\") {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : \"\";\n  }\n  var result = value + \"\";\n  return result == \"0\" && 1 / value == -INFINITY ? \"-0\" : result;\n}\nfunction isObjectLike(value) {\n  return !!value && typeof value == \"object\";\n}\nfunction isSymbol(value) {\n  return typeof value == \"symbol\" || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\nfunction toString(value) {\n  return value == null ? \"\" : baseToString(value);\n}\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\nvar lodash_uniqueid = uniqueId;\nconst states = new Map();\nfunction createState(props) {\n  const { nodes, config } = toRefs(props);\n  const state = {\n    id: lodash_uniqueid(),\n    nodes: computed(() => nodes.value),\n    config: computed(() => config.value),\n    focusable: ref(null),\n    focusFunc: new Map(),\n    dragged: ref({\n      node: null,\n      element: null,\n      wrapper: null,\n      parentId: null\n    })\n  };\n  states.set(state.id, state);\n  return state.id;\n}\nfunction useTree(props, emit) {\n  const element = ref(null);\n  const id = createState(props);\n  const state = states.get(id);\n  provide(\"emitter\", emit);\n  provide(\"state\", state);\n  const style = computed(() => {\n    return {\n      \"display\": \"flex\",\n      \"align-items\": \"center\"\n    };\n  });\n  onUnmounted(() => {\n    states.delete(id);\n  });\n  return {\n    element,\n    style\n  };\n}\nvar material_css_vue_type_style_index_0_src_lang = \"\";\nconst _sfc_main$3 = {\n  components: {\n    TreeLevel\n  },\n  props: {\n    nodes: {\n      required: true,\n      type: Object,\n      default: () => {\n      }\n    },\n    config: {\n      required: true,\n      type: Object,\n      default: () => {\n      }\n    }\n  },\n  setup(props, { emit }) {\n    return __spreadValues({}, useTree(props, emit));\n  },\n  methods: {\n    setElementRef(elt) {\n      this.element = elt;\n    }\n  }\n};\nfunction _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TreeLevel = resolveComponent(\"TreeLevel\");\n  return openBlock(), createBlock(\"div\", {\n    class: \"tree\",\n    ref: $options.setElementRef,\n    style: _ctx.style\n  }, [\n    createVNode(_component_TreeLevel, mergeProps({\n      depth: 0,\n      \"parent-id\": null\n    }, _ctx.$attrs), {\n      \"loading-slot\": withCtx((props) => [\n        renderSlot(_ctx.$slots, \"loading-slot\", {\n          node: props.node\n        })\n      ]),\n      \"before-input\": withCtx((props) => [\n        renderSlot(_ctx.$slots, \"before-input\", {\n          node: props.node\n        })\n      ]),\n      \"after-input\": withCtx((props) => [\n        renderSlot(_ctx.$slots, \"after-input\", {\n          node: props.node\n        })\n      ]),\n      _: 1\n    }, 16)\n  ], 4);\n}\nvar Tree = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"render\", _sfc_render$3]]);\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\nvar lodash_eq = eq;\nconst nodeEvents = {\n  opened: \"nodeOpened\",\n  closed: \"nodeClosed\",\n  focus: \"nodeFocus\",\n  toggle: \"nodeToggle\",\n  blur: \"nodeBlur\",\n  edit: \"nodeEdit\"\n};\nconst checkboxEvents = {\n  checked: \"nodeChecked\",\n  unchecked: \"nodeUnchecked\"\n};\nconst dragEvents = {\n  start: \"nodeDragstart\",\n  end: \"nodeDragend\",\n  enter: \"nodeDragenter\",\n  leave: \"nodeDragleave\",\n  over: \"nodeOver\",\n  drop: \"nodeDrop\"\n};\nfunction useInput(cmn) {\n  const node = cmn.node;\n  const config = cmn.config;\n  const wrapper = cmn.wrapper;\n  const editable = cmn.editable;\n  const editing = cmn.editing;\n  const input = ref(null);\n  const text = computed({\n    get: () => node.value.text,\n    set: (val) => node.value.text = val\n  });\n  const editableClass = computed(() => {\n    if (!cmn.editable.value) {\n      return null;\n    }\n    return config.value.editableClass ? config.value.editableClass : \"editable\";\n  });\n  watch(editing, (nv, ov) => {\n    if (!lodash_eq(nv, ov) && nv) {\n      nextTick(() => {\n        input.value.focus();\n      });\n    }\n  });\n  const focusInput = () => {\n    if (editable.value && !cmn.disabled.value) {\n      config.value.editing = node.value.id;\n      cmn.root.emit(nodeEvents.edit, node.value);\n    }\n  };\n  const esc = (event) => {\n    if (editable.value && config.value.keyboardNavigation) {\n      cmn.blur(event);\n      wrapper.value.focus();\n    }\n  };\n  const enter = () => {\n    if (editable.value && !cmn.disabled.value && config.value.keyboardNavigation) {\n      focusInput();\n    }\n  };\n  return {\n    text,\n    input,\n    editing,\n    editable,\n    editableClass,\n    focusInput,\n    esc,\n    enter\n  };\n}\nfunction useIcon(props) {\n  const { isLeaf } = toRefs(props);\n  const state = inject(\"state\");\n  const config = state.config;\n  const openedIcon = computed(() => {\n    return config.value.openedIcon || defaultConfig.openedIcon;\n  });\n  const closedIcon = computed(() => {\n    return config.value.closedIcon || defaultConfig.closedIcon;\n  });\n  const hasIcons = computed(() => {\n    return !lodash_isnil(closedIcon.value) && !lodash_isnil(openedIcon.value);\n  });\n  const useIcons = computed(() => {\n    return !isLeaf.value && hasIcons.value;\n  });\n  const fakeNodeStyle = computed(() => {\n    return {\n      width: `${defaultSize}px`,\n      height: `${defaultSize}px`\n    };\n  });\n  return {\n    hasIcons,\n    openedIcon,\n    closedIcon,\n    useIcons,\n    fakeNodeStyle\n  };\n}\nconst _sfc_main$2 = {\n  props: {\n    icon: {\n      required: true,\n      type: Object\n    }\n  }\n};\nfunction _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return $props.icon.type === \"shape\" ? (openBlock(), createBlock(\"svg\", {\n    key: 0,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: $props.icon.width,\n    height: $props.icon.height,\n    class: $props.icon.class,\n    style: $props.icon.style,\n    viewBox: $props.icon.viewBox\n  }, [\n    createVNode(\"path\", {\n      d: $props.icon.draw,\n      fill: $props.icon.fill,\n      stroke: $props.icon.stroke,\n      \"stroke-width\": $props.icon.strokeWidth\n    }, null, 8, [\"d\", \"fill\", \"stroke\", \"stroke-width\"])\n  ], 14, [\"width\", \"height\", \"viewBox\"])) : $props.icon.type === \"class\" ? (openBlock(), createBlock(\"i\", {\n    key: 1,\n    class: $props.icon.class,\n    style: $props.icon.style\n  }, null, 6)) : $props.icon.type === \"img\" ? (openBlock(), createBlock(\"img\", {\n    key: 2,\n    src: $props.icon.src,\n    alt: $props.icon.alt,\n    width: $props.icon.width,\n    height: $props.icon.height,\n    class: $props.icon.class,\n    style: $props.icon.style\n  }, null, 14, [\"src\", \"alt\", \"width\", \"height\"])) : createCommentVNode(\"\", true);\n}\nvar Icon = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"render\", _sfc_render$2]]);\nconst _sfc_main$1 = {\n  components: {\n    Icon\n  },\n  props: {\n    isLeaf: {\n      type: Boolean\n    },\n    opened: {\n      type: Boolean\n    }\n  },\n  setup(props) {\n    return useIcon(props);\n  },\n  computed: {\n    fakeIcon() {\n      return createDefaultIcon(null);\n    }\n  }\n};\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Icon = resolveComponent(\"Icon\");\n  return _ctx.useIcons ? (openBlock(), createBlock(Fragment, { key: 0 }, [\n    $props.opened ? (openBlock(), createBlock(_component_Icon, {\n      key: 0,\n      icon: _ctx.openedIcon\n    }, null, 8, [\"icon\"])) : (openBlock(), createBlock(_component_Icon, {\n      key: 1,\n      icon: _ctx.closedIcon\n    }, null, 8, [\"icon\"]))\n  ], 64)) : (openBlock(), createBlock(_component_Icon, {\n    key: 1,\n    icon: $options.fakeIcon\n  }, null, 8, [\"icon\"]));\n}\nvar TreeIcons = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", _sfc_render$1]]);\nfunction useNode(cmn, props) {\n  const state = cmn.state;\n  const node = cmn.node;\n  const config = cmn.config;\n  const wrapper = cmn.wrapper;\n  const editing = cmn.editing;\n  const level = ref(null);\n  const depth = ref(props.depth);\n  const index = ref(props.index);\n  if (!node.value.children) {\n    node.value.children = ref([]).value;\n  }\n  const id = computed(() => {\n    return hasNode.value && node.value.id;\n  });\n  const hasNode = computed(() => {\n    return !lodash_isnil(node);\n  });\n  const hasState = computed(() => {\n    return hasNode.value && !lodash_isnil(node.value.state);\n  });\n  const roots = computed(() => {\n    return config.value.roots || [];\n  });\n  const children = computed(() => {\n    return lodash_isnil(node.value.children) ? [] : node.value.children;\n  });\n  const nbChildren = computed(() => {\n    return children.value.length;\n  });\n  const hasChildren = computed(() => {\n    return nbChildren.value > 0;\n  });\n  const opened = computed(() => {\n    return hasState.value && node.value.state.opened || false;\n  });\n  const isLoading = computed(() => {\n    return hasState.value && node.value.state.isLoading || false;\n  });\n  const displayLoading = computed(() => {\n    return isLoading.value && !hasChildren.value && opened.value;\n  });\n  const displayLevel = computed(() => {\n    return !isLoading.value && hasChildren.value && opened.value;\n  });\n  const style = computed(() => {\n    return {\n      display: \"flex\"\n    };\n  });\n  const disabledClass = computed(() => {\n    if (!cmn.disabled.value) {\n      return null;\n    }\n    return config.value.disabledClass ? config.value.disabledClass : defaultDisabledClass;\n  });\n  const hideIcons = computed(() => {\n    for (const id2 of roots.value) {\n      const node2 = state.nodes.value[id2];\n      if (node2.children && node2.children.length > 0) {\n        return false;\n      }\n    }\n    return true;\n  });\n  const isLeaf = computed(() => {\n    if (config.value.leaves instanceof Array) {\n      const arr = config.value.leaves;\n      const idx = arr.indexOf(id.value);\n      return Number.isFinite(idx) && idx >= 0;\n    }\n    return !hasChildren.value;\n  });\n  const isFocusable = computed(() => {\n    return state.focusable.value === node.value.id;\n  });\n  const tabIndex = computed(() => {\n    if (depth.value === 0 && index.value === 0 && lodash_isnil(state.focusable.value)) {\n      return 0;\n    }\n    return isFocusable.value ? 0 : -1;\n  });\n  const focusClass = computed(() => {\n    if (!cmn.focused.value) {\n      return null;\n    }\n    return config.value.focusClass ? config.value.focusClass : defaultFocusClass;\n  });\n  watch(opened, (nv) => {\n    nv ? cmn.root.emit(nodeEvents.opened, node.value) : cmn.root.emit(nodeEvents.closed, node.value);\n  });\n  const focus = () => {\n    state.focusable.value = node.value.id;\n    nextTick(() => {\n      wrapper.value.focus();\n      cmn.focused.value = true;\n      cmn.root.emit(nodeEvents.focus, node.value);\n    });\n  };\n  const toggle = () => {\n    node.value.state.opened = !node.value.state.opened;\n    cmn.root.emit(nodeEvents.toggle, node.value);\n  };\n  const right = () => {\n    if (!editing.value && config.value.keyboardNavigation) {\n      node.value.state.opened = true;\n    }\n  };\n  const left = () => {\n    if (!editing.value && config.value.keyboardNavigation) {\n      node.value.state.opened = false;\n    }\n  };\n  const move = (getFunc) => {\n    const id2 = getFunc(node.value.id);\n    if (!lodash_isnil(id2) && config.value.keyboardNavigation) {\n      const f = state.focusFunc.get(id2);\n      if (f) {\n        f();\n      }\n    }\n  };\n  const up = () => move(prevVisible);\n  const prev = (id2) => {\n    const n = state.nodes.value[id2];\n    if (n.children && n.children.length > 0) {\n      const idx = n.children.indexOf(node.value.id);\n      const prev2 = n.children[idx - 1];\n      if (!lodash_isnil(prev2)) {\n        return lastChild(prev2);\n      }\n    }\n    return n.id;\n  };\n  const prevVisible = (id2) => {\n    const n = state.nodes.value[id2];\n    const p = state.nodes.value[n.parent];\n    if (!p) {\n      const idx = roots.value.indexOf(id2);\n      return lastChild(roots.value[idx - 1]) || null;\n    }\n    return prev(p.id);\n  };\n  const lastChild = (id2) => {\n    const n = state.nodes.value[id2];\n    if (!n) {\n      return null;\n    }\n    if (n.children && n.children.length > 0 && n.state.opened) {\n      const last = n.children[n.children.length - 1];\n      if (!lodash_isnil(last)) {\n        return lastChild(last);\n      }\n    }\n    return n.id;\n  };\n  const down = () => move(nextVisible);\n  const nextRoot = (id2) => {\n    const idx = roots.value.indexOf(id2);\n    return roots.value[idx + 1] || null;\n  };\n  const next = (p, id2) => {\n    const idx = p.children.indexOf(id2);\n    if (p.children[idx + 1]) {\n      return p.children[idx + 1];\n    }\n    if (p.parent) {\n      return next(state.nodes.value[p.parent], p.id);\n    }\n    return nextRoot(p.id);\n  };\n  const nextVisible = (id2) => {\n    const n = state.nodes.value[id2];\n    if (n.children && n.children.length > 0 && n.state.opened) {\n      return n.children[0];\n    }\n    const p = state.nodes.value[n.parent];\n    return p ? next(p, id2) : nextRoot(id2);\n  };\n  onMounted(() => {\n    state.focusFunc.set(node.value.id, focus);\n  });\n  onUnmounted(() => {\n    state.focusFunc.delete(node.value.id);\n  });\n  return {\n    id,\n    level,\n    style,\n    opened,\n    hasNode,\n    hideIcons,\n    hasChildren,\n    tabIndex,\n    focusClass,\n    disabledClass,\n    isLeaf,\n    isLoading,\n    displayLoading,\n    displayLevel,\n    right,\n    left,\n    up,\n    down,\n    toggle,\n    focus,\n    prevVisible,\n    nextVisible\n  };\n}\nfunction ensureState(node) {\n  if (lodash_isnil(node.state)) {\n    node.state = {};\n    node.state.checked = false;\n  }\n}\nfunction auto(node, nodes) {\n  const check = (v) => {\n    node.value.state.checked = v;\n  };\n  const setIndeterminate = (v) => {\n    node.value.state.indeterminate = v;\n  };\n  const ensureCheck = () => {\n    ensureState(node.value);\n    if (node.value.state.checked || !hasChildren.value) {\n      setIndeterminate(false);\n    }\n  };\n  const children = computed(() => {\n    return node.value.children;\n  });\n  const hasChildren = computed(() => {\n    return !lodash_isnil(children.value) && children.value.length > 0 || false;\n  });\n  const states2 = computed(() => {\n    if (!hasChildren.value) {\n      return [];\n    }\n    const res = [];\n    for (const c of children.value) {\n      const child = nodes.value[c];\n      if (!lodash_isnil(child)) {\n        ensureState(child);\n        res.push(child.state);\n      }\n    }\n    return res;\n  });\n  const checked = computed(() => {\n    return node.value.state.checked;\n  });\n  const indeterminate = computed(() => {\n    return node.value.state.indeterminate;\n  });\n  const allChecked = computed(() => {\n    return states2.value.every((x) => x.checked);\n  });\n  const noneChecked = computed(() => {\n    return states2.value.every((x) => !x.checked);\n  });\n  const someChecked = computed(() => {\n    return !allChecked.value && !noneChecked.value;\n  });\n  const someIndeterminate = computed(() => {\n    return states2.value.some((x) => x.indeterminate);\n  });\n  const recurseDown = (n) => {\n    if (!lodash_isnil(n.state) && !lodash_isnil(n.children)) {\n      for (const id of n.children) {\n        const child = nodes.value[id];\n        if (!lodash_isnil(child)) {\n          ensureState(child);\n          child.state.indeterminate = false;\n          child.state.checked = n.state.checked;\n          recurseDown(child);\n        }\n      }\n    }\n  };\n  const updateState = () => {\n    if (!hasChildren.value) {\n      return;\n    }\n    if (noneChecked.value && !someIndeterminate.value) {\n      setIndeterminate(false);\n      check(false);\n      return;\n    }\n    if (allChecked.value) {\n      setIndeterminate(false);\n      check(true);\n      return;\n    }\n    setIndeterminate(true);\n    check(false);\n  };\n  const rebuild = () => {\n    ensureCheck();\n    recurseDown(node.value);\n    updateState();\n  };\n  const click = () => {\n    setIndeterminate(false);\n    check(!node.value.state.checked);\n  };\n  return {\n    checked,\n    indeterminate,\n    noneChecked,\n    someChecked,\n    allChecked,\n    someIndeterminate,\n    click,\n    rebuild,\n    updateState,\n    recurseDown\n  };\n}\nfunction manual(node) {\n  const checked = computed(() => {\n    return node.value.state.checked;\n  });\n  const indeterminate = computed(() => {\n    return node.value.state.indeterminate || false;\n  });\n  const noneChecked = computed(() => {\n    return false;\n  });\n  const someChecked = computed(() => {\n    return false;\n  });\n  const allChecked = computed(() => {\n    return false;\n  });\n  const someIndeterminate = computed(() => {\n    return false;\n  });\n  const click = () => {\n    node.value.state.checked = !node.value.state.checked;\n  };\n  const rebuild = () => {\n  };\n  const updateState = () => {\n  };\n  const recurseDown = () => {\n  };\n  return {\n    checked,\n    indeterminate,\n    noneChecked,\n    someChecked,\n    allChecked,\n    someIndeterminate,\n    click,\n    rebuild,\n    updateState,\n    recurseDown\n  };\n}\nvar checkMode;\n(function(checkMode2) {\n  checkMode2[checkMode2[\"auto\"] = 0] = \"auto\";\n  checkMode2[checkMode2[\"manual\"] = 1] = \"manual\";\n})(checkMode || (checkMode = {}));\nfunction useCheckBox(cmn) {\n  const node = cmn.node;\n  const config = cmn.config;\n  const nodes = cmn.state.nodes;\n  const mode = computed(() => {\n    return config.value.checkMode === checkMode.auto ? checkMode.auto : checkMode.manual;\n  });\n  const factory = computed(() => {\n    return mode.value === checkMode.auto ? auto(node, nodes) : manual(node);\n  });\n  watch(mode, (nv, ov) => {\n    if (!lodash_eq(nv, ov)) {\n      factory.value.rebuild();\n    }\n  });\n  const checked = computed(() => {\n    return factory.value.checked.value;\n  });\n  const indeterminate = computed(() => {\n    return factory.value.indeterminate.value;\n  });\n  const hasCheckbox = computed(() => {\n    return config.value.checkboxes || defaultConfig.checkboxes;\n  });\n  const checkedClass = computed(() => {\n    return [\n      factory.value.checked.value ? config.value.checkedClass ? config.value.checkedClass : \"checked\" : null,\n      factory.value.indeterminate.value ? config.value.indeterminateClass ? config.value.indeterminateClass : \"indeterminate\" : null\n    ];\n  });\n  const allChecked = computed(() => {\n    return factory.value.allChecked.value;\n  });\n  const noneChecked = computed(() => {\n    return factory.value.noneChecked.value;\n  });\n  const someChecked = computed(() => {\n    return factory.value.someChecked.value;\n  });\n  const someIndeterminate = computed(() => {\n    return factory.value.someIndeterminate.value;\n  });\n  watch([allChecked, noneChecked, someChecked], ([ov1, ov2, ov3]) => {\n    if (ov1 || ov2 || ov3) {\n      factory.value.updateState();\n    }\n  }, { deep: true });\n  watch(someIndeterminate, (nv, ov) => {\n    if (!lodash_eq(nv, ov)) {\n      factory.value.updateState();\n    }\n  }, { deep: true });\n  const clickCheckbox = () => {\n    if (!cmn.disabled.value) {\n      factory.value.click();\n      factory.value.recurseDown(node.value);\n      cmn.root.emit(checked.value ? checkboxEvents.checked : checkboxEvents.unchecked, node.value);\n    }\n  };\n  const space = () => {\n    if (!cmn.editing.value && config.value.checkboxes && config.value.keyboardNavigation) {\n      clickCheckbox();\n    }\n  };\n  return {\n    checked,\n    hasCheckbox,\n    indeterminate,\n    checkedClass,\n    space,\n    clickCheckbox\n  };\n}\nvar DragPosition;\n(function(DragPosition2) {\n  DragPosition2[DragPosition2[\"over\"] = 0] = \"over\";\n  DragPosition2[DragPosition2[\"in\"] = 1] = \"in\";\n  DragPosition2[DragPosition2[\"under\"] = 2] = \"under\";\n})(DragPosition || (DragPosition = {}));\nfunction useDragAndDrop(cmn, props) {\n  const node = cmn.node;\n  const state = cmn.state;\n  const parentId = ref(props.parentId);\n  const config = cmn.config;\n  const nodes = state.nodes;\n  const dragged = ref(state.dragged);\n  const wrapper = cmn.wrapper;\n  const element = ref(null);\n  const pos = ref(null);\n  const draggable = computed(() => {\n    return !cmn.disabled.value && config.value.dragAndDrop && node.value.state.draggable !== false;\n  });\n  const droppable = computed(() => {\n    return config.value.dragAndDrop && node.value.state.dropable !== false;\n  });\n  const isDragging = computed(() => {\n    return !lodash_isnil(dragged.value) && !lodash_isnil(dragged.value.node);\n  });\n  const isSameNode = computed(() => {\n    return isDragging.value && dragged.value.node.id === node.value.id;\n  });\n  const isSameParent = computed(() => {\n    return targetParent.value === draggedParent.value;\n  });\n  const draggedParent = computed(() => {\n    return !isDragging.value || !dragged.value.parentId ? null : getParent(dragged.value.parentId);\n  });\n  const draggedLvl = computed(() => {\n    return getLevel(draggedParent.value);\n  });\n  const targetParent = computed(() => {\n    return !lodash_isnil(parentId.value) ? getParent(parentId.value) : null;\n  });\n  const targetLvl = computed(() => {\n    return getLevel(targetParent.value);\n  });\n  const dragContain = computed(() => {\n    if (!isDragging.value || !dragged.value.wrapper) {\n      return false;\n    }\n    return dragged.value.element.contains(element.value);\n  });\n  const context = computed(() => {\n    return {\n      dragged: dragged.value,\n      target: {\n        node: node.value.id,\n        element: element.value,\n        wrapper: wrapper.value,\n        parentId: parentId.value\n      }\n    };\n  });\n  const dragClass = computed(() => {\n    return [\n      draggable.value ? defaultDragClass : null,\n      droppable.value ? defaultDropClass : null,\n      pos.value === 0 ? defaultOverClass : null,\n      pos.value === 1 ? defaultInClass : null,\n      pos.value === 2 ? defaultUnderClass : null\n    ];\n  });\n  const getParent = (id) => {\n    return !lodash_isnil(id) ? nodes.value[id] : null;\n  };\n  const getLevel = (node2) => {\n    return !lodash_isnil(node2) ? node2.children : config.value.roots;\n  };\n  const getDataTransfer = (evt) => {\n    if (!evt || !evt.dataTransfer)\n      return null;\n    const jsonPayload = evt.dataTransfer.getData(\"application/json\");\n    if (jsonPayload)\n      return JSON.parse(jsonPayload);\n    return evt.dataTransfer.getData(\"text/plain\");\n  };\n  const isExternalSrc = (evt) => {\n    var _a, _b;\n    return ((_b = (_a = evt == null ? void 0 : evt.dataTransfer) == null ? void 0 : _a.items) == null ? void 0 : _b.length) > 0;\n  };\n  const dragstart = (evt) => {\n    if (draggable.value) {\n      dragged.value = {\n        node: node.value,\n        element: element.value,\n        wrapper: wrapper.value,\n        parentId: parentId.value\n      };\n      cmn.root.emit(dragEvents.start, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n    }\n  };\n  const eventContext = (evt) => {\n    return {\n      evt,\n      external: isExternalSrc(evt),\n      dataTransfer: getDataTransfer(evt)\n    };\n  };\n  const dragend = (evt) => {\n    cmn.root.emit(dragEvents.end, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n    dragged.value = null;\n  };\n  const dragenter = (evt) => {\n    cmn.root.emit(dragEvents.enter, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n  };\n  const dragleave = (evt) => {\n    cmn.root.emit(dragEvents.leave, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n    pos.value = null;\n  };\n  const dragover = (evt) => {\n    if (!isSameNode.value && !dragContain.value) {\n      const external = isExternalSrc(evt);\n      if (!isDragging.value && !external)\n        return;\n      cmn.root.emit(dragEvents.over, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n      if (!external && wrapper.value) {\n        const factor = 0.3;\n        const y = evt.pageY;\n        const r = wrapper.value.getBoundingClientRect();\n        const midPoint = r.top + r.height / 2;\n        const midRange = [\n          midPoint - r.height * factor,\n          midPoint + r.height * factor\n        ];\n        const idx = draggedLvl.value.indexOf(node.value.id);\n        const idxDrag = draggedLvl.value.indexOf(dragged.value.node.id);\n        if (y < midRange[0] && (!isSameParent.value || isSameParent.value && idx !== idxDrag + 1)) {\n          pos.value = 0;\n        } else if (y > midRange[1] && (!isSameParent.value || isSameParent.value && idx !== idxDrag - 1)) {\n          pos.value = 2;\n        } else {\n          pos.value = 1;\n        }\n      }\n    }\n  };\n  const drop = (evt) => {\n    if (!isSameNode.value && !dragContain.value) {\n      switch (pos.value) {\n        case 0: {\n          insertAt(0);\n          break;\n        }\n        case 2: {\n          insertAt(1);\n          break;\n        }\n        case 1: {\n          insertIn();\n        }\n      }\n    }\n    cmn.root.emit(dragEvents.drop, __spreadValues(__spreadValues({}, context.value), eventContext(evt)));\n    pos.value = null;\n  };\n  const insertAt = (i) => {\n    if (isDragging.value) {\n      const dragId = dragged.value.node.id;\n      const dragIdx = draggedLvl.value.indexOf(dragId);\n      draggedLvl.value.splice(dragIdx, 1);\n      const targetId = node.value.id;\n      const idx = targetLvl.value.indexOf(targetId);\n      targetLvl.value.splice(idx + i, 0, dragId);\n    }\n  };\n  const insertIn = () => {\n    if (isDragging.value && droppable.value) {\n      const dragId = dragged.value.node.id;\n      if (draggedLvl.value) {\n        const idx = draggedLvl.value.indexOf(dragId);\n        draggedLvl.value.splice(idx, 1);\n      }\n      node.value.children.unshift(dragId);\n    }\n  };\n  return {\n    pos,\n    element,\n    dragClass,\n    draggable,\n    droppable,\n    dragstart,\n    dragend,\n    dragenter,\n    dragleave,\n    dragover,\n    drop\n  };\n}\nfunction useCommon(props) {\n  const { node } = toRefs(props);\n  const state = inject(\"state\");\n  const config = state.config;\n  const wrapper = ref(null);\n  const focused = ref(false);\n  const root2 = {\n    emit: inject(\"emitter\")\n  };\n  ensureState(node.value);\n  const hasNode = computed(() => {\n    return !lodash_isnil(node);\n  });\n  const hasConfig = computed(() => {\n    return !lodash_isnil(config.value);\n  });\n  const hasState = computed(() => {\n    return hasNode.value && !lodash_isnil(node.value.state);\n  });\n  const disabled = computed(() => {\n    return config.value.disabled || node.value.state.disabled;\n  });\n  const editable = computed(() => {\n    return config.value.editable && (!lodash_isnil(node.value.state.editable) ? node.value.state.editable : true) || defaultConfig.editable;\n  });\n  const editing = computed(() => {\n    return editable.value && config.value.editing === node.value.id;\n  });\n  const blur = (e) => {\n    if (e.type === \"blur\") {\n      const current = e.currentTarget;\n      const related = e.relatedTarget;\n      if (!current.contains(related)) {\n        config.value.editing = null;\n        focused.value = false;\n        root2.emit(nodeEvents.blur, e, node.value);\n      }\n    }\n  };\n  return {\n    state,\n    node,\n    config,\n    hasNode,\n    hasState,\n    hasConfig,\n    disabled,\n    wrapper,\n    editable,\n    editing,\n    focused,\n    blur,\n    root: root2\n  };\n}\nconst _sfc_main = {\n  components: {\n    TreeLevel: defineAsyncComponent(() => Promise.resolve().then(function() {\n      return TreeLevel$1;\n    })),\n    TreeIcons\n  },\n  emits: [\n    ...Object.values(nodeEvents),\n    ...Object.values(checkboxEvents),\n    ...Object.values(dragEvents)\n  ],\n  props: {\n    depth: {\n      required: true,\n      type: Number\n    },\n    index: {\n      required: true,\n      type: Number\n    },\n    node: {\n      required: true,\n      type: Object\n    },\n    parentId: {\n      default: null,\n      type: String\n    }\n  },\n  setup(props) {\n    const cmn = useCommon(props);\n    return __spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, cmn), useInput(cmn)), useCheckBox(cmn)), useNode(cmn, props)), useDragAndDrop(cmn, props));\n  },\n  computed: {\n    nodeClass() {\n      return [\n        this.focusClass,\n        this.disabledClass,\n        this.checkedClass,\n        this.editableClass,\n        this.dragClass\n      ];\n    }\n  },\n  methods: {\n    setWrapperRef(e) {\n      this.wrapper = e;\n    },\n    setLevelRef(e) {\n      this.level = e;\n    },\n    setElementRef(e) {\n      this.element = e;\n    },\n    setInputRef(e) {\n      this.input = e;\n    }\n  }\n};\nconst _hoisted_1 = { class: \"input-wrapper\" };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TreeIcons = resolveComponent(\"TreeIcons\");\n  const _component_TreeLevel = resolveComponent(\"TreeLevel\");\n  return _ctx.hasNode ? (openBlock(), createBlock(\"li\", {\n    key: 0,\n    class: \"tree-node\",\n    ref: $options.setElementRef,\n    \"aria-expanded\": _ctx.opened,\n    onKeydown: [\n      _cache[14] || (_cache[14] = withKeys(withModifiers((...args) => _ctx.enter && _ctx.enter(...args), [\"stop\"]), [\"enter\"])),\n      _cache[15] || (_cache[15] = withKeys(withModifiers((...args) => _ctx.esc && _ctx.esc(...args), [\"stop\"]), [\"esc\"])),\n      _cache[16] || (_cache[16] = withKeys(withModifiers((...args) => _ctx.space && _ctx.space(...args), [\"stop\"]), [\"space\"])),\n      _cache[17] || (_cache[17] = withKeys(withModifiers((...args) => _ctx.left && _ctx.left(...args), [\"stop\"]), [\"left\"])),\n      _cache[18] || (_cache[18] = withKeys(withModifiers((...args) => _ctx.right && _ctx.right(...args), [\"stop\"]), [\"right\"])),\n      _cache[19] || (_cache[19] = withKeys(withModifiers((...args) => _ctx.up && _ctx.up(...args), [\"stop\"]), [\"up\"])),\n      _cache[20] || (_cache[20] = withKeys(withModifiers((...args) => _ctx.down && _ctx.down(...args), [\"stop\"]), [\"down\"]))\n    ]\n  }, [\n    createVNode(\"div\", {\n      class: [\"node-wrapper\", $options.nodeClass],\n      style: _ctx.style,\n      ref: $options.setWrapperRef,\n      draggable: _ctx.draggable,\n      tabindex: _ctx.tabIndex,\n      onBlur: _cache[6] || (_cache[6] = (...args) => _ctx.blur && _ctx.blur(...args)),\n      onClick: _cache[7] || (_cache[7] = withModifiers((...args) => _ctx.focus && _ctx.focus(...args), [\"stop\"])),\n      onDragstart: _cache[8] || (_cache[8] = withModifiers((...args) => _ctx.dragstart && _ctx.dragstart(...args), [\"stop\"])),\n      onDragend: _cache[9] || (_cache[9] = withModifiers((...args) => _ctx.dragend && _ctx.dragend(...args), [\"stop\"])),\n      onDragenter: _cache[10] || (_cache[10] = withModifiers((...args) => _ctx.dragenter && _ctx.dragenter(...args), [\"prevent\", \"stop\"])),\n      onDragleave: _cache[11] || (_cache[11] = withModifiers((...args) => _ctx.dragleave && _ctx.dragleave(...args), [\"prevent\", \"stop\"])),\n      onDragover: _cache[12] || (_cache[12] = withModifiers((...args) => _ctx.dragover && _ctx.dragover(...args), [\"prevent\", \"stop\"])),\n      onDrop: _cache[13] || (_cache[13] = withModifiers((...args) => _ctx.drop && _ctx.drop(...args), [\"prevent\", \"stop\"]))\n    }, [\n      !_ctx.hideIcons ? (openBlock(), createBlock(\"div\", {\n        key: 0,\n        class: \"icon-wrapper\",\n        onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.toggle && _ctx.toggle(...args), [\"stop\"]))\n      }, [\n        createVNode(_component_TreeIcons, {\n          \"is-leaf\": _ctx.isLeaf,\n          opened: _ctx.opened\n        }, null, 8, [\"is-leaf\", \"opened\"])\n      ])) : createCommentVNode(\"\", true),\n      _ctx.hasCheckbox ? (openBlock(), createBlock(\"div\", {\n        key: 1,\n        class: [\"checkbox-wrapper\", _ctx.checkedClass],\n        onClick: _cache[2] || (_cache[2] = withModifiers((...args) => _ctx.clickCheckbox && _ctx.clickCheckbox(...args), [\"stop\"]))\n      }, [\n        createVNode(\"input\", {\n          type: \"checkbox\",\n          tabindex: \"-1\",\n          class: \"node-checkbox\",\n          checked: _ctx.checked,\n          disabled: _ctx.disabled,\n          indeterminate: _ctx.indeterminate\n        }, null, 8, [\"checked\", \"disabled\", \"indeterminate\"])\n      ], 2)) : createCommentVNode(\"\", true),\n      renderSlot(_ctx.$slots, \"before-input\", { node: $props.node }),\n      createVNode(\"div\", _hoisted_1, [\n        _ctx.editing ? withDirectives((openBlock(), createBlock(\"input\", {\n          key: 0,\n          type: \"text\",\n          tabindex: \"0\",\n          class: \"node-input\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => _ctx.text = $event),\n          ref: $options.setInputRef,\n          disabled: _ctx.disabled,\n          onBlur: _cache[4] || (_cache[4] = (...args) => _ctx.blur && _ctx.blur(...args))\n        }, null, 40, [\"disabled\"])), [\n          [vModelText, _ctx.text]\n        ]) : (openBlock(), createBlock(\"span\", {\n          key: 1,\n          class: \"node-text\",\n          onDblclick: _cache[5] || (_cache[5] = (...args) => _ctx.focusInput && _ctx.focusInput(...args))\n        }, toDisplayString(_ctx.text), 33))\n      ]),\n      renderSlot(_ctx.$slots, \"after-input\", { node: $props.node })\n    ], 46, [\"draggable\", \"tabindex\"]),\n    _ctx.displayLoading ? renderSlot(_ctx.$slots, \"loading-slot\", {\n      key: 0,\n      node: $props.node\n    }) : createCommentVNode(\"\", true),\n    createVNode(Transition, { name: \"level\" }, {\n      default: withCtx(() => [\n        _ctx.displayLevel ? (openBlock(), createBlock(_component_TreeLevel, {\n          key: 0,\n          \"parent-id\": _ctx.id,\n          depth: $props.depth + 1,\n          ref: $options.setLevelRef\n        }, {\n          \"loading-slot\": withCtx((props) => [\n            renderSlot(_ctx.$slots, \"loading-slot\", {\n              node: props.node\n            })\n          ]),\n          \"before-input\": withCtx((props) => [\n            renderSlot(_ctx.$slots, \"before-input\", {\n              node: props.node\n            })\n          ]),\n          \"after-input\": withCtx((props) => [\n            renderSlot(_ctx.$slots, \"after-input\", {\n              node: props.node\n            })\n          ]),\n          _: 1\n        }, 8, [\"parent-id\", \"depth\"])) : createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ], 40, [\"aria-expanded\"])) : createCommentVNode(\"\", true);\n}\nvar TreeNode = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nvar TreeNode$1 = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  [Symbol.toStringTag]: \"Module\",\n  \"default\": TreeNode\n});\nexport { Tree as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}