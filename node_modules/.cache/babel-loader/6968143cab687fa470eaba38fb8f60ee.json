{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\n// import Swiper core and required components\nimport { Navigation, Pagination, Scrollbar, A11y } from 'swiper/modules';\nimport { Thumbs } from 'swiper/modules'; // Import Swiper Vue.js components\n\nimport { Swiper, SwiperSlide } from \"swiper/vue\";\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/scrollbar';\nimport Dialog from 'primevue/dialog'; //import Image from 'primevue/image';\n// Import Swiper styles\n\nexport default {\n  props: ['tripImages', 'openedcargoname'],\n  components: {\n    Swiper,\n    SwiperSlide,\n    Dialog //  Image\n\n  },\n\n  setup() {\n    const onSwiper = swiper => {\n      console.log(swiper);\n    };\n\n    return {\n      onSwiper,\n      Thumbs,\n      modules: [Navigation, Pagination, Scrollbar, A11y]\n    };\n  },\n\n  data() {\n    return {\n      visibleImagesModal: false,\n      baseUrl: localStorage.getItem(\"_rootRestUrl\"),\n      methodName: '/api/v1/Trip/ViewTripImage',\n      parameter: '?tripFileKey=',\n      zoomedImageSource: '',\n      zoomedImageClass: 'zoomedImage',\n      rotate: 0\n    };\n  },\n\n  methods: {\n    zoomImages(imageKey) {\n      this.zoomedImageSource = this.baseUrl + this.methodName + this.parameter + imageKey;\n      this.rotate = 0;\n      this.zoomedImageClass = 'zoomedImage';\n      this.visibleImagesModal = true;\n    },\n\n    rotateZoomedImage() {\n      this.wheelzoom(document.querySelectorAll('.zoomedImage'));\n      this.rotate += 90;\n\n      if (this.rotate == 360) {\n        this.rotate = 0;\n      }\n\n      if (this.rotate == 0) {\n        this.zoomedImageClass = 'zoomedImage';\n      }\n\n      if (this.rotate == 90) {\n        this.zoomedImageClass = 'zoomedImage rotate90';\n      }\n\n      if (this.rotate == 180) {\n        this.zoomedImageClass = 'zoomedImage rotate180';\n      }\n\n      if (this.rotate == 270) {\n        this.zoomedImageClass = 'zoomedImage rotate270';\n      }\n    },\n\n    wheelZoom() {\n      /*!\r\n      \tWheelzoom 4.0.1\r\n      \tlicense: MIT\r\n      \thttp://www.jacklmoore.com/wheelzoom\r\n      */\n      alert(\"s\");\n\n      window.wheelzoom = function () {\n        var defaults = {\n          zoom: 0.10,\n          maxZoom: false,\n          initialZoom: 1,\n          initialX: 0.5,\n          initialY: 0.5\n        };\n\n        var main = function (img, options) {\n          if (!img || !img.nodeName || img.nodeName !== 'IMG') {\n            return;\n          }\n\n          var settings = {};\n          var width;\n          var height;\n          var bgWidth;\n          var bgHeight;\n          var bgPosX;\n          var bgPosY;\n          var previousEvent;\n          var transparentSpaceFiller;\n\n          function setSrcToBackground(img) {\n            img.style.backgroundRepeat = 'no-repeat';\n            img.style.backgroundImage = 'url(\"' + img.src + '\")';\n            transparentSpaceFiller = 'data:image/svg+xml;base64,' + window.btoa('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"' + img.naturalWidth + '\" height=\"' + img.naturalHeight + '\"></svg>');\n            img.src = transparentSpaceFiller;\n          }\n\n          function updateBgStyle() {\n            if (bgPosX > 0) {\n              bgPosX = 0;\n            } else if (bgPosX < width - bgWidth) {\n              bgPosX = width - bgWidth;\n            }\n\n            if (bgPosY > 0) {\n              bgPosY = 0;\n            } else if (bgPosY < height - bgHeight) {\n              bgPosY = height - bgHeight;\n            }\n\n            img.style.backgroundSize = bgWidth + 'px ' + bgHeight + 'px';\n            img.style.backgroundPosition = bgPosX + 'px ' + bgPosY + 'px';\n          }\n\n          function reset() {\n            bgWidth = width;\n            bgHeight = height;\n            bgPosX = bgPosY = 0;\n            updateBgStyle();\n          }\n\n          function onwheel(e) {\n            var deltaY = 0;\n            e.preventDefault();\n\n            if (e.deltaY) {\n              // FireFox 17+ (IE9+, Chrome 31+?)\n              deltaY = e.deltaY;\n            } else if (e.wheelDelta) {\n              deltaY = -e.wheelDelta;\n            } // As far as I know, there is no good cross-browser way to get the cursor position relative to the event target.\n            // We have to calculate the target element's position relative to the document, and subtrack that from the\n            // cursor's position relative to the document.\n\n\n            var rect = img.getBoundingClientRect();\n            var offsetX = e.pageX - rect.left - window.pageXOffset;\n            var offsetY = e.pageY - rect.top - window.pageYOffset; // Record the offset between the bg edge and cursor:\n\n            var bgCursorX = offsetX - bgPosX;\n            var bgCursorY = offsetY - bgPosY; // Use the previous offset to get the percent offset between the bg edge and cursor:\n\n            var bgRatioX = bgCursorX / bgWidth;\n            var bgRatioY = bgCursorY / bgHeight; // Update the bg size:\n\n            if (deltaY < 0) {\n              bgWidth += bgWidth * settings.zoom;\n              bgHeight += bgHeight * settings.zoom;\n            } else {\n              bgWidth -= bgWidth * settings.zoom;\n              bgHeight -= bgHeight * settings.zoom;\n            }\n\n            if (settings.maxZoom) {\n              bgWidth = Math.min(width * settings.maxZoom, bgWidth);\n              bgHeight = Math.min(height * settings.maxZoom, bgHeight);\n            } // Take the percent offset and apply it to the new size:\n\n\n            bgPosX = offsetX - bgWidth * bgRatioX;\n            bgPosY = offsetY - bgHeight * bgRatioY; // Prevent zooming out beyond the starting size\n\n            if (bgWidth <= width || bgHeight <= height) {\n              reset();\n            } else {\n              updateBgStyle();\n            }\n          }\n\n          function drag(e) {\n            e.preventDefault();\n            bgPosX += e.pageX - previousEvent.pageX;\n            bgPosY += e.pageY - previousEvent.pageY;\n            previousEvent = e;\n            updateBgStyle();\n          }\n\n          function removeDrag() {\n            document.removeEventListener('mouseup', removeDrag);\n            document.removeEventListener('mousemove', drag);\n          } // Make the background draggable\n\n\n          function draggable(e) {\n            e.preventDefault();\n            previousEvent = e;\n            document.addEventListener('mousemove', drag);\n            document.addEventListener('mouseup', removeDrag);\n          }\n\n          function load() {\n            var initial = Math.max(settings.initialZoom, 1);\n            if (img.src === transparentSpaceFiller) return;\n            var computedStyle = window.getComputedStyle(img, null);\n            width = parseInt(computedStyle.width, 10);\n            height = parseInt(computedStyle.height, 10);\n            bgWidth = width * initial;\n            bgHeight = height * initial;\n            bgPosX = -(bgWidth - width) * settings.initialX;\n            bgPosY = -(bgHeight - height) * settings.initialY;\n            setSrcToBackground(img);\n            img.style.backgroundSize = bgWidth + 'px ' + bgHeight + 'px';\n            img.style.backgroundPosition = bgPosX + 'px ' + bgPosY + 'px';\n            img.addEventListener('wheelzoom.reset', reset);\n            img.addEventListener('wheel', onwheel);\n            img.addEventListener('mousedown', draggable);\n          }\n\n          var destroy = function (originalProperties) {\n            img.removeEventListener('wheelzoom.destroy', destroy);\n            img.removeEventListener('wheelzoom.reset', reset);\n            img.removeEventListener('load', load);\n            img.removeEventListener('mouseup', removeDrag);\n            img.removeEventListener('mousemove', drag);\n            img.removeEventListener('mousedown', draggable);\n            img.removeEventListener('wheel', onwheel);\n            img.style.backgroundImage = originalProperties.backgroundImage;\n            img.style.backgroundRepeat = originalProperties.backgroundRepeat;\n            img.src = originalProperties.src;\n          }.bind(null, {\n            backgroundImage: img.style.backgroundImage,\n            backgroundRepeat: img.style.backgroundRepeat,\n            src: img.src\n          });\n\n          img.addEventListener('wheelzoom.destroy', destroy);\n          options = options || {};\n          Object.keys(defaults).forEach(function (key) {\n            settings[key] = options[key] !== undefined ? options[key] : defaults[key];\n          });\n\n          if (img.complete) {\n            load();\n          }\n\n          img.addEventListener('load', load);\n        }; // Do nothing in IE9 or below\n\n\n        if (typeof window.btoa !== 'function') {\n          return function (elements) {\n            return elements;\n          };\n        } else {\n          return function (elements, options) {\n            if (elements && elements.length) {\n              Array.prototype.forEach.call(elements, function (node) {\n                main(node, options);\n              });\n            } else if (elements && elements.nodeName) {\n              main(elements, options);\n            }\n\n            return elements;\n          };\n        }\n      }();\n    },\n\n    onSlideChange() {\n      console.log(\"slide change\");\n    }\n\n  },\n\n  mounted() {// alert(this.tripImages)\n  }\n\n};","map":{"version":3,"mappings":"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","names":["Navigation","Pagination","Scrollbar","A11y","Thumbs","Swiper","SwiperSlide","Dialog","props","components","setup","onSwiper","swiper","console","log","modules","data","visibleImagesModal","baseUrl","localStorage","getItem","methodName","parameter","zoomedImageSource","zoomedImageClass","rotate","methods","zoomImages","imageKey","rotateZoomedImage","wheelzoom","document","querySelectorAll","wheelZoom","alert","window","defaults","zoom","maxZoom","initialZoom","initialX","initialY","main","img","options","nodeName","settings","width","height","bgWidth","bgHeight","bgPosX","bgPosY","previousEvent","transparentSpaceFiller","setSrcToBackground","style","backgroundRepeat","backgroundImage","src","btoa","naturalWidth","naturalHeight","updateBgStyle","backgroundSize","backgroundPosition","reset","onwheel","e","deltaY","preventDefault","wheelDelta","rect","getBoundingClientRect","offsetX","pageX","left","pageXOffset","offsetY","pageY","top","pageYOffset","bgCursorX","bgCursorY","bgRatioX","bgRatioY","Math","min","drag","removeDrag","removeEventListener","draggable","addEventListener","load","initial","max","computedStyle","getComputedStyle","parseInt","destroy","originalProperties","bind","Object","keys","forEach","key","undefined","complete","elements","length","Array","prototype","call","node","onSlideChange","mounted"],"sourceRoot":"","sources":["Q:\\Projects\\Transport-web\\src\\components\\ui\\SwiperCarousel.vue"],"sourcesContent":["<template>\r\n   \r\n   <swiper\r\n    :modules=\"modules\"\r\n    :thumbs=\"{ swiper: thumbsSwiper }\"\r\n      :slides-per-view=\"2\"\r\n      :space-between=\"10\"\r\n      navigation\r\n      :pagination=\"{ clickable: true }\"\r\n      @swiper=\"onSwiper\"\r\n      @slideChange=\"onSlideChange\"\r\n    >\r\n      <swiper-slide class=\"swiperSlideHolder\" v-for=\"tripImage in tripImages\" v-bind:key=\"tripImage.key\" >\r\n         <img @click=\"zoomImages(tripImage.key)\" :src=\"baseUrl+methodName+parameter+tripImage.key\" >\r\n         <!-- <Image  :src=\"baseUrl+methodName+parameter+tripImage.key\" :class=\"zoomedImageClass\" preview />-->\r\n      </swiper-slide>\r\n         \r\n    </swiper>\r\n\r\n   \r\n    <Dialog   :position=\"'top'\"  \r\n              v-model:visible=\"visibleImagesModal\" \r\n              modal\r\n              :style=\"{ width: '80%' } \"  \r\n              :pt=\"{mask: {style: 'backdrop-filter: blur(2px)' }  }\"  \r\n              :breakpoints=\"{ '1199px': '75vw', '575px': '90vw' }\">\r\n         \r\n\r\n         <template #header>\r\n            <div class=\"inline-flex align-items-center text-center justify-content-center gap-2\">\r\n               <div class=\"text-center\" style=\"width:100%\"><h5>{{ openedcargoname }} </h5></div> \r\n             \r\n            </div>\r\n        </template>\r\n\r\n      <!--  <div :class=\"'zoomedImageHolder ' + zoomedImageClass\" :style=\"{ 'background-image': 'url(' + zoomedImageSource + ')' }\" >-->\r\n        <div class=\"zoomedImageHolder\" >\r\n        <!--  <Image :src=\"zoomedImageSource\" :class=\"zoomedImageClass\" preview />-->\r\n      <img :src=\"zoomedImageSource\" :class=\"zoomedImageClass\"  draggable=\"true\" />\r\n       </div>\r\n\r\n       <template #footer>\r\n        <div class=\"inline-flex align-items-right justify-content-center gap-2\">\r\n                <a href=\"javascript:\"  @click=\"rotateZoomedImage()\" ><i class=\"pi pi-undo rotateIcon\" v-tooltip=\"'Rotate Image'\" placeholder=\"Top\"></i></a>\r\n               \r\n              </div>\r\n       </template>\r\n\r\n        </Dialog>  \r\n\r\n\r\n\r\n\r\n  </template>\r\n  <script>\r\n  // import Swiper core and required components\r\n  import { Navigation, Pagination, Scrollbar, A11y } from 'swiper/modules';\r\n  \r\n  import { Thumbs } from 'swiper/modules';\r\n\r\n  // Import Swiper Vue.js components\r\n  import { Swiper, SwiperSlide } from \"swiper/vue\";\r\n  \r\n  import 'swiper/css';\r\n  import 'swiper/css/navigation';\r\n  import 'swiper/css/scrollbar';\r\n  import Dialog from 'primevue/dialog';\r\n  //import Image from 'primevue/image';\r\n\r\n   // Import Swiper styles\r\n  export default {\r\n    props:['tripImages','openedcargoname'],\r\n    components: {\r\n      Swiper,\r\n      SwiperSlide,\r\n      Dialog,\r\n    //  Image\r\n    },\r\n    setup() {\r\n      const onSwiper = (swiper) => {\r\n        console.log(swiper);\r\n     \r\n      };\r\n      \r\n      return {\r\n        onSwiper,Thumbs,\r\n        modules: [Navigation, Pagination, Scrollbar, A11y],\r\n      };\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        visibleImagesModal: false,\r\n        baseUrl : localStorage.getItem(\"_rootRestUrl\"),\r\n        methodName : '/api/v1/Trip/ViewTripImage',\r\n        parameter : '?tripFileKey=',\r\n        zoomedImageSource : '',\r\n        zoomedImageClass : 'zoomedImage',\r\n        rotate:0,\r\n      \r\n      }\r\n    },\r\n\r\n    methods: {\r\n   \r\n          zoomImages(imageKey){\r\n            this.zoomedImageSource = this.baseUrl+this.methodName+this.parameter+imageKey;\r\n            this.rotate = 0;\r\n            this.zoomedImageClass = 'zoomedImage';\r\n            this.visibleImagesModal = true;\r\n            \r\n          },\r\n\r\n          rotateZoomedImage(){\r\n            this.wheelzoom(document.querySelectorAll('.zoomedImage'));\r\n            \r\n            this.rotate += 90;\r\n              if(this.rotate == 360){\r\n                this.rotate = 0;\r\n              }\r\n\r\n              if(this.rotate == 0){this.zoomedImageClass = 'zoomedImage'}\r\n              if(this.rotate == 90){this.zoomedImageClass = 'zoomedImage rotate90'}\r\n              if(this.rotate == 180){this.zoomedImageClass = 'zoomedImage rotate180'}\r\n              if(this.rotate == 270){this.zoomedImageClass = 'zoomedImage rotate270'}\r\n            \r\n          \r\n          },\r\n\r\nwheelZoom(){\r\n/*!\r\n\tWheelzoom 4.0.1\r\n\tlicense: MIT\r\n\thttp://www.jacklmoore.com/wheelzoom\r\n*/\r\nalert(\"s\")\r\nwindow.wheelzoom = (function(){\r\n\tvar defaults = {\r\n\t\tzoom: 0.10,\r\n\t\tmaxZoom: false,\r\n\t\tinitialZoom: 1,\r\n\t\tinitialX: 0.5,\r\n\t\tinitialY: 0.5,\r\n\t};\r\n\r\n\tvar main = function(img, options){\r\n\t\tif (!img || !img.nodeName || img.nodeName !== 'IMG') { return; }\r\n\r\n\t\tvar settings = {};\r\n\t\tvar width;\r\n\t\tvar height;\r\n\t\tvar bgWidth;\r\n\t\tvar bgHeight;\r\n\t\tvar bgPosX;\r\n\t\tvar bgPosY;\r\n\t\tvar previousEvent;\r\n\t\tvar transparentSpaceFiller;\r\n\r\n\t\tfunction setSrcToBackground(img) {\r\n\t\t\timg.style.backgroundRepeat = 'no-repeat';\r\n\t\t\timg.style.backgroundImage = 'url(\"'+img.src+'\")';\r\n\t\t\ttransparentSpaceFiller = 'data:image/svg+xml;base64,'+window.btoa('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"'+img.naturalWidth+'\" height=\"'+img.naturalHeight+'\"></svg>');\r\n\t\t\timg.src = transparentSpaceFiller;\r\n\t\t}\r\n\r\n\t\tfunction updateBgStyle() {\r\n\t\t\tif (bgPosX > 0) {\r\n\t\t\t\tbgPosX = 0;\r\n\t\t\t} else if (bgPosX < width - bgWidth) {\r\n\t\t\t\tbgPosX = width - bgWidth;\r\n\t\t\t}\r\n\r\n\t\t\tif (bgPosY > 0) {\r\n\t\t\t\tbgPosY = 0;\r\n\t\t\t} else if (bgPosY < height - bgHeight) {\r\n\t\t\t\tbgPosY = height - bgHeight;\r\n\t\t\t}\r\n\r\n\t\t\timg.style.backgroundSize = bgWidth+'px '+bgHeight+'px';\r\n\t\t\timg.style.backgroundPosition = bgPosX+'px '+bgPosY+'px';\r\n\t\t}\r\n\r\n\t\tfunction reset() {\r\n\t\t\tbgWidth = width;\r\n\t\t\tbgHeight = height;\r\n\t\t\tbgPosX = bgPosY = 0;\r\n\t\t\tupdateBgStyle();\r\n\t\t}\r\n\r\n\t\tfunction onwheel(e) {\r\n\t\t\tvar deltaY = 0;\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (e.deltaY) { // FireFox 17+ (IE9+, Chrome 31+?)\r\n\t\t\t\tdeltaY = e.deltaY;\r\n\t\t\t} else if (e.wheelDelta) {\r\n\t\t\t\tdeltaY = -e.wheelDelta;\r\n\t\t\t}\r\n\r\n\t\t\t// As far as I know, there is no good cross-browser way to get the cursor position relative to the event target.\r\n\t\t\t// We have to calculate the target element's position relative to the document, and subtrack that from the\r\n\t\t\t// cursor's position relative to the document.\r\n\t\t\tvar rect = img.getBoundingClientRect();\r\n\t\t\tvar offsetX = e.pageX - rect.left - window.pageXOffset;\r\n\t\t\tvar offsetY = e.pageY - rect.top - window.pageYOffset;\r\n\r\n\t\t\t// Record the offset between the bg edge and cursor:\r\n\t\t\tvar bgCursorX = offsetX - bgPosX;\r\n\t\t\tvar bgCursorY = offsetY - bgPosY;\r\n\t\t\t\r\n\t\t\t// Use the previous offset to get the percent offset between the bg edge and cursor:\r\n\t\t\tvar bgRatioX = bgCursorX/bgWidth;\r\n\t\t\tvar bgRatioY = bgCursorY/bgHeight;\r\n\r\n\t\t\t// Update the bg size:\r\n\t\t\tif (deltaY < 0) {\r\n\t\t\t\tbgWidth += bgWidth*settings.zoom;\r\n\t\t\t\tbgHeight += bgHeight*settings.zoom;\r\n\t\t\t} else {\r\n\t\t\t\tbgWidth -= bgWidth*settings.zoom;\r\n\t\t\t\tbgHeight -= bgHeight*settings.zoom;\r\n\t\t\t}\r\n\r\n\t\t\tif (settings.maxZoom) {\r\n\t\t\t\tbgWidth = Math.min(width*settings.maxZoom, bgWidth);\r\n\t\t\t\tbgHeight = Math.min(height*settings.maxZoom, bgHeight);\r\n\t\t\t}\r\n\r\n\t\t\t// Take the percent offset and apply it to the new size:\r\n\t\t\tbgPosX = offsetX - (bgWidth * bgRatioX);\r\n\t\t\tbgPosY = offsetY - (bgHeight * bgRatioY);\r\n\r\n\t\t\t// Prevent zooming out beyond the starting size\r\n\t\t\tif (bgWidth <= width || bgHeight <= height) {\r\n\t\t\t\treset();\r\n\t\t\t} else {\r\n\t\t\t\tupdateBgStyle();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction drag(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tbgPosX += (e.pageX - previousEvent.pageX);\r\n\t\t\tbgPosY += (e.pageY - previousEvent.pageY);\r\n\t\t\tpreviousEvent = e;\r\n\t\t\tupdateBgStyle();\r\n\t\t}\r\n\r\n\t\tfunction removeDrag() {\r\n\t\t\tdocument.removeEventListener('mouseup', removeDrag);\r\n\t\t\tdocument.removeEventListener('mousemove', drag);\r\n\t\t}\r\n\r\n\t\t// Make the background draggable\r\n\t\tfunction draggable(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tpreviousEvent = e;\r\n\t\t\tdocument.addEventListener('mousemove', drag);\r\n\t\t\tdocument.addEventListener('mouseup', removeDrag);\r\n\t\t}\r\n\r\n\t\tfunction load() {\r\n\t\t\tvar initial = Math.max(settings.initialZoom, 1);\r\n\r\n\t\t\tif (img.src === transparentSpaceFiller) return;\r\n\r\n\t\t\tvar computedStyle = window.getComputedStyle(img, null);\r\n\r\n\t\t\twidth = parseInt(computedStyle.width, 10);\r\n\t\t\theight = parseInt(computedStyle.height, 10);\r\n\t\t\tbgWidth = width * initial;\r\n\t\t\tbgHeight = height * initial;\r\n\t\t\tbgPosX = -(bgWidth - width) * settings.initialX;\r\n\t\t\tbgPosY = -(bgHeight - height) * settings.initialY;\r\n\r\n\t\t\tsetSrcToBackground(img);\r\n\r\n\t\t\timg.style.backgroundSize = bgWidth+'px '+bgHeight+'px';\r\n\t\t\timg.style.backgroundPosition = bgPosX+'px '+bgPosY+'px';\r\n\t\t\timg.addEventListener('wheelzoom.reset', reset);\r\n\r\n\t\t\timg.addEventListener('wheel', onwheel);\r\n\t\t\timg.addEventListener('mousedown', draggable);\r\n\t\t}\r\n\r\n\t\tvar destroy = function (originalProperties) {\r\n\t\t\timg.removeEventListener('wheelzoom.destroy', destroy);\r\n\t\t\timg.removeEventListener('wheelzoom.reset', reset);\r\n\t\t\timg.removeEventListener('load', load);\r\n\t\t\timg.removeEventListener('mouseup', removeDrag);\r\n\t\t\timg.removeEventListener('mousemove', drag);\r\n\t\t\timg.removeEventListener('mousedown', draggable);\r\n\t\t\timg.removeEventListener('wheel', onwheel);\r\n\r\n\t\t\timg.style.backgroundImage = originalProperties.backgroundImage;\r\n\t\t\timg.style.backgroundRepeat = originalProperties.backgroundRepeat;\r\n\t\t\timg.src = originalProperties.src;\r\n\t\t}.bind(null, {\r\n\t\t\tbackgroundImage: img.style.backgroundImage,\r\n\t\t\tbackgroundRepeat: img.style.backgroundRepeat,\r\n\t\t\tsrc: img.src\r\n\t\t});\r\n\r\n\t\timg.addEventListener('wheelzoom.destroy', destroy);\r\n\r\n\t\toptions = options || {};\r\n\r\n\t\tObject.keys(defaults).forEach(function(key){\r\n\t\t\tsettings[key] = options[key] !== undefined ? options[key] : defaults[key];\r\n\t\t});\r\n\r\n\t\tif (img.complete) {\r\n\t\t\tload();\r\n\t\t}\r\n\r\n\t\timg.addEventListener('load', load);\r\n\t};\r\n\r\n\t// Do nothing in IE9 or below\r\n\tif (typeof window.btoa !== 'function') {\r\n\t\treturn function(elements) {\r\n\t\t\treturn elements;\r\n\t\t};\r\n\t} else {\r\n\t\treturn function(elements, options) {\r\n\t\t\tif (elements && elements.length) {\r\n\t\t\t\tArray.prototype.forEach.call(elements, function (node) {\r\n\t\t\t\t\tmain(node, options);\r\n\t\t\t\t});\r\n\t\t\t} else if (elements && elements.nodeName) {\r\n\t\t\t\tmain(elements, options);\r\n\t\t\t}\r\n\t\t\treturn elements;\r\n\t\t};\r\n\t}\r\n}());\r\n\r\n},\r\n\r\n\r\n          onSlideChange() {\r\n            console.log(\"slide change\")\r\n          },\r\n    },\r\n  mounted(){\r\n   // alert(this.tripImages)\r\n  \r\n  },\r\n \r\n  };\r\n  </script>\r\n\r\n  <style>\r\n.swiperSlideHolder img{width:100%}\r\n\r\n.p-dialog-mask {backdrop-filter: blur(2px)}\r\n\r\n.zoomedImage{width:100%}\r\n.rotateIcon{\r\n  -webkit-transform: scaleX(-1);\r\n  transform: scaleX(-1);\r\n}\r\n\r\n.rotate90{\r\n  -webkit-transform:rotate(90deg);\r\n  -moz-transform: rotate(90deg);\r\n  -ms-transform: rotate(90deg);\r\n  -o-transform: rotate(900deg);\r\n  transform: rotate(90deg);\r\n}\r\n.rotate180{\r\n  -webkit-transform:rotate(180deg);\r\n  -moz-transform: rotate(180deg);\r\n  -ms-transform: rotate(180deg);\r\n  -o-transform: rotate(180deg);\r\n  transform: rotate(180deg);\r\n}\r\n.rotate270{\r\n  -webkit-transform:rotate(270deg);\r\n  -moz-transform: rotate(270deg);\r\n  -ms-transform: rotate(270deg);\r\n  -o-transform: rotate(270deg);\r\n  transform: rotate(270deg);\r\n}\r\n\r\n.p-dialog{max-height:99%}\r\n.zoomedImageHolder{height:calc(100vh - 120px);width:100%;background-size: contain; background-repeat:no-repeat;background-position: center;}\r\n/*.zoomedImageHolder{height:calc(100vh - 200px);width:100%;}*/\r\n.zoomedImageHolder img {\r\n   \r\n \r\n  display: block;\r\n  max-width:100%;\r\n  max-height:100%;\r\n  width: auto;\r\n  height: auto;\r\n  margin:auto;\r\n\r\n}\r\n\r\n.p-dialog .p-dialog-footer{padding-top:5px !important;padding-bottom:5px !important}\r\n.p-dialog .p-dialog-header{padding-top:5px !important;padding-bottom:5px !important}\r\n\r\n.p-dialog-content{height:calc(100vh - 100px);padding-top: 10pxL;overflow-y: hidden;}\r\n</style>"]},"metadata":{},"sourceType":"module"}