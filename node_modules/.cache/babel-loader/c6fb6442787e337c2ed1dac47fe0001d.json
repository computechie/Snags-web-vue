{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-md-12 text-center gap-2 gaptop-2\"\n}, [/*#__PURE__*/_createElementVNode(\"h4\", null, \"Forgot password :(\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  class: \"col-md-12 text-center gap-2\"\n};\nconst _hoisted_5 = {\n  class: \"flex flex-column gap-2\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"Please enter your email\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"This field is required\");\n\nconst _hoisted_8 = {\n  class: \"col-md-12 text-center gap-2\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-md-12 text-center gap-2\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"/\"\n}, \"back to home page\")])], -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"font-bold text-2xl block mb-2 mt-4\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = {\n  class: \"mb-0\"\n};\nconst _hoisted_12 = {\n  class: \"flex text-end gap-2 mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_top_bar = _resolveComponent(\"top-bar\");\n\n  const _component_InputText = _resolveComponent(\"InputText\");\n\n  const _component_InlineMessage = _resolveComponent(\"InlineMessage\");\n\n  const _component_Button = _resolveComponent(\"Button\");\n\n  const _component_Dialog = _resolveComponent(\"Dialog\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_top_bar, {\n    onEmitSearch: _ctx.emitedSearch,\n    \"show-search\": _ctx.showSearch,\n    \"menu-icon\": _ctx.iconCloseOpen2,\n    \"background-style\": \"rgb(255,255,255,0.6)\",\n    \"title-color\": \"black\",\n    \"title-text\": _ctx.MainTitleText\n  }, null, 8\n  /* PROPS */\n  , [\"onEmitSearch\", \"show-search\", \"menu-icon\", \"title-text\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createVNode(_component_InputText, {\n    onInput: $options.typing,\n    type: \"text\",\n    modelValue: $data.userEmail,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.userEmail = $event),\n    style: {\n      \"min-width\": \"300px\"\n    }\n  }, null, 8\n  /* PROPS */\n  , [\"onInput\", \"modelValue\"]), _createElementVNode(\"p\", null, [!$data.userEmailOK ? (_openBlock(), _createBlock(_component_InlineMessage, {\n    key: 0\n  }, {\n    default: _withCtx(() => [_hoisted_7]),\n    _: 1\n    /* STABLE */\n\n  })) : _createCommentVNode(\"v-if\", true)])])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"p\", null, [_createVNode(_component_Button, {\n    label: \"Password recovery\",\n    onClick: $options.passwordRecovery\n  }, null, 8\n  /* PROPS */\n  , [\"onClick\"])])]), _hoisted_9])]), _createCommentVNode(\" dialog info \"), _createVNode(_component_Dialog, {\n    visible: $data.displayInfoDialog,\n    \"onUpdate:visible\": _cache[2] || (_cache[2] = $event => $data.displayInfoDialog = $event),\n    modal: \"\",\n    style: _normalizeStyle(_ctx.infoDialogStyle),\n    breakpoints: {\n      '1199px': '75vw',\n      '575px': '90vw'\n    }\n  }, {\n    header: _withCtx(() => [_createElementVNode(\"h4\", null, _toDisplayString(_ctx.InfoModalHeader), 1\n    /* TEXT */\n    )]),\n    default: _withCtx(() => [_hoisted_10, _createElementVNode(\"p\", _hoisted_11, _toDisplayString(_ctx.InfoModalMessage), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_Button, {\n      label: \"Ok\",\n      onClick: _cache[1] || (_cache[1] = $event => $data.displayInfoDialog = false)\n    })])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"visible\", \"style\"])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;EAWKA,KAAK,EAAC;;;EAEFA,KAAK,EAAC;;;gCACPC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAAiD,cAC7CC,oBAA2B,IAA3B,EAA2B,IAA3B,EAAI,oBAAJ,CAD6C,CAAjD;;AAAA;;;EAIKD,KAAK,EAAC;;;EAGEA,KAAK,EAAC;;;gCACPC,oBAAqD,OAArD,EAAqD;EAA9CC,GAAG,EAAC;AAA0C,CAArD,EAAsB,yBAAtB,EAA6C;AAAA;AAA7C;;iDAEsC;;;EAM7CF,KAAK,EAAC;;;gCAIXC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAAwC,cACpCC,oBAAwC,GAAxC,EAAwC,IAAxC,EAAwC,cAArCA,oBAAiC,GAAjC,EAAiC;EAA9BE,IAAI,EAAC;AAAyB,CAAjC,EAAY,mBAAZ,CAAqC,CAAxC,CADoC,CAAxC;;AAAA;;iCAaIF,oBAAwD,MAAxD,EAAwD;EAAlDD,KAAK,EAAC;AAA4C,CAAxD,EAAgD,IAAhD,EAAgD;AAAA;AAAhD;;;EACGA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;;;;;;;;;;;6DA/CvBI,aAOaC,kBAPb,EAOa;IANRC,YAAU,EAAEC,iBAMJ;IALF,eAAaA,eAKX;IAJF,aAAWA,mBAIT;IAHT,oBAAiB,sBAGR;IAFT,eAAY,OAEH;IADF,cAAYA;EACV,CAPb;;EAAA,+DASAN,oBA4BM,KA5BN,cA4BM,CA1BFA,oBAwBM,KAxBN,cAwBM,CAvBFO,UAuBE,EAnBFP,oBAUM,KAVN,cAUM,CAPEA,oBAIM,KAJN,cAIM,CAHFQ,UAGE,EAFFL,aAAoFM,oBAApF,EAAoF;IAAxEC,OAAK,EAAEC,eAAiE;IAAzDC,IAAI,EAAC,MAAoD;gBAApCC,eAAoC;+DAApCA,kBAASC,OAA2B;IAAzBC,KAAuB,EAAvB;MAAA;IAAA;EAAyB,CAApF;;EAAA,4BAEE,EADFf,oBAAgF,GAAhF,EAAgF,IAAhF,EAAgF,EAAvDa,mCAAtBG,aAAyEC,wBAAzE,EAAyE;IAAAC;EAAA,CAAzE,EAAyE;sBAAtC,MAAsB,aAAgB;;;;EAAA,CAAzE,sCAA6E,CAAhF,CACE,CAJN,CAOF,CAVN,CAmBE,EAPFlB,oBAEM,KAFN,cAEM,CADFA,oBAAoE,GAApE,EAAoE,IAApE,EAAoE,CAAjEG,aAA6DgB,iBAA7D,EAA6D;IAArDC,KAAK,EAAC,mBAA+C;IAA1BC,OAAK,EAAEV;EAAmB,CAA7D;;EAAA,cAAiE,CAApE,CACE,CAFN,CAOE,EAHFW,UAGE,CAxBN,CA0BE,CA5BN,GA8BCC,sCACApB,aAWQqB,iBAXR,EAWQ;IAXQC,OAAO,EAAEZ,uBAWjB;4DAXiBA,0BAAiBC,OAWlC;IAXoCY,KAAK,EAAL,EAWpC;IAX4CX,KAAK,kBAAET,oBAAF,CAWjD;IAXqEqB,WAAW,EAAE;MAAA;MAAA;IAAA;EAWlF,CAXR;IACcC,MAAM,WACb,MAA+B,CAA/B5B,oBAA+B,IAA/B,EAA+B,IAA/B,EAA+B6B,iBAAvBvB,oBAAuB,CAA/B,EAAuB;IAAA;IAAvB,CAA+B,CADlB;sBAIT,MAAwD,CAAxDwB,WAAwD,EACxD9B,oBAAyC,GAAzC,eAAyC6B,iBAAvBvB,qBAAuB,CAAzC,EAAkC;IAAA;IAAlC,CADwD,EAExDN,oBAGM,KAHN,eAGM,CAFFG,aAA6DgB,iBAA7D,EAA6D;MAArDC,KAAK,EAAC,IAA+C;MAAzCC,OAAK,sCAAER,0BAAiB,KAAnB;IAAoC,CAA7D,CAEE,CAHN,CAFwD;;;;GALnE;;EAAA","names":["class","_createElementVNode","for","href","_createVNode","_component_top_bar","onEmitSearch","_ctx","_hoisted_3","_hoisted_6","_component_InputText","onInput","$options","type","$data","$event","style","_createBlock","_component_InlineMessage","key","_component_Button","label","onClick","_hoisted_9","_createCommentVNode","_component_Dialog","visible","modal","breakpoints","header","_toDisplayString","_hoisted_10"],"sourceRoot":"","sources":["Q:\\Projects\\Transport-web-\\src\\components\\pages\\ForgotPassword.vue"],"sourcesContent":["<template>\r\n\r\n<top-bar\r\n    @emitSearch=\"emitedSearch\"\r\n    v-bind:show-search=\"showSearch\"\r\n    v-bind:menu-icon=\"iconCloseOpen2\"\r\n    background-style=\"rgb(255,255,255,0.6)\"\r\n    title-color=\"black\"\r\n    v-bind:title-text=\"MainTitleText\"\r\n  ></top-bar>\r\n\r\n<div class=\"container\">\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 text-center gap-2 gaptop-2\">\r\n            <h4>Forgot password :(</h4>\r\n        </div>\r\n      \r\n        <div class=\"col-md-12 text-center gap-2\">\r\n           \r\n            \r\n                <div class=\"flex flex-column gap-2\"> \r\n                    <label for=\"password\">Please enter your email</label>\r\n                    <InputText @input=\"typing\" type=\"text\" v-model=\"userEmail\" style=\"min-width:300px\"/>\r\n                    <p><InlineMessage v-if=\"!userEmailOK\">This field is required</InlineMessage></p>\r\n                </div>\r\n                \r\n           \r\n        </div>\r\n\r\n        <div class=\"col-md-12 text-center gap-2\">\r\n            <p><Button label=\"Password recovery\" @click=\"passwordRecovery\"/></p>\r\n        </div>\r\n        \r\n        <div class=\"col-md-12 text-center gap-2\">\r\n            <p><a href=\"/\">back to home page</a></p>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n <!-- dialog info --> \r\n <Dialog v-model:visible=\"displayInfoDialog\" modal  :style=\"infoDialogStyle\" :breakpoints=\"{ '1199px': '75vw', '575px': '90vw' }\">\r\n    <template #header=\"\"> \r\n        <h4> {{ InfoModalHeader }}</h4>\r\n    </template>\r\n  \r\n            <span class=\"font-bold text-2xl block mb-2 mt-4\"></span>\r\n            <p class=\"mb-0\">{{InfoModalMessage }}</p>\r\n            <div class=\"flex text-end gap-2 mt-4\">\r\n                <Button label=\"Ok\" @click=\"displayInfoDialog=false\"></Button>\r\n              \r\n            </div>          \r\n</Dialog>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport InputText from 'primevue/inputtext';\r\nimport Button from 'primevue/button';\r\nimport InlineMessage from 'primevue/inlinemessage';\r\nimport Dialog from 'primevue/dialog';\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n   // props: [\"systemId\"],\r\n    components: {\r\n       // DataTable,\r\n       // Column,\r\n        InputText,\r\n        //Checkbox,\r\n        Button,\r\n       Dialog,\r\n       InlineMessage,\r\n      //  Calendar,\r\n        //InputNumber,\r\n        //TabView,\r\n        //TabPanel,\r\n     //   Dropdown\r\n        \r\n    \r\n  },\r\n  \r\n  data() {\r\n        return {\r\n            userEmail:'',\r\n            userEmailOK:true,\r\n            displayInfoDialog:false\r\n\r\n        }\r\n    },\r\n    methods:{\r\n        passwordRecovery(){\r\n                 var AllOk = true;\r\n\r\n              \r\n                if(this.userEmail == '' || this.userEmail == null){\r\n                    this.userEmailOK = false;\r\n                    AllOk = false;\r\n                }else{this.userEmailOK = true;}\r\n\r\n                if (AllOk==true){\r\n                    this.sendRecoveryEmail();\r\n                }\r\n\r\n\r\n        },\r\n        typing(){\r\n            this.userEmailOK=true;\r\n\r\n\r\n        },\r\n        async sendRecoveryEmail(){\r\n         \r\n            const sessionId=localStorage.getItem(\"token\");\r\n           // const sessionId='';\r\n            const baseUrl = localStorage.getItem(\"_rootRestUrl\");\r\n           \r\n            let formData = JSON.stringify({sessionId: sessionId,email:this.userEmail});\r\n       \r\n            let config = {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            }};\r\n  \r\n            \r\n            await axios\r\n              .post(baseUrl + \"/api/v1/User/SendResetPasswordEmail\",formData, config )\r\n              .then(() => {\r\n                                \r\n                        \r\n                 \r\n                this.InfoModalHeader='Info';\r\n                this.InfoModalMessage='If your email is registered we will now send you a message with instruction how to recover your password.';\r\n                this.infoDialogStyle=[{ width: '40rem' }];\r\n                this.displayInfoDialog= true;\r\n\r\n                this.isLoading = false; \r\n            })\r\n              \r\n              .catch((error) => {\r\n            \r\n                    if(error.response){\r\n                        this.InfoModalHeader='Info';\r\n                        this.InfoModalMessage='If your email is registered we will now send you a message with instruction how to recover your password.';\r\n                        this.infoDialogStyle=[{ width: '40rem' }];\r\n                        this.displayInfoDialog= true;\r\n                       \r\n                    \r\n                    }   \r\n                   \r\n                    this.isLoading = false;   \r\n                   \r\n             });\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n@import \"datatables.net-dt\";\r\n@import \"primevue/resources/themes/bootstrap4-light-blue/theme.css\"; /*theme*/\r\n@import \"primevue/resources/primevue.min.css   \"; /*core css*/\r\n@import \"primeicons/primeicons.css   \"; /*icons*/\r\n\r\n\r\nlabel{display:block;font-size:14px}\r\n.gap-2{margin-bottom:1rem}\r\n.gaptop-2{margin-top:1rem}\r\n\r\n.p-dialog{max-height: 200px}\r\n\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}