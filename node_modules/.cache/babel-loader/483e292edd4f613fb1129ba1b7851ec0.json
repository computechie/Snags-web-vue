{"ast":null,"code":"import { VueTreeList, Tree, TreeNode } from 'vue-tree-list';\nexport default {\n  components: {\n    VueTreeList\n  },\n\n  data() {\n    return {\n      hereMoveMainProjectTitle: '#hereMoveMainProjectTitle',\n      appType: \"\",\n      projectTitle: \"\",\n      projectNumber: \"\",\n      mainTitle: \"\",\n      newTree: {},\n      data: new Tree([{\n        name: 'Node 1',\n        id: 1,\n        pid: 0,\n        dragDisabled: true,\n        addTreeNodeDisabled: true,\n        addLeafNodeDisabled: true,\n        editNodeDisabled: true,\n        delNodeDisabled: true,\n        children: [{\n          name: 'Node 1-2',\n          id: 2,\n          isLeaf: true,\n          pid: 1\n        }]\n      }, {\n        name: 'Node 2',\n        id: 3,\n        pid: 0,\n        disabled: true\n      }, {\n        name: 'Node 3',\n        id: 4,\n        pid: 0\n      }]),\n\n      onDel(node) {\n        console.log(node);\n        node.remove();\n      },\n\n      onChangeName(params) {\n        console.log(params);\n      },\n\n      onAddNode(params) {\n        console.log(params);\n      },\n\n      onClick(params) {\n        console.log(params);\n      },\n\n      addNode() {\n        var node = new TreeNode({\n          name: 'new node',\n          isLeaf: false\n        });\n        if (!this.data.children) this.data.children = [];\n        this.data.addChildren(node);\n      },\n\n      getNewTree() {\n        var vm = this;\n\n        function _dfs(oldNode) {\n          var newNode = {};\n\n          for (var k in oldNode) {\n            if (k !== 'children' && k !== 'parent') {\n              newNode[k] = oldNode[k];\n            }\n          }\n\n          if (oldNode.children && oldNode.children.length > 0) {\n            newNode.children = [];\n\n            for (var i = 0, len = oldNode.children.length; i < len; i++) {\n              newNode.children.push(_dfs(oldNode.children[i]));\n            }\n          }\n\n          return newNode;\n        }\n\n        vm.newTree = _dfs(vm.data);\n      }\n\n    };\n  },\n\n  created() {\n    //project title... movo to the topBar\n    this.projectTitle = localStorage.getItem(\"selectedProjectTitle\");\n    this.projectNumber = localStorage.getItem(\"selectedProjectNumber\");\n    this.mainTitle = \"<h3 class='text-center'>\" + this.projectTitle + \"</h3>\";\n    this.mainTitle += \"<h5 class='text-center'>\" + this.projectNumber + \"</h5>\"; //back to project list if no project selected!\n\n    this.appType = localStorage.getItem(\"appType\");\n\n    if (this.appType == null) {\n      this.$router.replace(\"/pages/projectList\");\n    } //------------------------------------------------\n\n  }\n\n};","map":{"version":3,"mappings":"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","names":["VueTreeList","Tree","TreeNode","components","data","hereMoveMainProjectTitle","appType","projectTitle","projectNumber","mainTitle","newTree","name","id","pid","dragDisabled","addTreeNodeDisabled","addLeafNodeDisabled","editNodeDisabled","delNodeDisabled","children","isLeaf","disabled","onDel","node","console","log","remove","onChangeName","params","onAddNode","onClick","addNode","addChildren","getNewTree","vm","_dfs","oldNode","newNode","k","length","i","len","push","created","localStorage","getItem","$router","replace"],"sourceRoot":"","sources":["Q:\\Projects\\DFM v2\\src\\components\\pages\\TreeHolder.vue"],"sourcesContent":["<template>\r\n\r\n <teleport :to=\"hereMoveMainProjectTitle\" >\r\n    <div id=\"mainProjectTitle\" v-html=\"mainTitle\"></div>\r\n  </teleport>\r\n\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-3\">\r\n\r\n <vue-tree-list\r\n      @click=\"onClick\"\r\n      @change-name=\"onChangeName\"\r\n      @delete-node=\"onDel\"\r\n      @add-node=\"onAddNode\"\r\n      :model=\"data\"\r\n      default-tree-node-name=\"new node\"\r\n      default-leaf-node-name=\"new leaf\"\r\n      v-bind:default-expanded=\"false\"\r\n    >\r\n      <template v-slot:leafNameDisplay=\"slotProps\">\r\n        <span>\r\n          {{ slotProps.model.name }} <span class=\"muted\">#{{ slotProps.model.id }}</span>\r\n        </span>\r\n      </template>\r\n      <span class=\"icon\" slot=\"addTreeNodeIcon\">üìÇ</span>\r\n      <span class=\"icon\" slot=\"addLeafNodeIcon\">Ôºã</span>\r\n      <span class=\"icon\" slot=\"editNodeIcon\">üìÉ</span>\r\n      <span class=\"icon\" slot=\"delNodeIcon\">‚úÇÔ∏è</span>\r\n      <span class=\"icon\" slot=\"leafNodeIcon\">üçÉ</span>\r\n      <span class=\"icon\" slot=\"treeNodeIcon\">üå≤</span>\r\n    </vue-tree-list>\r\n\r\n\r\n\r\n    </div>\r\n    <div class=\"col-md-9\">\r\n      <router-view\r\n        @show-searchbar=\"showSeachbar\"\r\n        @app-type=\"appType\"\r\n      ></router-view>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n import { VueTreeList, Tree, TreeNode } from 'vue-tree-list'\r\n\r\n\r\nexport default {\r\n  components: {\r\n      VueTreeList\r\n    },\r\n  data() {\r\n    return {\r\n      hereMoveMainProjectTitle : '#hereMoveMainProjectTitle',\r\n      appType: \"\",\r\n      projectTitle : \"\",\r\n      projectNumber : \"\",  \r\n      mainTitle : \"\",\r\n\r\n        newTree: {},\r\n        data: new Tree([\r\n          {\r\n            name: 'Node 1',\r\n            id: 1,\r\n            pid: 0,\r\n            dragDisabled: true,\r\n            addTreeNodeDisabled: true,\r\n            addLeafNodeDisabled: true,\r\n            editNodeDisabled: true,\r\n            delNodeDisabled: true,\r\n            children: [\r\n              {\r\n                name: 'Node 1-2',\r\n                id: 2,\r\n                isLeaf: true,\r\n                pid: 1\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            name: 'Node 2',\r\n            id: 3,\r\n            pid: 0,\r\n            disabled: true\r\n          },\r\n          {\r\n            name: 'Node 3',\r\n            id: 4,\r\n            pid: 0\r\n          }\r\n        ]),\r\n        onDel(node) {\r\n        console.log(node)\r\n        node.remove()\r\n      },\r\n\r\n      onChangeName(params) {\r\n        console.log(params)\r\n      },\r\n\r\n      onAddNode(params) {\r\n        console.log(params)\r\n      },\r\n\r\n      onClick(params) {\r\n        console.log(params)\r\n      },\r\n\r\n      addNode() {\r\n        var node = new TreeNode({ name: 'new node', isLeaf: false })\r\n        if (!this.data.children) this.data.children = []\r\n        this.data.addChildren(node)\r\n      },\r\n\r\n      getNewTree() {\r\n        var vm = this\r\n        function _dfs(oldNode) {\r\n          var newNode = {}\r\n\r\n          for (var k in oldNode) {\r\n            if (k !== 'children' && k !== 'parent') {\r\n              newNode[k] = oldNode[k]\r\n            }\r\n          }\r\n\r\n          if (oldNode.children && oldNode.children.length > 0) {\r\n            newNode.children = []\r\n            for (var i = 0, len = oldNode.children.length; i < len; i++) {\r\n              newNode.children.push(_dfs(oldNode.children[i]))\r\n            }\r\n          }\r\n          return newNode\r\n        }\r\n\r\n        vm.newTree = _dfs(vm.data)\r\n      }\r\n\r\n\r\n\r\n    };\r\n  },\r\n  created() {\r\n    //project title... movo to the topBar\r\n    this.projectTitle = localStorage.getItem(\"selectedProjectTitle\");\r\n    this.projectNumber = localStorage.getItem(\"selectedProjectNumber\");\r\n    this.mainTitle = \"<h3 class='text-center'>\"+this.projectTitle+\"</h3>\";\r\n    this.mainTitle += \"<h5 class='text-center'>\"+this.projectNumber+\"</h5>\";\r\n\r\n    //back to project list if no project selected!\r\n    this.appType = localStorage.getItem(\"appType\");\r\n\r\n    if (this.appType == null) {\r\n      this.$router.replace(\"/pages/projectList\");\r\n    }\r\n    //------------------------------------------------\r\n  },\r\n};\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}