{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, Fragment as _Fragment } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_top_bar = _resolveComponent(\"top-bar\");\n\n  const _component_menu_link = _resolveComponent(\"menu-link\");\n\n  const _component_sidebar_cde = _resolveComponent(\"sidebar-cde\");\n\n  const _component_menu_linkdirect = _resolveComponent(\"menu-linkdirect\");\n\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_top_bar, {\n    onEmitSearch: $options.emitedSearch,\n    \"show-search\": $data.showSearch,\n    \"menu-icon\": $data.iconCloseOpen2,\n    \"background-style\": \"rgb(255,255,255,0.6)\",\n    \"title-color\": \"black\",\n    \"title-text\": $data.MainTitleText\n  }, null, 8\n  /* PROPS */\n  , [\"onEmitSearch\", \"show-search\", \"menu-icon\", \"title-text\"]), _createElementVNode(\"div\", {\n    class: \"wrapper\",\n    onMouseup: _cache[1] || (_cache[1] = $event => $options.endDragging()),\n    style: {\n      \"position\": \"relative\"\n    }\n  }, [$data.showMenu ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    id: \"sidebar\",\n    class: \"sidebar table-dark position-relative\",\n    style: _normalizeStyle({\n      width: `${$data.dividerPosition}px`,\n      minWidth: `${$data.dividerPosition}px`\n    })\n  }, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"sidebarTopMenu\", {\n      textcenter: $data.isCentered\n    }])\n  }, [_createVNode(_component_menu_link, {\n    atitle: \"Project list\",\n    link: \"/pages/projectList\",\n    icon: \"fa-solid fa-list\",\n    iconsize: \"21\",\n    isActive: $data.isActive\n  }, null, 8\n  /* PROPS */\n  , [\"isActive\"]), _createVNode(_component_menu_link, {\n    atitle: \"Manage users\",\n    link: \"/pages/manageUsers\",\n    icon: \"fa-solid fa-users\",\n    iconsize: \"17\",\n    isActive: $data.isActive\n  }, null, 8\n  /* PROPS */\n  , [\"isActive\"]), $data.isCDE ? (_openBlock(), _createBlock(_component_sidebar_cde, {\n    key: 0,\n    isActive: $data.isActive\n  }, null, 8\n  /* PROPS */\n  , [\"isActive\"])) : _createCommentVNode(\"v-if\", true)], 2\n  /* CLASS */\n  ), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"sidebarBottomMenu\", {\n      textcenter: $data.isCentered\n    }])\n  }, [_createVNode(_component_menu_linkdirect, {\n    atitle: \"Support\",\n    link: _ctx._rootlinkToHelpFile,\n    icon: \"fa-solid fa-circle-question\",\n    isActive: $data.isActive\n  }, null, 8\n  /* PROPS */\n  , [\"link\", \"isActive\"])], 2\n  /* CLASS */\n  )], 4\n  /* STYLE */\n  )) : _createCommentVNode(\"v-if\", true), $data.showMenu ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    id: \"divider\",\n    class: \"divider\",\n    style: _normalizeStyle({\n      left: `${$data.dividerPosition}px`\n    }),\n    onMousedown: _cache[0] || (_cache[0] = $event => $options.startDragging())\n  }, null, 36\n  /* STYLE, HYDRATE_EVENTS */\n  )) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", {\n    id: \"content\",\n    class: \"content\",\n    style: _normalizeStyle({\n      paddingLeft: `${$data.dividerPosition}px`,\n      width: `${$data.contentWidth}px`\n    })\n  }, [_createElementVNode(\"section\", null, [_createElementVNode(\"div\", {\n    class: \"container-fluid\",\n    style: _normalizeStyle({\n      padding: `${this.padding0}`\n    })\n  }, [_createVNode(_component_router_view, {\n    onShowSearchbar: $options.showSeachbar,\n    onAppType: $options.appType\n  }, null, 8\n  /* PROPS */\n  , [\"onShowSearchbar\", \"onAppType\"])], 4\n  /* STYLE */\n  )])], 4\n  /* STYLE */\n  )], 32\n  /* HYDRATE_EVENTS */\n  )], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;;;;;;;;6DACEA,aAOWC,kBAPX,EAOW;IANRC,YAAU,EAAEC,qBAMJ;IALF,eAAaC,gBAKX;IAJF,aAAWA,oBAIT;IAHT,oBAAiB,sBAGR;IAFT,eAAY,OAEH;IADF,cAAYA;EACV,CAPX;;EAAA,+DASAC,oBA6DM,KA7DN,EA6DM;IA7DDC,KAAK,EAAC,SA6DL;IA7DgBC,SAAO,sCAAEJ,sBAAF,CA6DvB;IA7DwCK,KAA0B,EAA1B;MAAA;IAAA;EA6DxC,CA7DN,GAGUJ,gCAFRK,oBA2CM,KA3CN,EA2CM;UAAA;IA1CJC,EAAE,EAAC,SA0CC;IAxCJJ,KAAK,EAAC,sCAwCF;IAvCHE,KAAK;gBAAuBJ,qBAAe,IAAtC;mBAAkEA,qBAAe;IAAjF;EAuCF,CA3CN,GASEC,oBAmBM,KAnBN,EAmBM;IAnBDC,KAAK,mBAAC,gBAAD,EAAiB;MAAAK,YAA6BP;IAA7B,CAAjB;EAmBJ,CAnBN,GACEJ,aAMaY,oBANb,EAMa;IALXC,MAAM,EAAC,cAKI;IAJXC,IAAI,EAAC,oBAIM;IAHXC,IAAI,EAAC,kBAGM;IAFXC,QAAQ,EAAC,IAEE;IADVC,QAAQ,EAAEb;EACA,CANb;;EAAA,iBAOAJ,aAMaY,oBANb,EAMa;IALXC,MAAM,EAAC,cAKI;IAJXC,IAAI,EAAC,oBAIM;IAHXC,IAAI,EAAC,mBAGM;IAFXC,QAAQ,EAAC,IAEE;IADVC,QAAQ,EAAEb;EACA,CANb;;EAAA,iBAQwCA,6BAAxCc,aAA6DC,sBAA7D,EAA6D;UAAA;IAA/CF,QAAQ,EAAEb;EAAqC,CAA7D;;EAAA,qDAhBF;;EAAA,GAqBFC,oBAQQ,KARR,EAQQ;IARHC,KAAK,mBAAC,mBAAD,EAAoB;MAAAK,YAA8BP;IAA9B,CAApB;EAQF,CARR,GACGJ,aAMoBoB,0BANpB,EAMoB;IAJjBP,MAAM,EAAC,SAIU;IAHhBC,IAAI,EAAEO,wBAGU;IAFjBN,IAAI,EAAC,6BAEY;IADhBE,QAAQ,EAAEb;EACM,CANpB;;EAAA,wBADH;;EAAA,EA9BA;;EAAA,wCA+CQA,gCAFRK,oBAMO,KANP,EAMO;UAAA;IALLC,EAAE,EAAC,SAKE;IAHLJ,KAAK,EAAC,SAGD;IAFJE,KAAK;MAAAc,SAAalB,qBAAe;IAA5B,EAED;IADJmB,WAAS,sCAAEpB,wBAAF;EACL,CANP;;EAAA,wCAQAE,oBAMM,KANN,EAMM;IANDK,EAAE,EAAC,SAMF;IANYJ,KAAK,EAAC,SAMlB;IAN6BE,KAAK;MAAAgB,gBAAoBpB,qBAAe,IAAnC;MAAmCqB,UAAerB,kBAAY;IAA9D;EAMlC,CANN,GACEC,oBAIU,SAJV,EAIU,IAJV,EAIU,CAHRA,oBAEM,KAFN,EAEM;IAFDC,KAAK,EAAC,iBAEL;IAFwBE,KAAK;MAAAkB,iBAAqBC,QAAQ;IAA7B;EAE7B,CAFN,GACE3B,aAA8E4B,sBAA9E,EAA8E;IAAhEC,eAAc,EAAE1B,qBAAgD;IAAjC2B,SAAQ,EAAE3B;EAAuB,CAA9E;;EAAA,oCADF;;EAAA,CAGQ,CAJV,EADF;;EAAA,EAtDF;;EAAA","names":["_createVNode","_component_top_bar","onEmitSearch","$options","$data","_createElementVNode","class","onMouseup","style","_createElementBlock","id","textcenter","_component_menu_link","atitle","link","icon","iconsize","isActive","_createBlock","_component_sidebar_cde","_component_menu_linkdirect","_ctx","left","onMousedown","paddingLeft","width","padding","padding0","_component_router_view","onShowSearchbar","onAppType"],"sourceRoot":"","sources":["Q:\\Projects\\DFM v2\\src\\components\\PagesHolder.vue"],"sourcesContent":["<template>\r\n  <top-bar\r\n    @emitSearch=\"emitedSearch\"\r\n    v-bind:show-search=\"showSearch\"\r\n    v-bind:menu-icon=\"iconCloseOpen2\"\r\n    background-style=\"rgb(255,255,255,0.6)\"\r\n    title-color=\"black\"\r\n    v-bind:title-text=\"MainTitleText\"\r\n  ></top-bar>\r\n\r\n  <div class=\"wrapper\" @mouseup=\"endDragging()\" style=\"position: relative\">\r\n    <div\r\n      id=\"sidebar\"\r\n      v-if=\"showMenu\"\r\n      class=\"sidebar table-dark position-relative\"\r\n      :style=\"{\r\n        width: `${dividerPosition}px`,\r\n        minWidth: `${dividerPosition}px`,\r\n      }\"\r\n    >\r\n      <div class=\"sidebarTopMenu\" v-bind:class=\"{ textcenter: isCentered }\">\r\n        <menu-link\r\n          atitle=\"Project list\"\r\n          link=\"/pages/projectList\"\r\n          icon=\"fa-solid fa-list\"\r\n          iconsize=\"21\"\r\n          :isActive=\"isActive\"\r\n        ></menu-link>\r\n        <menu-link\r\n          atitle=\"Manage users\"\r\n          link=\"/pages/manageUsers\"\r\n          icon=\"fa-solid fa-users\"\r\n          iconsize=\"17\"\r\n          :isActive=\"isActive\"\r\n        ></menu-link>\r\n\r\n        <sidebar-cde :isActive=\"isActive\" v-if=\"isCDE\"></sidebar-cde>\r\n\r\n\r\n      </div>\r\n\r\n    <div class=\"sidebarBottomMenu\"  v-bind:class=\"{ textcenter: isCentered }\">\r\n       <menu-linkdirect\r\n      \r\n          atitle=\"Support\"\r\n          :link=\"_rootlinkToHelpFile\"\r\n          icon=\"fa-solid fa-circle-question\"\r\n          :isActive=\"isActive\"\r\n        ></menu-linkdirect>\r\n      </div>   \r\n\r\n        \r\n\r\n\r\n    </div>\r\n\r\n    <div\r\n      id=\"divider\"\r\n      v-if=\"showMenu\"\r\n      class=\"divider\"\r\n      :style=\"{ left: `${dividerPosition}px` }\"\r\n      @mousedown=\"startDragging()\"\r\n    ></div>\r\n\r\n    <div id=\"content\" class=\"content\" :style=\"{ paddingLeft: `${dividerPosition}px`, width:`${contentWidth}px` }\">\r\n      <section>\r\n        <div class=\"container-fluid\" :style=\"{ padding: `${this.padding0}` }\">\r\n          <router-view @show-searchbar=\"showSeachbar\" @app-type=\"appType\"></router-view>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\n/*\r\n//visual settings:\r\nvar onLoadSidebarWidth = 200;\r\nvar breakPointForSmallScreen = 750;\r\nvar minWSidebarWidth = 50;\r\n\r\nvar breakPointHideSidebarDescriptions = 150;\r\nvar maxPercentageSidebarWidth = 30;\r\nvar onLoadContentWidth = window.innerWidth - onLoadSidebarWidth;\r\n*/\r\n\r\nexport default {\r\n  props: [\"emitSearch\"],\r\n\r\n  data() {\r\n    return {\r\n      TopBackgroundStyle: \"\",\r\n      showSearch: false,\r\n      MainTitleText: \"\", //this._rootAppTitle,\r\n      showMenu: true,\r\n      \r\n      //what app is it (for differnet links in left sidebar menu)\r\n      isCDE:false,\r\n      isQMS:false,\r\n      isSafetyfile:false,\r\n\r\n      // for visual settings:\r\n      padding0: \"12px\",\r\n      menuMinSize: 50,\r\n      breakPointHideSidebarDescriptions : 198, // when to hide menu description and show only icon\r\n      dividerPosition: 210, //px default width of the left sidebar!\r\n      contentWidth: window.innerWidth, //px width of the main content\r\n      isActive: true, //in start visible sidebar icon descriptions\r\n      isCentered: false, //sidebar icons on left at page load\r\n      iconCloseOpen: \"&#9776;\",\r\n      iconCloseOpen2: \"&#9776;\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    /// ------------------------------\r\n    /// resizable left sidebar!\r\n    handleDragging(e) {\r\n      const percentage = (e.pageX / window.innerWidth) * 100;\r\n\r\n      if (localStorage.getItem(\"dividerPosition\")) {\r\n        this.dividerPosition = localStorage.getItem(\"dividerPosition\");\r\n      }\r\n\r\n      if (e.pageX + 1 > this.menuMinSize && percentage <= 30) {\r\n        //only resizable if width of the left sidebar is in this percentage range\r\n        this.dividerPosition = (percentage / 100) * window.innerWidth;\r\n        \r\n      }this.contentWidth = window.innerWidth;\r\n\r\n      // on small screens hide sidebar menu descriptions\r\n      if (e.pageX < this.breakPointHideSidebarDescriptions) {\r\n        this.isActive = false;\r\n        this.iconCloseOpen = \"&#9776;\";\r\n    //    this.isCentered = true;\r\n      } else {\r\n        this.isActive = true;\r\n        this.iconCloseOpen = \"&#9776;\";\r\n        this.isCentered = false;\r\n      }\r\n      localStorage.setItem(\"dividerPosition\", this.dividerPosition);\r\n\r\n      // -------------------\r\n    },\r\n    startDragging() {\r\n      document.addEventListener(\"mousemove\", this.handleDragging);\r\n    },\r\n    endDragging() {\r\n      document.removeEventListener(\"mousemove\", this.handleDragging);\r\n    },\r\n\r\n    setToFullScreenWidth() {\r\n      this.contentWidth = window.innerWidth;\r\n      \r\n      // read if we have position set\r\n      var isSideBarOpen = localStorage.getItem(\"isSideBarOpen\");\r\n\r\n      if (localStorage.getItem(\"dividerPosition\")) {\r\n        this.dividerPosition = localStorage.getItem(\"dividerPosition\");\r\n      } else {\r\n        localStorage.setItem(\"dividerPosition\",200);\r\n        this.dividerPosition = 200;\r\n      }\r\n\r\n      if (localStorage.getItem(\"isSideBarOpen\")) {\r\n        //there is something in local storage for open/close menu\r\n        if (isSideBarOpen === \"true\") {\r\n          this.iconCloseOpen = \"&#9776;\";\r\n          this.isActive = false;\r\n          this.sidebarColapseOnLoad();\r\n        } else {\r\n          this.iconCloseOpen = \"&times;\";\r\n          this.isActive = false;\r\n          this.sidebarColapseOnLoad();\r\n        }\r\n      } else {\r\n        //empty localstorage fro menu open\r\n        if (this.iconCloseOpen === \"&#9776;\") {\r\n          localStorage.setItem(\"isSideBarOpen\", true);\r\n\r\n          this.sidebarColapseOnLoad();\r\n        } else {\r\n          localStorage.setItem(\"isSideBarOpen\", false);\r\n\r\n          this.sidebarColapseOnLoad();\r\n        }\r\n      }\r\n    },\r\n\r\n    getDimensions() {\r\n      //on window resize\r\n\r\n      if (window.innerWidth > 442) {\r\n        this.dividerPosition = 200;\r\n        this.contentWidth = window.innerWidth ;\r\n        this.isActive = true;\r\n        this.iconCloseOpen = \"&times;\";\r\n        this.isCentered = false;\r\n      } else {\r\n        this.dividerPosition = this.menuMinSize;\r\n        this.isActive = false;\r\n        this.iconCloseOpen = \"&#9776;\";\r\n      //  this.isCentered = true;\r\n      }\r\n\r\n      if (window.innerWidth < 500) {\r\n        this.dividerPosition = this.menuMinSize;\r\n        this.contentWidth = window.innerWidth ;\r\n        this.isActive = false;\r\n        this.iconCloseOpen = \"&#9776;\";\r\n     //   this.isCentered = true;\r\n      }\r\n    },\r\n    sidebarColapse() {\r\n\r\n\r\n      if (this.iconCloseOpen === \"&#9776;\") {\r\n        //we want to open it\r\n\r\n        if (localStorage.getItem(\"dividerPosition\")) {\r\n          this.dividerPosition = localStorage.getItem(\"dividerPosition\");\r\n        } else {\r\n          this.dividerPosition = 200;\r\n        }\r\n\r\n        if( this.dividerPosition < 200){\r\n          this.dividerPosition = 200;\r\n        }\r\n\r\n    \r\n\r\n        this.contentWidth = window.innerWidth;\r\n        this.isActive = true;\r\n        this.isCentered = false;\r\n        this.iconCloseOpen = \"&times;\";\r\n        localStorage.setItem(\"isSideBarOpen\", true);\r\n      } else {\r\n        //we wnat to close it\r\n        this.dividerPosition = this.menuMinSize;\r\n        this.contentWidth = window.innerWidth ;\r\n        this.isActive = false;\r\n   //     this.isCentered = true;\r\n        this.iconCloseOpen = \"&#9776;\";\r\n        localStorage.setItem(\"isSideBarOpen\", false);\r\n      }\r\n\r\n\r\n    },\r\n\r\n     sidebarColapseOnLoad() {\r\n\r\n\r\n      if (this.iconCloseOpen === \"&#9776;\") {\r\n        //we want to open it\r\n\r\n        if (localStorage.getItem(\"dividerPosition\")) {\r\n          this.dividerPosition = localStorage.getItem(\"dividerPosition\");\r\n        } else {\r\n          this.dividerPosition = 200;\r\n        }\r\n\r\n        /*if( this.dividerPosition < 200){\r\n          this.dividerPosition = 200;\r\n        }*/\r\n\r\n    \r\n\r\n        this.contentWidth = window.innerWidth ;\r\n        this.isActive = true;\r\n        this.isCentered = false;\r\n        this.iconCloseOpen = \"&times;\";\r\n        localStorage.setItem(\"isSideBarOpen\", true);\r\n      } else {\r\n        //we wnat to close it\r\n        this.dividerPosition = this.menuMinSize;\r\n        this.contentWidth = window.innerWidth ;\r\n        this.isActive = false;\r\n      //  this.isCentered = true;\r\n        this.iconCloseOpen = \"&#9776;\";\r\n        localStorage.setItem(\"isSideBarOpen\", false);\r\n      }\r\n\r\n\r\n      if(this.dividerPosition < this.breakPointHideSidebarDescriptions){\r\n        this.isActive = false;\r\n        this.iconCloseOpen = \"&#9776;\";\r\n   //     this.isCentered = true;\r\n      }\r\n    },\r\n\r\n    // ----------- end resizable left menu -------\r\n    manualLogout() {\r\n      this.$store.dispatch(\"logout\");\r\n      this.showMenu = false;\r\n      this.$router.replace(\"/\");\r\n    },\r\n\r\n    showSeachbar(what) {\r\n      this.showSearch = what;\r\n    },\r\n\r\n     appType(what) {\r\n      alert(what)\r\n    },\r\n\r\n    emitedSearch() {},\r\n  },\r\n  emits: [\"emitSearch\"],\r\n\r\n  mounted() {\r\n//what app, dieffent sidebar manu links\r\n    \r\n\r\n    window.addEventListener(\"resize\", this.getDimensions);\r\n  },\r\n  unmounted() {\r\n\r\n    window.removeEventListener(\"resize\", this.getDimensions);\r\n  },\r\n\r\n  created() {\r\n    \r\n    \r\n    \r\n    // this.rView.projectSearch(\"hehehe\");\r\n\r\n    this.setToFullScreenWidth();\r\n\r\n    //if user is no loged in then redirect to login page:\r\n    if (!this.$store.getters.isAuthenticated) {\r\n      this.$router.replace(\"/\");\r\n    }\r\n\r\n    //check if user is loggen in\r\n    this.$store.dispatch(\"autoLogin\");\r\n\r\n    //on create (on load)\r\n    // this.projects = projectsObject; // parsed json\r\n\r\n    //hidden sidebar on load if small screen\r\n    if (window.innerWidth < 750) {\r\n      // this.dividerPosition = this.menuMinSize;\r\n    }\r\n\r\n    /*if (window.innerWidth < 750) {\r\n      this.isActive = false;\r\n      this.iconCloseOpen = \"&#9776;\";\r\n      this.isCentered = true;\r\n    } else {\r\n      this.isActive = true;\r\n      this.iconCloseOpen = \"&times;\";\r\n      this.isCentered = false;\r\n    }*/\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\na.router-link-active {\r\n  background: #730e27;\r\n  color: white !important;\r\n}\r\na.router-link-active:hover {\r\n  background: #730e27;\r\n  color: white !important;\r\n}\r\n\r\n\r\n.sidebar{position:fixed !important}\r\n.divider{position:fixed !important}\r\n\r\n.sidebar{\r\n  background: #f0f0f0;\r\n  font-size: .92rem;\r\n  min-width: 32px;\r\n  position: fixed;\r\n  height: calc(100vh - 65px);\r\n}\r\n.sidebarBottomMenu, .sidebarTopMenu {\r\n  position: absolute;\r\n  left: 3px;\r\n  width: calc(100% - 6px);\r\n}\r\na.router-link-active,\r\na.router-link-active:hover {\r\n background:#730e27;\r\n color:#fff!important\r\n}\r\n.divider,\r\n.sidebar {\r\n position:fixed!important\r\n}\r\n\r\n.sidebarMenuRow i {\r\n width:21px\r\n}\r\n.sidebarMenuRow {\r\n display:block;\r\n margin-bottom:3px\r\n}\r\n.sidebar {\r\n background:#f0f0f0;\r\n font-size:.92rem;\r\n min-width:32px;\r\n position:fixed;\r\n height:calc(100vh - 65px)\r\n}\r\n.sidebar a {\r\n color:#444;\r\n text-decoration:none\r\n}\r\n.sideBarIcon {\r\n font-size:1rem\r\n}\r\n.sidebarTopMenu {\r\n top:60px\r\n}\r\n.sidebarBottomMenu,\r\n.sidebarTopMenu {\r\n position:absolute;\r\n left:3px;\r\n width:calc(100% - 6px)\r\n}\r\n.sidebarBottomMenu {\r\n bottom:10px\r\n}\r\n.sidebarBottomMenu i,\r\n.sidebarTopMenu i {\r\n margin-left:1px\r\n}\r\n.sidebarMenuRow {\r\n padding:3px;\r\n width:100%;\r\n padding-left:6px;\r\n padding-right:6px\r\n}\r\n.sidebarMenuRow:hover {\r\n background-color:#c2c2c2;\r\n vertical-align:middle\r\n}\r\n.menuDesc {\r\n margin-left:12px\r\n}\r\n\r\n</style>\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}