{"ast":null,"code":"import \"jquery/dist/jquery.min.js\";\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport $ from \"jquery\";\nexport default {\n  data() {\n    return {\n      users: [],\n      isLoading: true,\n      newType: null,\n      allUserTypes: ['ADMIN', 'USER'],\n      newCompany: null,\n      allCompanies: ['DFM Systems', 'Computech'],\n      NewFullName: null,\n      NewUsername: null,\n      NewEmail: null,\n      NewPassword: null,\n      NewRepeatPassword: null,\n      alertNewFullName: null,\n      alertNewUsername: null,\n      alertNewEmail: null,\n      alertNewPassword: null,\n      alertNewRepeatPassword: null,\n      alertnewType: null,\n      alertnewCompany: null\n    };\n  },\n\n  methods: {\n    usersSearch(what) {\n      //TODO: functon for searching Users\n      alert(\"User search: \" + what);\n    },\n\n    getUsers() {\n      this.isLoading = true;\n      fetch(\"https://www.it-b.hr/vue/users.php\").then(response => response.json()).then(data => {\n        this.users = data;\n        setTimeout(() => {\n          $(\"#datatable\").DataTable({\n            lengthMenu: [[25, 50, 100, -1], [25, 50, 100, \"All\"]],\n            pageLength: 25\n          });\n        });\n      });\n      this.isLoading = false;\n    },\n\n    projectSearch(what) {\n      $('#datatable_filter [type=\"search\"]').val(what);\n      $('#datatable_filter [type=\"search\"]').focus();\n      $('#datatable_filter [type=\"search\"]').keyup();\n      $(\"#search-holder form div input\").focus();\n    },\n\n    beforeOpenaddModal() {\n      //clear all inpute fields\n      this.newFu;\n    },\n\n    submitForm() {\n      this.formError = false;\n\n      if (!this.NewFullName) {\n        this.alertNewFullName = \"Please enter Fullname\";\n        this.formError = true;\n      }\n\n      if (!this.NewUsername) {\n        this.alertNewUsername = \"Please enter Username\";\n        this.formError = true;\n      }\n\n      if (!this.NewEmail) {\n        this.alertNewEmail = \"Please enter Email\";\n        this.formError = true;\n      }\n\n      if (this.NewPassword.length > 0 && this.NewRepeatPassword.length > 0 && this.NewPassword.length < 4) {\n        this.alertNewPassword = \"Password is too short. It must be at least 4 chars\";\n        this.formError = true;\n      }\n\n      if (!this.NewPassword) {\n        this.alertNewPassword = \"Please enter Password\";\n        this.formError = true;\n      }\n\n      if (!this.NewRepeatPassword) {\n        this.alertNewRepeatPassword = \"Please repeat Password\";\n        this.formError = true;\n      }\n\n      if (this.NewPassword > 3 && this.NewRepeatPassword > 3) {\n        if (this.NewRepeatPassword != this.NewPassword) {\n          this.alertNewRepeatPassword = \"Passwords don't match!\";\n          this.alertNewPassword = \"Passwords don't match!\";\n          this.formError = true;\n        }\n      }\n\n      if (!this.newType) {\n        this.alertnewType = \"Please select user type\";\n        this.formError = true;\n      }\n\n      if (!this.newCompany) {\n        this.alertnewCompany = \"Please select Company\";\n        this.formError = true;\n      }\n\n      if (this.formError == false) {\n        //create project ! for now just push in array\n        this.users.push({\n          id: Math.floor(Math.random() * 1000000),\n          name: this.NewFullName,\n          username: this.NewFullName,\n          email: this.NewEmail,\n          type: this.newType,\n          company: this.newCompany\n        });\n        this.closeModal(\"closeaddModal\"); //close login modal after submit;\n\n        document.getElementById(\"btnOpenMo\").click(); //  this.getProjectList(); // this is for getting from server for new list\n      }\n    },\n\n    KeyDown(field) {\n      if (field === \"NewFullName\" && this.NewFullName) {\n        this.alertNewFullName = \"\";\n      } else if (field === \"NewUsername\" && this.NewUsername) {\n        this.alertNewUsername = \"\";\n      } else if (field === \"NewEmail\" && this.NewEmail) {\n        this.alertNewEmail = \"\";\n      } else if (field === \"NewPassword\" && this.NewPassword) {\n        this.alertNewPassword = \"\";\n      } else if (field === \"NewRepeatPassword\" && this.NewRepeatPassword) {\n        this.alertNewRepeatPassword = \"\";\n      } else if (field === \"newType\" && this.newType) {\n        this.alertnewType = \"\";\n      } else if (field === \"newCompany\" && this.newCompany) {\n        this.alertnewCompany = \"\";\n      }\n    }\n\n  },\n  emits: {\n    showSearchbar: false\n  },\n\n  mounted() {\n    this.getUsers(); // this.$emit(\"showSearchbar\", true);\n  }\n\n};","map":{"version":3,"mappings":"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","names":["$","data","users","isLoading","newType","allUserTypes","newCompany","allCompanies","NewFullName","NewUsername","NewEmail","NewPassword","NewRepeatPassword","alertNewFullName","alertNewUsername","alertNewEmail","alertNewPassword","alertNewRepeatPassword","alertnewType","alertnewCompany","methods","usersSearch","what","alert","getUsers","fetch","then","response","json","setTimeout","DataTable","lengthMenu","pageLength","projectSearch","val","focus","keyup","beforeOpenaddModal","newFu","submitForm","formError","length","push","id","Math","floor","random","name","username","email","type","company","closeModal","document","getElementById","click","KeyDown","field","emits","showSearchbar","mounted"],"sourceRoot":"","sources":["Q:\\Projects\\DFM v2\\src\\components\\pages\\ManageUsers.vue"],"sourcesContent":["<template>\r\n  <base-dialog :show=\"isLoading\" title=\"Authenticating...\" fixed>\r\n    <base-spinner></base-spinner>\r\n  </base-dialog>\r\n\r\n  <div class=\"row mb-3\">\r\n    <div class=\"col-12 text-center\">\r\n      <search-holder @emit-search=\"usersSearch\"></search-holder>\r\n    </div>\r\n  </div>\r\n\r\n  <!--<data-table class=\"display\" :data=\"users\"   width=\"100%\">\r\n    <thead>\r\n        <tr>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Type</th>\r\n            <th>Company</th>\r\n        </tr>\r\n    </thead>\r\n</data-table>-->\r\n\r\n  <table id=\"datatable\">\r\n    <thead>\r\n      <tr>\r\n        <th>ID</th>\r\n        <th>Name</th>\r\n        <th>Username</th>\r\n        <th>Email</th>\r\n        <th>Type</th>\r\n        <th>Company</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"user in users\" :key=\"user.id\">\r\n        <td>{{ user.id }}</td>\r\n        <td>{{ user.name }}</td>\r\n        <td>{{ user.username }}</td>\r\n        <td>{{ user.email }}</td>\r\n        <td>{{ user.type }}</td>\r\n        <td>{{ user.company }}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n\r\n <!-- action button -->\r\n  <div class=\"right-corder-container\">\r\n    <button\r\n      @click=\"beforeOpenaddModal()\"\r\n      class=\"right-corder-container-button\"\r\n      data-bs-toggle=\"modal\"\r\n      data-bs-target=\"#addModal\"\r\n      title=\"Add new user\"\r\n    >\r\n      <span class=\"short-text\">+</span>\r\n    </button>\r\n  </div>\r\n\r\n  <!-- Add new modal-->\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"addModal\"\r\n    data-bs-backdrop=\"static\"\r\n    data-bs-keyboard=\"false\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"addModal\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"addModalLabel\">\r\n           Add new user\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            id=\"closeaddModal\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <form @submit.prevent=\"submitForm\">\r\n           \r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Fullname:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"NewFullName\"\r\n                      @keyup=\"KeyDown('NewFullName')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewFullName\"\r\n                      v-if=\"alertNewFullName\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n             <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Username:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"NewUsername\"\r\n                      @keyup=\"KeyDown('NewUsername')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewUsername\"\r\n                      v-if=\"alertNewUsername\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n\r\n\r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Email:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"NewEmail\"\r\n                      @keyup=\"KeyDown('NewEmail')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewEmail\"\r\n                      v-if=\"alertNewEmail\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n           <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Password:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"NewPassword\"\r\n                      @keyup=\"KeyDown('NewPassword')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewPassword\"\r\n                      v-if=\"alertNewPassword\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Repeat password:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"NewRepeatPassword\"\r\n                      @keyup=\"KeyDown('NewRepeatPassword')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewRepeatPassword\"\r\n                      v-if=\"alertNewRepeatPassword\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Type:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                  \r\n                  <v-select label=\"countryName\" v-model=\"newType\" :options=\"allUserTypes\"></v-select>\r\n\r\n\r\n\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewType\"\r\n                      v-if=\"alertNewType\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n             <div class=\"row mb-1\">\r\n              <div class=\"col-md-4 pt-2\">Company:</div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    \r\n                    <v-select label=\"countryName\" v-model=\"newCompany\" :mode=\"tags\" :create-option=\"true\" :searchable=\"true\" :options=\"allCompanies\"></v-select>\r\n\r\n\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div\r\n                      class=\"alert alert-danger alert-sm\"\r\n                      v-html=\"alertNewCompany\"\r\n                      v-if=\"alertNewCompany\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"mb-3\"></div>\r\n\r\n            <button type=\"submit\" class=\"btn btn-primary\">\r\n              Add user\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <div class=\"modal-footer\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <button\r\n    id=\"btnOpenMo\"\r\n    data-bs-toggle=\"modal\"\r\n    data-bs-target=\"#CreatedModal\"\r\n    class=\"d-none\"\r\n  />\r\n\r\n  <!-- Created Projects Modal -->\r\n  <div\r\n    class=\"modal fade\"\r\n    :class=\"{ show: createdProject }\"\r\n    :style=\"{ display: block }\"\r\n    id=\"CreatedModal\"\r\n    data-bs-backdrop=\"static\"\r\n    data-bs-keyboard=\"false\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"CreatedModal\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5>Info</h5>\r\n          <button\r\n            type=\"button\"\r\n            id=\"closeCreatedModal\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p>User added</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport \"jquery/dist/jquery.min.js\";\r\nimport \"datatables.net-dt/js/dataTables.dataTables\";\r\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\r\nimport $ from \"jquery\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      users: [],\r\n      isLoading: true,\r\n      newType: null,\r\n      allUserTypes: ['ADMIN','USER'],\r\n      newCompany: null,\r\n      allCompanies: ['DFM Systems','Computech'],\r\n      NewFullName: null,\r\n      NewUsername: null,\r\n      NewEmail: null,\r\n      NewPassword: null,\r\n      NewRepeatPassword: null,\r\n      alertNewFullName: null,\r\n      alertNewUsername: null,\r\n      alertNewEmail: null,\r\n      alertNewPassword: null,\r\n      alertNewRepeatPassword: null,\r\n      alertnewType: null,\r\n      alertnewCompany: null\r\n    };\r\n  },\r\n  methods: {\r\n    usersSearch(what) {\r\n      //TODO: functon for searching Users\r\n      alert(\"User search: \" + what);\r\n    },\r\n\r\n    getUsers() {\r\n      this.isLoading = true;\r\n\r\n      fetch(\"https://www.it-b.hr/vue/users.php\")\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          this.users = data;\r\n          setTimeout(() => {\r\n            $(\"#datatable\").DataTable({\r\n              lengthMenu: [\r\n                [25, 50, 100, -1],\r\n                [25, 50, 100, \"All\"],\r\n              ],\r\n              pageLength: 25,\r\n            });\r\n          });\r\n        });\r\n \r\n      this.isLoading = false;\r\n    },\r\n\r\n    projectSearch(what) {\r\n      $('#datatable_filter [type=\"search\"]').val(what);\r\n      $('#datatable_filter [type=\"search\"]').focus();\r\n      $('#datatable_filter [type=\"search\"]').keyup();\r\n      $(\"#search-holder form div input\").focus();\r\n    },\r\n\r\n    beforeOpenaddModal() {\r\n      //clear all inpute fields\r\n      this.newFu\r\n     \r\n    },\r\n    submitForm() {\r\n      this.formError = false;\r\n\r\n      if (!this.NewFullName) {\r\n        this.alertNewFullName = \"Please enter Fullname\";\r\n        this.formError = true;\r\n      }\r\n\r\n      if (!this.NewUsername) {\r\n        this.alertNewUsername = \"Please enter Username\";\r\n        this.formError = true;\r\n      }\r\n\r\n       if (!this.NewEmail) {\r\n        this.alertNewEmail = \"Please enter Email\";\r\n        this.formError = true;\r\n      }\r\n\r\n      \r\n      if (this.NewPassword.length >0  && this.NewRepeatPassword.length > 0 && this.NewPassword.length < 4) {\r\n        this.alertNewPassword = \"Password is too short. It must be at least 4 chars\";\r\n        this.formError = true;\r\n      }\r\n\r\n      if (!this.NewPassword) {\r\n        this.alertNewPassword = \"Please enter Password\";\r\n        this.formError = true;\r\n      }\r\n\r\n       if (!this.NewRepeatPassword ) {\r\n        this.alertNewRepeatPassword= \"Please repeat Password\";\r\n        this.formError = true;\r\n      }\r\n\r\n        if (this.NewPassword >3  && this.NewRepeatPassword >3){\r\n\r\n              if (this.NewRepeatPassword != this.NewPassword ) {\r\n                this.alertNewRepeatPassword= \"Passwords don't match!\";\r\n                this.alertNewPassword = \"Passwords don't match!\";\r\n                this.formError = true;\r\n              }\r\n\r\n        }\r\n\r\n      if (!this.newType) {\r\n        this.alertnewType = \"Please select user type\";\r\n        this.formError = true;\r\n      }\r\n\r\n      if (!this.newCompany) {\r\n        this.alertnewCompany = \"Please select Company\";\r\n        this.formError = true;\r\n      }\r\n\r\n\r\n\r\n\r\n      if (this.formError == false) {\r\n        //create project ! for now just push in array\r\n      \r\n       \r\n        this.users.push({\r\n          id: Math.floor(Math.random() * 1000000),\r\n          name: this.NewFullName,\r\n          username: this.NewFullName,\r\n          email: this.NewEmail,\r\n          type:this.newType,\r\n          company: this.newCompany\r\n          \r\n        });\r\n\r\n        this.closeModal(\"closeaddModal\"); //close login modal after submit;\r\n        document.getElementById(\"btnOpenMo\").click();\r\n        //  this.getProjectList(); // this is for getting from server for new list\r\n      }\r\n    },\r\n    \r\n    KeyDown(field) {\r\n      if (field === \"NewFullName\" && this.NewFullName) {\r\n        this.alertNewFullName = \"\";\r\n      } else if (field === \"NewUsername\" && this.NewUsername) {\r\n        this.alertNewUsername= \"\";\r\n      }else if (field === \"NewEmail\" && this.NewEmail) {\r\n        this.alertNewEmail= \"\";\r\n      }else if (field === \"NewPassword\" && this.NewPassword) {\r\n        this.alertNewPassword= \"\";\r\n      }else if (field === \"NewRepeatPassword\" && this.NewRepeatPassword) {\r\n        this.alertNewRepeatPassword= \"\";\r\n      }else if (field === \"newType\" && this.newType) {\r\n        this.alertnewType= \"\";\r\n      }else if (field === \"newCompany\" && this.newCompany) {\r\n        this.alertnewCompany= \"\";\r\n      }\r\n      \r\n    },\r\n\r\n  },\r\n\r\n  emits: {\r\n    showSearchbar: false,\r\n  },\r\n\r\n  mounted() {\r\n    this.getUsers();\r\n    // this.$emit(\"showSearchbar\", true);\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style>\r\n@import \"datatables.net-dt\";\r\n@import \"@vueform/multiselect/themes/default.css\";\r\n\r\n.datatable tr td {\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n#datatable_filter{display:none}\r\n\r\n\r\n.right-corder-container {\r\n  position: fixed;\r\n  right: 20px;\r\n  bottom: 20px;\r\n}\r\n\r\n.right-corder-container .right-corder-container-button {\r\n  height: 51px;\r\n  width: 51px;\r\n  border: none;\r\n  background-color: #730e27;\r\n  border-radius: 62px; /*Transform the square into rectangle, sync that value with the width/height*/\r\n  transition: all 300ms; /*Animation to close the button (circle)*/\r\n  box-shadow: 2px 4px 5px rgb(25, 73, 15, 0.5);\r\n  cursor: pointer;\r\n}\r\n.right-corder-container .right-corder-container-button span {\r\n  font-size: 40px;\r\n  color: white;\r\n  position: absolute;\r\n  left: 13px;\r\n  top: 9px;\r\n  line-height: 28px;\r\n}\r\nbody {\r\n  padding-bottom: 60px;\r\n}\r\n\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}