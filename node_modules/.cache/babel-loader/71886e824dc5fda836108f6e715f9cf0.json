{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nexport default {\n  async login(context, payload) {\n    const response = await fetch('https://www.it-b.hr/computech.php', {\n      method: 'POST',\n      body: payload.username,\n      password: payload.password,\n      returnSecureToken: true\n    });\n    const responseData = await response.json();\n\n    if (!response.ok) {\n      console.log(responseData);\n      const error = new Error(responseData.message || 'Failed to authenticate.');\n      throw error;\n    }\n\n    console.log(responseData);\n    context.commit('setUser', {\n      token: responseData.token,\n      userId: responseData.userId,\n      tokenExpiration: responseData.tokenExpiration\n    });\n  }\n\n};","map":{"version":3,"names":["login","context","payload","response","fetch","method","body","username","password","returnSecureToken","responseData","json","ok","console","log","error","Error","message","commit","token","userId","tokenExpiration"],"sources":["H:/www/vue/vue-cli-01-a-new-vue-project/src/store/modules/auth/actions.js"],"sourcesContent":["export default {\r\n    async login(context,payload) {\r\n\r\n     const response = await fetch('https://www.it-b.hr/computech.php',{\r\n            method: 'POST',\r\n            body: payload.username,\r\n            password: payload.password,\r\n            returnSecureToken : true\r\n\r\n       });\r\n              \r\n       const responseData = await response.json();\r\n\r\n       if(!response.ok){\r\n            console.log(responseData);\r\n            const error = new Error(responseData.message || 'Failed to authenticate.');\r\n            throw error;\r\n       }\r\n\r\n       console.log(responseData);\r\n\r\n\r\n       context.commit('setUser',{\r\n               token: responseData.token,\r\n               userId : responseData.userId,\r\n               tokenExpiration :responseData.tokenExpiration\r\n\r\n\r\n               \r\n        });\r\n\r\n        \r\n\r\n\r\n    }, \r\n}"],"mappings":";AAAA,eAAe;EACX,MAAMA,KAAN,CAAYC,OAAZ,EAAoBC,OAApB,EAA6B;IAE5B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAD,EAAqC;MAC1DC,MAAM,EAAE,MADkD;MAE1DC,IAAI,EAAEJ,OAAO,CAACK,QAF4C;MAG1DC,QAAQ,EAAEN,OAAO,CAACM,QAHwC;MAI1DC,iBAAiB,EAAG;IAJsC,CAArC,CAA5B;IAQE,MAAMC,YAAY,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAA3B;;IAEA,IAAG,CAACR,QAAQ,CAACS,EAAb,EAAgB;MACXC,OAAO,CAACC,GAAR,CAAYJ,YAAZ;MACA,MAAMK,KAAK,GAAG,IAAIC,KAAJ,CAAUN,YAAY,CAACO,OAAb,IAAwB,yBAAlC,CAAd;MACA,MAAMF,KAAN;IACJ;;IAEDF,OAAO,CAACC,GAAR,CAAYJ,YAAZ;IAGAT,OAAO,CAACiB,MAAR,CAAe,SAAf,EAAyB;MACjBC,KAAK,EAAET,YAAY,CAACS,KADH;MAEjBC,MAAM,EAAGV,YAAY,CAACU,MAFL;MAGjBC,eAAe,EAAEX,YAAY,CAACW;IAHb,CAAzB;EAYF;;AAlCU,CAAf"},"metadata":{},"sourceType":"module"}