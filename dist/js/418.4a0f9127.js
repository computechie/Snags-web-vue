(self["webpackChunkSnags"]=self["webpackChunkSnags"]||[]).push([[418],{8451:function(t,e,s){var i;s(1703),s(8675),s(7380),s(1118),
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.10.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */
function(){"use strict";var e="input is invalid type",n="object"===typeof window,r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var a=!n&&"object"===typeof self,o=!r.JS_SHA256_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;o?r=s.g:a&&(r=self);var h=!r.JS_SHA256_NO_COMMON_JS&&t.exports,l=s.amdO,d=!r.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,c="0123456789abcdef".split(""),u=[-2147483648,8388608,32768,128],p=[24,16,8,0],f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],w=["hex","array","digest","arrayBuffer"],y=[];!r.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!d||!r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var g=function(t,e){return function(s){return new x(e,!0).update(s)[t]()}},m=function(t){var e=g("hex",t);o&&(e=v(e,t)),e.create=function(){return new x(t)},e.update=function(t){return e.create().update(t)};for(var s=0;s<w.length;++s){var i=w[s];e[i]=g(i,t)}return e},v=function(t,i){var n,a=s(6127),o=s(1371).Buffer,h=i?"sha224":"sha256";n=o.from&&!r.JS_SHA256_NO_BUFFER_FROM?o.from:function(t){return new o(t)};var l=function(s){if("string"===typeof s)return a.createHash(h).update(s,"utf8").digest("hex");if(null===s||void 0===s)throw new Error(e);return s.constructor===ArrayBuffer&&(s=new Uint8Array(s)),Array.isArray(s)||ArrayBuffer.isView(s)||s.constructor===o?a.createHash(h).update(n(s)).digest("hex"):t(s)};return l},b=function(t,e){return function(s,i){return new k(s,e,!0).update(i)[t]()}},_=function(t){var e=b("hex",t);e.create=function(e){return new k(e,t)},e.update=function(t,s){return e.create(t).update(s)};for(var s=0;s<w.length;++s){var i=w[s];e[i]=b(i,t)}return e};function x(t,e){e?(y[0]=y[16]=y[1]=y[2]=y[3]=y[4]=y[5]=y[6]=y[7]=y[8]=y[9]=y[10]=y[11]=y[12]=y[13]=y[14]=y[15]=0,this.blocks=y):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function k(t,s,i){var n,r=typeof t;if("string"===r){var a,o=[],h=t.length,l=0;for(n=0;n<h;++n)a=t.charCodeAt(n),a<128?o[l++]=a:a<2048?(o[l++]=192|a>>6,o[l++]=128|63&a):a<55296||a>=57344?(o[l++]=224|a>>12,o[l++]=128|a>>6&63,o[l++]=128|63&a):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++n)),o[l++]=240|a>>18,o[l++]=128|a>>12&63,o[l++]=128|a>>6&63,o[l++]=128|63&a);t=o}else{if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(d&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!d||!ArrayBuffer.isView(t)))throw new Error(e)}t.length>64&&(t=new x(s,!0).update(t).array());var c=[],u=[];for(n=0;n<64;++n){var p=t[n]||0;c[n]=92^p,u[n]=54^p}x.call(this,s,i),this.update(u),this.oKeyPad=c,this.inner=!0,this.sharedMemory=i}x.prototype.update=function(t){if(!this.finalized){var s,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(e);if(null===t)throw new Error(e);if(d&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!d||!ArrayBuffer.isView(t)))throw new Error(e);s=!0}var n,r,a=0,o=t.length,h=this.blocks;while(a<o){if(this.hashed&&(this.hashed=!1,h[0]=this.block,h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0),s)for(r=this.start;a<o&&r<64;++a)h[r>>2]|=t[a]<<p[3&r++];else for(r=this.start;a<o&&r<64;++a)n=t.charCodeAt(a),n<128?h[r>>2]|=n<<p[3&r++]:n<2048?(h[r>>2]|=(192|n>>6)<<p[3&r++],h[r>>2]|=(128|63&n)<<p[3&r++]):n<55296||n>=57344?(h[r>>2]|=(224|n>>12)<<p[3&r++],h[r>>2]|=(128|n>>6&63)<<p[3&r++],h[r>>2]|=(128|63&n)<<p[3&r++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++a)),h[r>>2]|=(240|n>>18)<<p[3&r++],h[r>>2]|=(128|n>>12&63)<<p[3&r++],h[r>>2]|=(128|n>>6&63)<<p[3&r++],h[r>>2]|=(128|63&n)<<p[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=h[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},x.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=u[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},x.prototype.hash=function(){var t,e,s,i,n,r,a,o,h,l,d,c=this.h0,u=this.h1,p=this.h2,w=this.h3,y=this.h4,g=this.h5,m=this.h6,v=this.h7,b=this.blocks;for(t=16;t<64;++t)n=b[t-15],e=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,n=b[t-2],s=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,b[t]=b[t-16]+e+b[t-7]+s<<0;for(d=u&p,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,n=b[0]-1413257819,v=n-150054599<<0,w=n+24177077<<0):(o=704751109,n=b[0]-210244248,v=n-1521486534<<0,w=n+143694565<<0),this.first=!1):(e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),o=c&u,i=o^c&p^d,a=y&g^~y&m,n=v+s+a+f[t]+b[t],r=e+i,v=w+n<<0,w=n+r<<0),e=(w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),s=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),h=w&c,i=h^w&u^o,a=v&y^~v&g,n=m+s+a+f[t+1]+b[t+1],r=e+i,m=p+n<<0,p=n+r<<0,e=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),s=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),l=p&w,i=l^p&c^h,a=m&v^~m&y,n=g+s+a+f[t+2]+b[t+2],r=e+i,g=u+n<<0,u=n+r<<0,e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),s=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),d=u&p,i=d^u&w^l,a=g&m^~g&v,n=y+s+a+f[t+3]+b[t+3],r=e+i,y=c+n<<0,c=n+r<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+c<<0,this.h1=this.h1+u<<0,this.h2=this.h2+p<<0,this.h3=this.h3+w<<0,this.h4=this.h4+y<<0,this.h5=this.h5+g<<0,this.h6=this.h6+m<<0,this.h7=this.h7+v<<0},x.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,s=this.h2,i=this.h3,n=this.h4,r=this.h5,a=this.h6,o=this.h7,h=c[t>>28&15]+c[t>>24&15]+c[t>>20&15]+c[t>>16&15]+c[t>>12&15]+c[t>>8&15]+c[t>>4&15]+c[15&t]+c[e>>28&15]+c[e>>24&15]+c[e>>20&15]+c[e>>16&15]+c[e>>12&15]+c[e>>8&15]+c[e>>4&15]+c[15&e]+c[s>>28&15]+c[s>>24&15]+c[s>>20&15]+c[s>>16&15]+c[s>>12&15]+c[s>>8&15]+c[s>>4&15]+c[15&s]+c[i>>28&15]+c[i>>24&15]+c[i>>20&15]+c[i>>16&15]+c[i>>12&15]+c[i>>8&15]+c[i>>4&15]+c[15&i]+c[n>>28&15]+c[n>>24&15]+c[n>>20&15]+c[n>>16&15]+c[n>>12&15]+c[n>>8&15]+c[n>>4&15]+c[15&n]+c[r>>28&15]+c[r>>24&15]+c[r>>20&15]+c[r>>16&15]+c[r>>12&15]+c[r>>8&15]+c[r>>4&15]+c[15&r]+c[a>>28&15]+c[a>>24&15]+c[a>>20&15]+c[a>>16&15]+c[a>>12&15]+c[a>>8&15]+c[a>>4&15]+c[15&a];return this.is224||(h+=c[o>>28&15]+c[o>>24&15]+c[o>>20&15]+c[o>>16&15]+c[o>>12&15]+c[o>>8&15]+c[o>>4&15]+c[15&o]),h},x.prototype.toString=x.prototype.hex,x.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,s=this.h2,i=this.h3,n=this.h4,r=this.h5,a=this.h6,o=this.h7,h=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,s>>24&255,s>>16&255,s>>8&255,255&s,i>>24&255,i>>16&255,i>>8&255,255&i,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||h.push(o>>24&255,o>>16&255,o>>8&255,255&o),h},x.prototype.array=x.prototype.digest,x.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},k.prototype=new x,k.prototype.finalize=function(){if(x.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();x.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),x.prototype.finalize.call(this)}};var A=m();A.sha256=A,A.sha224=m(!0),A.sha256.hmac=_(),A.sha224.hmac=_(!0),h?t.exports=A:(r.sha256=A.sha256,r.sha224=A.sha224,l&&(i=function(){return A}.call(A,s,A,t),void 0===i||(t.exports=i)))}()},2679:function(t,e,s){"use strict";s.d(e,{Z:function(){return r}});var i=s(3396),n=s(7139),r={name:"InlineMessage",props:{severity:{type:String,default:"error"}},timeout:null,data(){return{visible:!0}},mounted(){this.sticky||setTimeout((()=>{this.visible=!1}),this.life)},computed:{containerClass(){return["p-inline-message p-component p-inline-message-"+this.severity,{"p-inline-message-icon-only":!this.$slots.default}]},iconClass(){return["p-inline-message-icon pi",{"pi-info-circle":"info"===this.severity,"pi-check":"success"===this.severity,"pi-exclamation-triangle":"warn"===this.severity,"pi-times-circle":"error"===this.severity}]}}};const a={class:"p-inline-message-text"},o=(0,i.Uk)("Â ");function h(t,e,s,r,h,l){return(0,i.wg)(),(0,i.iD)("div",{"aria-live":"polite",class:(0,n.C_)(l.containerClass)},[(0,i._)("span",{class:(0,n.C_)(l.iconClass)},null,2),(0,i._)("span",a,[(0,i.WI)(t.$slots,"default",{},(()=>[o]))])],2)}function l(t,e){void 0===e&&(e={});var s=e.insertAt;if(t&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===s&&i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}var d="\n.p-inline-message {\n    display: -webkit-inline-box;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    vertical-align: top;\n}\n.p-inline-message-icon-only .p-inline-message-text {\n    visibility: hidden;\n    width: 0;\n}\n.p-fluid .p-inline-message {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n";l(d),r.render=h},6709:function(t,e,s){"use strict";s.d(e,{Z:function(){return r}});var i=s(3396),n=s(7139),r={name:"InputText",emits:["update:modelValue"],props:{modelValue:null},methods:{onInput(t){this.$emit("update:modelValue",t.target.value)}},computed:{filled(){return null!=this.modelValue&&this.modelValue.toString().length>0}}};const a=["value"];function o(t,e,s,r,o,h){return(0,i.wg)(),(0,i.iD)("input",{class:(0,n.C_)(["p-inputtext p-component",{"p-filled":h.filled}]),value:s.modelValue,onInput:e[0]||(e[0]=(...t)=>h.onInput&&h.onInput(...t))},null,42,a)}r.render=o},418:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return E}});var i=s(3396),n=s(7139);const r={class:"container"},a={class:"row"},o=(0,i._)("div",{class:"col-md-12 text-center gap-2 gaptop-2"},[(0,i._)("h4",null,"Reset password")],-1),h={class:"col-md-12 text-center gap-2"},l={class:"flex flex-column gap-2"},d=(0,i._)("label",{for:"password"},"Enter new password",-1),c=(0,i.Uk)("This field is required"),u=(0,i.Uk)("Passwords do NOT match!"),p={class:"col-md-12 text-center gap-2"},f={class:"flex flex-column gap-2"},w=(0,i._)("label",{for:"password"},"Repeat password",-1),y=(0,i.Uk)("This field is required"),g=(0,i.Uk)("Passwords do NOT match!"),m={class:"col-md-12 text-center gap-2"},v=(0,i._)("div",{class:"col-md-12 text-center gap-2"},[(0,i._)("p",null,[(0,i._)("a",{href:"/"},"back to home page")])],-1),b=(0,i._)("span",{class:"font-bold text-2xl block mb-2 mt-4"},null,-1),_={class:"mb-0"},x={class:"flex text-end mt-4"};function k(t,e,s,k,A,S){const O=(0,i.up)("base-spinner"),I=(0,i.up)("base-dialog"),P=(0,i.up)("top-bar"),C=(0,i.up)("InputText"),B=(0,i.up)("InlineMessage"),M=(0,i.up)("Button"),U=(0,i.up)("Dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(I,{show:A.isLoading,title:"Authenticating...",fixed:""},{default:(0,i.w5)((()=>[(0,i.Wm)(O)])),_:1},8,["show"]),(0,i.Wm)(P,{onEmitSearch:t.emitedSearch,"show-search":t.showSearch,"menu-icon":t.iconCloseOpen2,"background-style":"rgb(255,255,255,0.6)","title-color":"black","title-text":t.MainTitleText},null,8,["onEmitSearch","show-search","menu-icon","title-text"]),(0,i._)("div",r,[(0,i._)("div",a,[o,(0,i._)("div",h,[(0,i._)("div",l,[d,(0,i.Wm)(C,{type:"password",onInput:S.typing,modelValue:A.newPassword,"onUpdate:modelValue":e[0]||(e[0]=t=>A.newPassword=t),style:{"min-width":"300px"}},null,8,["onInput","modelValue"]),(0,i._)("p",null,[A.newPasswordOK?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(B,{key:0},{default:(0,i.w5)((()=>[c])),_:1})),A.passwordsMatchOK?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(B,{key:1},{default:(0,i.w5)((()=>[u])),_:1}))])])]),(0,i._)("div",p,[(0,i._)("div",f,[w,(0,i.Wm)(C,{type:"password",onInput:S.typing,modelValue:A.newPasswordRepeat,"onUpdate:modelValue":e[1]||(e[1]=t=>A.newPasswordRepeat=t),style:{"min-width":"300px"}},null,8,["onInput","modelValue"]),(0,i._)("p",null,[A.newPasswordRepeatOK?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(B,{key:0},{default:(0,i.w5)((()=>[y])),_:1})),A.passwordsMatchOK?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(B,{key:1},{default:(0,i.w5)((()=>[g])),_:1}))])])]),(0,i._)("div",m,[(0,i._)("p",null,[(0,i.Wm)(M,{label:"Set new password",onClick:S.changePassword},null,8,["onClick"])])]),v])]),(0,i.Wm)(U,{visible:A.displayInfoDialog,"onUpdate:visible":e[2]||(e[2]=t=>A.displayInfoDialog=t),modal:"",style:(0,n.j5)(t.infoDialogStyle),breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,i.w5)((()=>[(0,i._)("h4",null,(0,n.zw)(t.InfoModalHeader),1)])),default:(0,i.w5)((()=>[b,(0,i._)("p",_,(0,n.zw)(t.InfoModalMessage),1),(0,i._)("div",x,[(0,i.Wm)(M,{label:"Ok",onClick:S.messageClose},null,8,["onClick"])])])),_:1},8,["visible","style"])],64)}var A=s(6709),S=s(1826),O=s(2679),I=s(2419),P=s(6265),C=s.n(P),B=s(8451),M=s.n(B),U={props:["resetKey"],components:{InputText:A.Z,Button:S.Z,Dialog:I.Z,InlineMessage:O.Z},data(){return{isLoading:!1,displayInfoDialog:!1,newPasswordOK:!0,newPasswordRepeatOK:!0,passwordsMatchOK:!0,newPassword:"",newPasswordRepeat:"",passwordChangedOk:!1}},methods:{typing(){this.newPasswordOK=!0,this.newPasswordRepeatOK=!0,this.passwordsMatchOK=!0},messageClose(){this.displayInfoDialog=!1,this.passwordChangedOk&&this.$router.replace("/")},changePassword(){var t=!0;if(""==this.newPassword?(this.newPasswordOK=!1,t=!1):this.newPasswordOK=!0,""==this.newPasswordRepeat?(this.newPasswordRepeatOK=!1,t=!1):this.newPasswordRepeatOK=!0,""!=this.newPassword&&""!=this.newPasswordRepeat&&this.newPassword!=this.newPasswordRepeat&&(this.passwordsMatchOK=!1,t=!1),1==t)if(1==this.checkPasswordSecurity(this.newPassword))this.changePasswordinDatabase();else{const t="The password must contain one lower case, one upper case, one number and one symbol, and be at least made of 8 symbols!";this.InfoModalHeader="Error!",this.InfoModalMessage=t,this.infoDialogStyle=[{width:"40rem"}],this.displayInfoDialog=!0}},checkPasswordSecurity(t){var e=/^.*(?=.{8,20})(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&!-_/*.,:;"'<>]).*$/;return!!e.test(t)},async changePasswordinDatabase(){this.isLoading=!0;var t=M()(this.newPassword);const e=localStorage.getItem("_rootRestUrl");let s=JSON.stringify({code:this.resetKey,password:t}),i={headers:{"Content-Type":"application/json"}};await C().post(e+"/api/v1/User/ResetPassword/",s,i).then((()=>{this.InfoModalHeader="Info",this.InfoModalMessage="Password is changed. You can now login to app using your new password",this.infoDialogStyle=[{width:"40rem"}],this.displayInfoDialog=!0,this.passwordChangedOk=!0,this.isLoading=!1})).catch((t=>{console.table(t),t.response&&(this.InfoModalHeader="Error!",this.InfoModalMessage=t.response.data,this.infoDialogStyle=[{width:"40rem"}],this.displayInfoDialog=!0),this.isLoading=!1}))}},mounted(){}},R=s(89);const D=(0,R.Z)(U,[["render",k]]);var E=D},1371:function(){},6127:function(){}}]);
//# sourceMappingURL=418.4a0f9127.js.map