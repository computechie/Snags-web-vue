"use strict";(self["webpackChunktransport"]=self["webpackChunktransport"]||[]).push([[252],{6252:function(e,t,i){i.r(t),i.d(t,{default:function(){return vs}});var a=i(3396),s=i(7139),l=i(9242);const o={style:{display:"none"},class:"flex justify-content-between"},n={class:"p-input-icon-left",id:"searchBox"},r=(0,a._)("i",{class:"pi pi-search"},null,-1),d={class:"row"},p={class:"col-md-4"},c=(0,a.Uk)("   "),h=(0,a.Uk)("   "),m={class:"col-md-8 text-end"},u=(0,a.Uk)(" Loading data. Please wait... "),g=["data"],f={key:0,class:"pi pi-check"},v=["data"],w={style:{display:"inline-block",width:"85%","padding-right":"50px"}},y={key:0,style:{fdisplay:"inline-block",display:"block",width:"15%"}},b=(0,a._)("i",{class:"fa fa-camera"},null,-1),T=[b],D={class:"text-end",style:{display:"block",width:"100%","padding-right":"40px"}},C={class:"text-center",style:{display:"block",width:"100%"}},k={class:"text-end",style:{display:"block",width:"100%","padding-right":"40px"}},I={class:"text-end",style:{display:"block",width:"100%","padding-right":"40px"}},x=(0,a._)("div",{style:{right:"20px",position:"absolute"}},[(0,a._)("div",{style:{float:"right"}},"Actions")],-1),_={class:"actionButtonsHolderTable"},F=(0,a._)("i",{class:"fa-solid fa-square fa-stack-2x"},null,-1),M=(0,a._)("i",{class:"fa-stack-1x fa-solid fa-pen-to-square",style:{color:"white"}},null,-1),N=[F,M],S=(0,a._)("i",{class:"fa-solid fa-square fa-stack-2x"},null,-1),U=(0,a._)("i",{class:"fa-stack-1x fa-solid fa-trash-can",style:{color:"white"}},null,-1),O=[S,U],A={class:"row"},V={class:"col-md-12 text-end"},B={class:"row"},K={class:"col text-center"},P={id:"detailsHeadline"},L={class:"text-end",id:"editIconsPanel"},W={key:0,class:"invoiceButtonHolder"},Y={class:"actionButtonsHolder"},E=(0,a._)("i",{class:"fa-solid fa-square fa-stack-2x"},null,-1),q=(0,a._)("i",{class:"fa-stack-1x fa-solid fa-download",style:{color:"white"}},null,-1),z=[E,q],$=(0,a._)("i",{class:"fa-solid fa-square fa-stack-2x"},null,-1),H=(0,a._)("i",{class:"fa-stack-1x fa-solid fa-pen-to-square",style:{color:"white"}},null,-1),R=[$,H],j=(0,a._)("i",{class:"fa-solid fa-square fa-stack-2x"},null,-1),Z=(0,a._)("i",{class:"fa-stack-1x fa-solid fa-trash-can",style:{color:"white"}},null,-1),G=[j,Z],J={class:"row",style:{}},Q={class:"col text-center",style:{padding:"19px"}},X={class:"table table-striped table-sm",id:"detailsTable"},ee=(0,a._)("td",{style:{width:"160px"}},"Date",-1),te=(0,a._)("td",null,"From",-1),ie=(0,a._)("td",null,"To",-1),ae=(0,a._)("td",null,"Cargo Name",-1),se=(0,a._)("td",null,"Fixed Costs",-1),le=(0,a._)("td",null,"Distance",-1),oe=(0,a._)("td",null,"Distance Costs",-1),ne=(0,a._)("td",null,"Sum",-1),re=(0,a._)("td",null,"Sum VAT",-1),de=(0,a._)("td",null,"Full Name",-1),pe=(0,a._)("td",null,"Email",-1),ce=(0,a._)("td",null,"Company Name",-1),he=(0,a._)("td",null,"Vat %",-1),me=(0,a._)("td",null,"Comments",-1),ue=["textContent"],ge={class:"row"},fe={class:"col text-end",style:{padding:"0"}},ve={class:"row",style:{"margin-top":"12px"}},we={class:"col text-end",style:{padding:"0"}},ye=(0,a.Uk)(" Enter new trip "),be={class:"container",id:"formContainer"},Te={class:"row insertFormRow align-items-center even"},De=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"newTripDate"},"Date *")],-1),Ce={class:"col-md-9"},ke=(0,a.Uk)("This field is required"),Ie={class:"row insertFormRow align-items-center"},xe=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"newTripCompanyName"},"Company Name *")],-1),_e={class:"col-md-9"},Fe=(0,a.Uk)("This field is required"),Me={class:"row insertFormRow align-items-center even"},Ne=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"newTripFrom"},"From *")],-1),Se={class:"col-md-9"},Ue=(0,a.Uk)("This field is required"),Oe={class:"row insertFormRow align-items-center"},Ae=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"username"},"To *")],-1),Ve={class:"col-md-9"},Be=(0,a.Uk)("This field is required"),Ke={class:"row insertFormRow align-items-center even"},Pe=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"newTripCargoName"},"Cargo Name *")],-1),Le={class:"col-md-9"},We=(0,a.Uk)("This field is required"),Ye={class:"row insertFormRow align-items-center"},Ee=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"newTripFixedCosts"},"Costs *")],-1),qe={class:"col-md-9"},ze=(0,a.Uk)("This field is required"),$e={class:"row insertFormRow align-items-center even"},He=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"newTripDistance"},"Distance")],-1),Re={class:"col-md-9"},je=(0,a.Uk)("This field is required"),Ze={class:"row insertFormRow align-items-center",style:{display:"none"}},Ge=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"newTripDistanceCosts"},"Distance Costs")],-1),Je={class:"col-md-9"},Qe=(0,a.Uk)("This field is required"),Xe={class:"row insertFormRow align-items-center"},et=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"newTripComments"},"Comments")],-1),tt={class:"col-md-9"},it=(0,a.Uk)("This field is required"),at={class:"row insertFormRow align-items-center"},st={class:"col-md-6 text-left"},lt={class:"col-md-6 text-end"},ot=(0,a.Uk)(" Edit trip "),nt={class:"container",id:"formContainer"},rt={class:"row insertFormRow align-items-center even"},dt=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"editTripDate"},"Date")],-1),pt={class:"col-md-9"},ct=(0,a.Uk)("This field is required"),ht={class:"row insertFormRow align-items-center"},mt=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"editTripCompanyName"},"Company Name *")],-1),ut={class:"col-md-9"},gt=(0,a.Uk)("This field is required"),ft={class:"row insertFormRow align-items-center even"},vt=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"editTripFrom"},"From *")],-1),wt={class:"col-md-9"},yt=(0,a.Uk)("This field is required"),bt={class:"row insertFormRow align-items-center"},Tt=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"username"},"To *")],-1),Dt={class:"col-md-9"},Ct=(0,a.Uk)("This field is required"),kt={class:"row insertFormRow align-items-center even"},It=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"editTripCargoName"},"Cargo Name *")],-1),xt={class:"col-md-9"},_t=(0,a.Uk)("This field is required"),Ft={class:"row insertFormRow align-items-center"},Mt=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"editTripFixedCosts"},"Costs *")],-1),Nt={class:"col-md-9"},St=(0,a.Uk)("This field is required"),Ut={class:"row insertFormRow align-items-center even"},Ot=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"editTripDistance"},"Distance")],-1),At={class:"col-md-9"},Vt=(0,a.Uk)("This field is required"),Bt={class:"row insertFormRow align-items-center",style:{display:"none"}},Kt=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"editTripDistanceCosts"},"Distance Costs")],-1),Pt={class:"col-md-9"},Lt=(0,a.Uk)("This field is required"),Wt={class:"row insertFormRow align-items-center"},Yt=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"editTripComments"},"Comments")],-1),Et={class:"col-md-9"},qt=(0,a.Uk)("This field is required"),zt={class:"row insertFormRow align-items-center"},$t={class:"col-md-6 text-left"},Ht={class:"col-md-6 text-end"},Rt=(0,a._)("span",{class:"font-bold text-2xl block mb-2 mt-4"},null,-1),jt={class:"mb-0"},Zt={class:"flex text-end gap-2 mt-4"},Gt=(0,a._)("h4",null," Please confirm",-1),Jt=(0,a._)("span",{class:"font-bold text-2xl block mb-2 mt-4"},null,-1),Qt={class:"mb-0"},Xt=(0,a.Uk)("Are you sure that you want to delete trip "),ei=(0,a.Uk)("?"),ti={class:"row",style:{"margin-top":"30px"}},ii={class:"col-md-6 text-start"},ai={class:"col-md-6 text-end"},si=(0,a._)("h4",null," Please confirm",-1),li=(0,a._)("span",{class:"font-bold text-2xl block mb-2 mt-4"},null,-1),oi={class:"mb-0"},ni=(0,a.Uk)("Are you sure that you want to remove mark 'Invoiced'"),ri=(0,a._)("br",null,null,-1),di=(0,a.Uk)(" for trip "),pi=(0,a.Uk)("?"),ci={class:"row",style:{"margin-top":"30px"}},hi={class:"col-md-6 text-start"},mi={class:"col-md-6 text-end"},ui=(0,a.Uk)(" Mark this trip as Invoiced "),gi={class:"container",id:"formContainer"},fi={class:"row insertFormRow align-items-center even"},vi=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"invoiceDate"},"Invoice Date *")],-1),wi={class:"col-md-9"},yi=(0,a.Uk)("This field is required"),bi={class:"row insertFormRow align-items-center"},Ti={class:"col-md-6 text-left"},Di={class:"col-md-6 text-end"},Ci={key:0},ki={key:1},Ii=(0,a.Uk)("Mark selected "),xi={style:{"font-weight":"bold"}},_i=(0,a.Uk)(" as Invoiced"),Fi={class:"container",id:"formContainer"},Mi={class:"row insertFormRow align-items-center even"},Ni=(0,a._)("div",{class:"col-md-3"},[(0,a._)("label",{for:"invoiceDate"},"Invoice Date *")],-1),Si={class:"col-md-9"},Ui=(0,a.Uk)("This field is required"),Oi={class:"row insertFormRow align-items-center"},Ai={class:"col-md-6 text-left"},Vi={class:"col-md-6 text-end"},Bi=(0,a._)("h4",null," Please confirm",-1),Ki=(0,a._)("span",{class:"font-bold text-2xl block mb-2 mt-4"},null,-1),Pi=(0,a._)("p",{class:"mb-0"},"Are you sure that you want to delete this photo?",-1),Li={class:"row",style:{"margin-top":"30px"}},Wi={class:"col-md-6 text-start"},Yi={class:"col-md-6 text-end"},Ei=(0,a._)("h4",null," Upload photo",-1),qi={class:"row",style:{"margin-top":"30px"}},zi={class:"col"},$i=(0,a._)("p",null,"Drag and drop files to here to upload.",-1),Hi={id:"div-context-menu",class:"cls-context-menu",style:{left:"11px",top:"13px",display:"none"}},Ri={key:0},ji={key:1},Zi={key:2};function Gi(e,t,i,b,F,M){const S=(0,a.up)("base-spinner"),U=(0,a.up)("base-dialog"),E=(0,a.up)("InputText"),q=(0,a.up)("Button"),$=(0,a.up)("Calendar"),H=(0,a.up)("Checkbox"),j=(0,a.up)("Dropdown"),Z=(0,a.up)("Column"),Gi=(0,a.up)("DataTable"),Ji=(0,a.up)("TabPanel"),Qi=(0,a.up)("SwiperCarousel"),Xi=(0,a.up)("TabView"),ea=(0,a.up)("Dialog"),ta=(0,a.up)("InlineMessage"),ia=(0,a.up)("InputNumber"),aa=(0,a.up)("FileUpload"),sa=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(U,{show:F.isLoading,title:"Authenticating...",fixed:""},{default:(0,a.w5)((()=>[(0,a.Wm)(S)])),_:1},8,["show"]),(0,a._)("div",{style:{width:"100%"},onContextmenu:t[8]||(t[8]=e=>M.showContextMenu(e))},[(0,a.Wm)(Gi,{id:F.dataTable,value:F.allTrips,paginator:!0,rows:25,dataKey:"id",stripedRows:"",filters:F.filters,"onUpdate:filters":t[7]||(t[7]=e=>F.filters=e),filterDisplay:"menu",key:"key",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",paginatorStart:"CurrentPageReport",rowsPerPageOptions:[25,50,100],responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of total {totalRecords} trips",globalFilterFields:["userFullName","from","to","companyName","cargoName","comments"],selectionMode:"single",onRowSelect:M.onRowSelect,onRowClick:M.onRowClick,loading:F.loading1,scrollable:"",scrollHeight:F.tableHeight},{header:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a._)("span",n,[r,(0,a.Wm)(E,{modelValue:F.filters["global"].value,"onUpdate:modelValue":t[0]||(t[0]=e=>F.filters["global"].value=e),placeholder:"Keyword Search"},null,8,["modelValue"])])]),(0,a._)("div",d,[(0,a._)("div",p,[(0,a.wy)((0,a.Wm)(q,{style:{"min-width":"120px"},type:"button",icon:"pi pi-pencil",class:"p-button-text",id:"newTripButton",onClick:M.newTrip,label:"New trip"},null,8,["onClick"]),[[sa,{value:"New trip",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]]),c,(0,a.wy)((0,a.Wm)(q,{style:{"min-width":"120px"},type:"button",icon:"pi pi-download",class:"p-button-text",id:"downloadReport",onClick:M.downloadReport,label:"Download Report"},null,8,["onClick"]),[[sa,{value:"Download report",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]]),h,F.showInvoiceSelectedButton&&"ADMIN"==F.userType?(0,a.wy)(((0,a.wg)(),(0,a.j4)(q,{key:0,style:{"min-width":"120px"},type:"button",icon:"pi pi-check-circle",class:"p-button-text",id:"invoiceSelected",onClick:M.invoiceSelected,label:"Invoice selected"},null,8,["onClick"])),[[sa,{value:"Invoice selected",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]]):(0,a.kq)("",!0)]),(0,a._)("div",m,[(0,a.wy)((0,a.Wm)($,{style:{width:"160px"},id:"fromDateBox",class:"dateDisplayInput",modelValue:F.fromDate,"onUpdate:modelValue":t[1]||(t[1]=e=>F.fromDate=e),showIcon:"",dateFormat:"dd/mm/yy",placeholder:"dd/mm/yy",mask:"99/99/9999",onChange:t[2]||(t[2]=t=>e.changeDate("from"))},null,8,["modelValue"]),[[sa,{value:"Date from",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]]),(0,a.wy)((0,a.Wm)($,{style:{width:"160px"},id:"toDateBox",class:"dateDisplayInput",modelValue:F.toDate,"onUpdate:modelValue":t[3]||(t[3]=e=>F.toDate=e),showIcon:"",dateFormat:"dd/mm/yy",placeholder:"dd/mm/yy",mask:"99/99/9999",onChange:t[4]||(t[4]=t=>e.changeDate("to"))},null,8,["modelValue"]),[[sa,{value:"Date to",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]]),(0,a.Wm)(q,{type:"button",icon:"pi pi-refresh",class:"p-button-text",id:"refreshButton",onClick:M.refreshData},null,8,["onClick"])])])])),empty:(0,a.w5)((()=>[])),loading:(0,a.w5)((()=>[u])),paginatorstart:(0,a.w5)((()=>[])),paginatorend:(0,a.w5)((()=>[])),default:(0,a.w5)((()=>[(0,a.Wm)(Z,{field:"invSent",header:"Invoiced",dataType:"boolean",style:{"max-width":"100px","min-height":"43px"},bodyStyle:"width:120px"},{body:(0,a.w5)((({data:e})=>[(0,a._)("div",{style:{"padding-left":"16px",width:"100%"},class:"checkbox",data:e.id},["Yes"==e.invSent?((0,a.wg)(),(0,a.iD)("i",f)):(0,a.kq)("",!0),"No"==e.invSent&&"ADMIN"==F.userType?((0,a.wg)(),(0,a.j4)(H,{key:1,onClick:t=>M.selectingForInvoice(e.id),modelValue:F.checkedIDs[e.id],"onUpdate:modelValue":t=>F.checkedIDs[e.id]=t,binary:!0,inputId:e.id},null,8,["onClick","modelValue","onUpdate:modelValue","inputId"])):(0,a.kq)("",!0)],8,g)])),filter:(0,a.w5)((({filterModel:e})=>[(0,a.Wm)(j,{options:["Yes","No"],modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",placeholder:"Invoiced"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.Wm)(Z,{field:"date",header:"Date",dataType:"date",sortable:!0,style:{"min-width":"10rem","min-height":"43px"}},{body:(0,a.w5)((({data:e})=>[(0,a.Wm)(E,{style:{display:"none"},type:"text",class:"p-column-filter",placeholder:"Date"}),(0,a._)("span",{style:{display:"none"},class:"hiddenFields",data:e.id},null,8,v),(0,a.Uk)((0,s.zw)(e.date),1)])),_:1}),(0,a.Wm)(Z,{field:"from",header:"From",sortable:!0,bodyStyle:"text-align: left",style:{"min-height":"43px"}},{filter:(0,a.w5)((({filterModel:e})=>[(0,a.Wm)(E,{type:"text",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",placeholder:"From"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.Wm)(Z,{field:"to",header:"To",sortable:!0,bodyStyle:"text-align: left",style:{"min-height":"43px"}},{filter:(0,a.w5)((({filterModel:e})=>[(0,a.Wm)(E,{type:"text",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",placeholder:"To"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.Wm)(Z,{field:"cargoName",header:"Cargo Name",style:{"min-width":"250px","min-height":"43px"},sortable:!0},{filter:(0,a.w5)((({filterModel:e})=>[(0,a.Wm)(E,{type:"text",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",placeholder:"Cargo Name"},null,8,["modelValue","onUpdate:modelValue"])])),body:(0,a.w5)((({data:e})=>[(0,a._)("div",w,(0,s.zw)(e.cargoName),1),""!=e.files?((0,a.wg)(),(0,a.iD)("div",y,T)):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(Z,{field:"companyName",header:"Company",sortable:!0,bodyStyle:"text-align: left",style:{"min-height":"43px"}},{filter:(0,a.w5)((({filterModel:e})=>[(0,a.Wm)(j,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,options:F.allCompanies,filter:"",optionLabel:"name",optionValue:"name",placeholder:"Select Company"},null,8,["modelValue","onUpdate:modelValue","options"])])),_:1}),(0,a.Wm)(Z,{field:"userFullName",header:"Driver",sortable:!0,filterMatchModeOptions:F.matchModes,style:{"min-height":"43px"}},{filter:(0,a.w5)((({filterModel:e})=>[(0,a.Wm)(E,{type:"text",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",placeholder:"Driver"},null,8,["modelValue","onUpdate:modelValue"])])),_:1},8,["filterMatchModeOptions"]),(0,a.Wm)(Z,{field:"fixedCosts",header:"Fixed Costs",sortable:!0,style:{"text-align":"right","min-height":"43px"}},{body:(0,a.w5)((({data:e})=>[(0,a._)("div",D,(0,s.zw)(M.formatMoney(e.fixedCosts,2,".",",","€")),1)])),filter:(0,a.w5)((({filterModel:e})=>[(0,a.Wm)(E,{type:"text",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",placeholder:"Fixed Costs"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.Wm)(Z,{field:"distance",header:"Distance",sortable:!0,style:{"min-height":"43px"}},{body:(0,a.w5)((({data:e})=>[(0,a._)("div",C,(0,s.zw)(e.distance),1)])),filter:(0,a.w5)((({filterModel:e})=>[(0,a.Wm)(E,{type:"text",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",placeholder:"Distance"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.Wm)(Z,{field:"distanceCosts",header:"Distance Costs",sortable:!0,style:{"text-align":"right","min-height":"43px"}},{body:(0,a.w5)((({data:e})=>[(0,a._)("div",k,(0,s.zw)(M.formatMoney(e.distanceCosts,2,".",",","€")),1)])),filter:(0,a.w5)((({filterModel:e})=>[(0,a.Wm)(E,{type:"text",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",placeholder:"Distance Costs"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.Wm)(Z,{field:"sum",header:"Sum",sortable:!0,style:{"text-align":"right","max-width":"120px","min-height":"43px"}},{body:(0,a.w5)((({data:e})=>[(0,a._)("div",I,(0,s.zw)(M.formatMoney(e.sum,2,".",",","€")),1)])),filter:(0,a.w5)((({filterModel:e})=>[(0,a.Wm)(E,{type:"text",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",placeholder:"Sum"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),"ADMIN"==F.userType?((0,a.wg)(),(0,a.j4)(Z,{key:0,style:{"text-align":"right",display:"table-cell","max-width":"90px","min-height":"43px","vertical-align":"middle"},class:"actionsColumns"},{header:(0,a.w5)((()=>[x])),body:(0,a.w5)((({data:e})=>[(0,a._)("div",_,["No"==e.invSent?(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:0,class:"fa-stack fa-2x actionIcons",style:{"font-size":"15px"},onClick:t[5]||(t[5]=(...e)=>M.editClick&&M.editClick(...e))},N)),[[sa,{value:"Edit trip",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]]):(0,a.kq)("",!0),"No"==e.invSent?(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:1,class:"fa-stack fa-2x actionIcons",style:{"font-size":"15px",color:"#aa0000"},onClick:t[6]||(t[6]=(...e)=>M.deleteClick&&M.deleteClick(...e))},O)),[[sa,{value:"Delete trip",showDelay:1e3,hideDelay:300},void 0,{left:!0}]]):(0,a.kq)("",!0)])])),_:1})):(0,a.kq)("",!0)])),_:1},8,["id","value","filters","onRowSelect","onRowClick","loading","scrollHeight"])],32),(0,a._)("div",{id:"RightSidepanel",class:(0,s.C_)(["RightSidepanel",F.panelClass])},[(0,a._)("div",A,[(0,a._)("div",V,[(0,a._)("i",{class:"pi pi-times cursorHand closePanelButton",onClick:t[9]||(t[9]=(...e)=>M.closePanel&&M.closePanel(...e))})])]),(0,a._)("div",B,[(0,a._)("div",K,[(0,a._)("h5",P,(0,s.zw)(F.tripCargoName),1)])]),(0,a._)("div",L,["ADMIN"==F.userType?((0,a.wg)(),(0,a.iD)("div",W,["Yes"==F.editTripInvoiced?((0,a.wg)(),(0,a.j4)(q,{key:0,onClick:t[10]||(t[10]=e=>F.displayUnInvoiceConfirm=!0),label:"Remove Invoiced mark",icon:"pi pi-times-circle",class:"invoiceButton redButton"})):(0,a.kq)("",!0),"No"==F.editTripInvoiced?((0,a.wg)(),(0,a.j4)(q,{key:1,onClick:M.setInvoiceDateToday,label:"Mark as Invoiced",icon:"pi pi-check-circle",class:"invoiceButton"},null,8,["onClick"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),(0,a._)("div",Y,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{class:"fa-stack fa-2x actionIcons",style:{"font-size":"15px"},onClick:t[11]||(t[11]=(...e)=>M.downloadClick&&M.downloadClick(...e))},z)),[[sa,{value:"Download",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]]),"ADMIN"==F.userType&&"No"==F.editTripInvoiced?(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:0,class:"fa-stack fa-2x actionIcons",style:{"font-size":"15px"},onClick:t[12]||(t[12]=(...e)=>M.editClick&&M.editClick(...e))},R)),[[sa,{value:"Edit trip",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]]):(0,a.kq)("",!0),"ADMIN"==F.userType&&"No"==F.editTripInvoiced?(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:1,class:"fa-stack fa-2x actionIcons",style:{"font-size":"15px",color:"#aa0000"},onClick:t[13]||(t[13]=(...e)=>M.deleteClick&&M.deleteClick(...e))},G)),[[sa,{value:"Delete trip",showDelay:1e3,hideDelay:300},void 0,{left:!0}]]):(0,a.kq)("",!0)])]),(0,a._)("div",J,[(0,a._)("div",Q,[(0,a.Wm)(Xi,{activeIndex:F.activeTab,"onUpdate:activeIndex":t[14]||(t[14]=e=>F.activeTab=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(Ji,{header:"Details"},{default:(0,a.w5)((()=>[(0,a._)("table",X,[(0,a._)("tbody",null,[(0,a._)("tr",null,[ee,(0,a._)("td",null,(0,s.zw)(F.tripDate),1)]),(0,a._)("tr",null,[te,(0,a._)("td",null,(0,s.zw)(F.tripFrom),1)]),(0,a._)("tr",null,[ie,(0,a._)("td",null,(0,s.zw)(F.tripTo),1)]),(0,a._)("tr",null,[ae,(0,a._)("td",null,(0,s.zw)(F.tripCargoName),1)]),(0,a._)("tr",null,[se,(0,a._)("td",null,(0,s.zw)(M.formatMoney(F.tripFixedCosts,2,".",",","€")),1)]),(0,a._)("tr",null,[le,(0,a._)("td",null,(0,s.zw)(F.tripDistance),1)]),(0,a._)("tr",null,[oe,(0,a._)("td",null,(0,s.zw)(M.formatMoney(F.tripDistanceCosts,2,".",",","€")),1)]),(0,a._)("tr",null,[ne,(0,a._)("td",null,(0,s.zw)(M.formatMoney(F.tripSum,2,".",",","€")),1)]),(0,a._)("tr",null,[re,(0,a._)("td",null,(0,s.zw)(M.formatMoney(F.tripSumVAT,2,".",",","€")),1)]),(0,a._)("tr",null,[de,(0,a._)("td",null,(0,s.zw)(F.tripUserFullName),1)]),(0,a._)("tr",null,[pe,(0,a._)("td",null,(0,s.zw)(F.tripUserEmail),1)]),(0,a._)("tr",null,[ce,(0,a._)("td",null,(0,s.zw)(F.tripCompanyName),1)]),(0,a._)("tr",null,[he,(0,a._)("td",null,(0,s.zw)(F.tripVatPercentage),1)]),(0,a._)("tr",null,[me,(0,a._)("td",null,[(0,a._)("textarea",{rows:"5",textContent:(0,s.zw)(F.tripComments),style:{width:"100%"},readonly:""},null,8,ue)])])])]),(0,a._)("div",ge,[(0,a._)("div",fe,[(0,a.wy)((0,a.Wm)(q,{onClick:M.openDialogAddPhoto,style:{"min-width":"120px"},type:"button",class:"p-button-text addphotobutton",label:"Add photo"},null,8,["onClick"]),[[sa,{value:"Add photo",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]])])])])),_:1}),F.picturesTabShow?((0,a.wg)(),(0,a.j4)(Ji,{key:0,header:"Pictures"},{default:(0,a.w5)((()=>[(0,a.Wm)(Qi,{tripImages:F.tripImages,onShowloader:M.showloader,openedcargoname:F.openedcargoname,onSwiper:e.onSwiper,onDeletePhoto:M.deletePhotoId,onDeletePhotomodal:M.deletePhotoModal,userType:F.userType},null,8,["tripImages","onShowloader","openedcargoname","onSwiper","onDeletePhoto","onDeletePhotomodal","userType"]),(0,a._)("div",ve,[(0,a._)("div",we,[(0,a.wy)((0,a.Wm)(q,{onClick:M.openDialogAddPhoto,style:{"min-width":"120px"},type:"button",class:"p-button-text addphotobutton",label:"Add photo"},null,8,["onClick"]),[[sa,{value:"Add photo",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]])])])])),_:1})):(0,a.kq)("",!0)])),_:1},8,["activeIndex"])])]),(0,a.Wm)(ea,{modal:"",visible:F.visibleImagesModal,"onUpdate:visible":t[15]||(t[15]=e=>F.visibleImagesModal=e),style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:(0,a.w5)((()=>[(0,a.Wm)(Qi,{tripImages:F.tripImages,onDeletePhotomodal:M.deletePhotoModal},null,8,["tripImages","onDeletePhotomodal"])])),_:1},8,["visible"])],2),(0,a.Wm)(ea,{"onUpdate:visible":[M.handleClose,t[33]||(t[33]=e=>F.newTripDialog=e)],visible:F.newTripDialog,modal:"",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,a.w5)((()=>[ye])),default:(0,a.w5)((()=>[(0,a._)("div",be,[(0,a._)("div",Te,[De,(0,a._)("div",Ce,[(0,a.Wm)($,{hourFormat:"24",showTime:"",onChange:t[16]||(t[16]=t=>e.changeDate("from")),style:{"margin-left":"0"},id:"newTripDate",class:"dateDisplayInput",modelValue:F.newTripDate,"onUpdate:modelValue":t[17]||(t[17]=e=>F.newTripDate=e),showIcon:"",dateFormat:"dd/mm/yy",placeholder:"dd/mm/yy",mask:"99/99/9999"},null,8,["modelValue"]),F.newTripDateOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[ke])),_:1}))])]),(0,a._)("div",Ie,[xe,(0,a._)("div",_e,[(0,a.Wm)(j,{modelValue:F.newTripCompanyName,"onUpdate:modelValue":t[18]||(t[18]=e=>F.newTripCompanyName=e),options:F.allCompanies,filter:"",optionLabel:"name",placeholder:"Select Company"},null,8,["modelValue","options"]),F.newTripCompanyNameOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[Fe])),_:1}))])]),(0,a._)("div",Me,[Ne,(0,a._)("div",Se,[(0,a.Wm)(E,{onInput:t[19]||(t[19]=e=>F.newTripFromOK=!0),id:"newTripFrom",modelValue:F.newTripFrom,"onUpdate:modelValue":t[20]||(t[20]=e=>F.newTripFrom=e),size:"small"},null,8,["modelValue"]),F.newTripFromOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[Ue])),_:1}))])]),(0,a._)("div",Oe,[Ae,(0,a._)("div",Ve,[(0,a.Wm)(E,{onInput:t[21]||(t[21]=e=>F.newTripToOK=!0),id:"newTripTo",modelValue:F.newTripTo,"onUpdate:modelValue":t[22]||(t[22]=e=>F.newTripTo=e),size:"small"},null,8,["modelValue"]),F.newTripToOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[Be])),_:1}))])]),(0,a._)("div",Ke,[Pe,(0,a._)("div",Le,[(0,a.Wm)(E,{onInput:t[23]||(t[23]=e=>F.newTripCargoNameOK=!0),id:"newTripCargoName",modelValue:F.newTripCargoName,"onUpdate:modelValue":t[24]||(t[24]=e=>F.newTripCargoName=e),size:"small"},null,8,["modelValue"]),F.newTripCargoNameOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[We])),_:1}))])]),(0,a._)("div",Ye,[Ee,(0,a._)("div",qe,[(0,a.Wm)(ia,{onInput:t[25]||(t[25]=e=>F.newTripFixedCostsOK=!0),id:"newTripFixedCosts",modelValue:F.newTripFixedCosts,"onUpdate:modelValue":t[26]||(t[26]=e=>F.newTripFixedCosts=e),size:"small"},null,8,["modelValue"]),F.newTripFixedCostsOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[ze])),_:1}))])]),(0,a._)("div",$e,[He,(0,a._)("div",Re,[(0,a.Wm)(ia,{onInput:t[27]||(t[27]=e=>F.newTripDistanceOK=!0),id:"newTripDistance",modelValue:F.newTripDistance,"onUpdate:modelValue":t[28]||(t[28]=e=>F.newTripDistance=e),size:"small"},null,8,["modelValue"]),F.newTripDistanceOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[je])),_:1}))])]),(0,a._)("div",Ze,[Ge,(0,a._)("div",Je,[(0,a.Wm)(ia,{onInput:t[29]||(t[29]=e=>F.newTripDistanceCostsOK=!0),id:"newTripDistanceCosts",modelValue:F.newTripDistanceCosts,"onUpdate:modelValue":t[30]||(t[30]=e=>F.newTripDistanceCosts=e),size:"small"},null,8,["modelValue"]),F.newTripDistanceCostsOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[Qe])),_:1}))])]),(0,a._)("div",Xe,[et,(0,a._)("div",tt,[(0,a.wy)((0,a._)("textarea",{onInput:t[31]||(t[31]=e=>F.newTripCommentsOK=!0),rows:"5",id:"newTripComments","onUpdate:modelValue":t[32]||(t[32]=e=>F.newTripComments=e),style:{width:"100%"}},null,544),[[l.nr,F.newTripComments]]),F.newTripCommentsOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[it])),_:1}))])]),(0,a._)("div",at,[(0,a._)("div",st,[(0,a.wy)((0,a.Wm)(q,{onClick:M.closeInsertDialog,style:{"min-width":"120px"},icon:"pi pi-times-circle",type:"button",class:"p-button-text redButton",label:"Cancel"},null,8,["onClick"]),[[sa,{value:"Cancel",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]])]),(0,a._)("div",lt,[(0,a.wy)((0,a.Wm)(q,{style:{"min-width":"120px"},type:"button",icon:"pi pi-pencil",class:"p-button-text",onClick:M.saveTrip,label:"Save trip"},null,8,["onClick"]),[[sa,{value:"Save trip",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]])])])])])),_:1},8,["onUpdate:visible","visible"]),(0,a.Wm)(ea,{"onUpdate:visible":[M.handleClose,t[51]||(t[51]=e=>F.editTripDialog=e)],visible:F.editTripDialog,modal:"",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,a.w5)((()=>[ot])),default:(0,a.w5)((()=>[(0,a._)("div",nt,[(0,a._)("div",rt,[dt,(0,a._)("div",pt,[(0,a.Wm)($,{hourFormat:"24",value:F.editTripDate,modelValue:F.editTripDate,"onUpdate:modelValue":t[34]||(t[34]=e=>F.editTripDate=e),showTime:"",onChange:t[35]||(t[35]=t=>e.changeDate("from")),style:{"margin-left":"0"},id:"editTripDate",class:"dateDisplayInput",showIcon:"",dateFormat:"dd/mm/yy",placeholder:"dd/mm/yy",mask:"99/99/9999 00:00:00"},null,8,["value","modelValue"]),F.editTripDateOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[ct])),_:1}))])]),(0,a._)("div",ht,[mt,(0,a._)("div",ut,[(0,a.Wm)(j,{modelValue:F.editTripCompanyName,"onUpdate:modelValue":t[36]||(t[36]=e=>F.editTripCompanyName=e),options:F.allCompanies,filter:"",optionLabel:"name",placeholder:F.editTripCompanyName},null,8,["modelValue","options","placeholder"]),F.editTripCompanyNameOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[gt])),_:1}))])]),(0,a._)("div",ft,[vt,(0,a._)("div",wt,[(0,a.Wm)(E,{onInput:t[37]||(t[37]=e=>F.editTripFromOK=!0),id:"editTripFrom",modelValue:F.editTripFrom,"onUpdate:modelValue":t[38]||(t[38]=e=>F.editTripFrom=e),size:"small"},null,8,["modelValue"]),F.editTripFromOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[yt])),_:1}))])]),(0,a._)("div",bt,[Tt,(0,a._)("div",Dt,[(0,a.Wm)(E,{onInput:t[39]||(t[39]=e=>F.editTripToOK=!0),id:"editTripTo",modelValue:F.editTripTo,"onUpdate:modelValue":t[40]||(t[40]=e=>F.editTripTo=e),size:"small"},null,8,["modelValue"]),F.editTripToOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[Ct])),_:1}))])]),(0,a._)("div",kt,[It,(0,a._)("div",xt,[(0,a.Wm)(E,{onInput:t[41]||(t[41]=e=>F.editTripCargoNameOK=!0),id:"editTripCargoName",modelValue:F.editTripCargoName,"onUpdate:modelValue":t[42]||(t[42]=e=>F.editTripCargoName=e),size:"small"},null,8,["modelValue"]),F.editTripCargoNameOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[_t])),_:1}))])]),(0,a._)("div",Ft,[Mt,(0,a._)("div",Nt,[(0,a.Wm)(ia,{onInput:t[43]||(t[43]=e=>F.editTripFixedCostsOK=!0),id:"editTripFixedCosts",modelValue:F.editTripFixedCosts,"onUpdate:modelValue":t[44]||(t[44]=e=>F.editTripFixedCosts=e),size:"small"},null,8,["modelValue"]),F.editTripFixedCostsOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[St])),_:1}))])]),(0,a._)("div",Ut,[Ot,(0,a._)("div",At,[(0,a.Wm)(ia,{onInput:t[45]||(t[45]=e=>F.editTripDistanceOK=!0),id:"editTripDistance",modelValue:F.editTripDistance,"onUpdate:modelValue":t[46]||(t[46]=e=>F.editTripDistance=e),size:"small"},null,8,["modelValue"]),F.editTripDistanceOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[Vt])),_:1}))])]),(0,a._)("div",Bt,[Kt,(0,a._)("div",Pt,[(0,a.Wm)(ia,{onInput:t[47]||(t[47]=e=>F.editTripDistanceCostsOK=!0),id:"editTripDistanceCosts",modelValue:F.editTripDistanceCosts,"onUpdate:modelValue":t[48]||(t[48]=e=>F.editTripDistanceCosts=e),size:"small"},null,8,["modelValue"]),F.editTripDistanceCostsOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[Lt])),_:1}))])]),(0,a._)("div",Wt,[Yt,(0,a._)("div",Et,[(0,a.wy)((0,a._)("textarea",{onInput:t[49]||(t[49]=e=>F.editTripCommentsOK=!0),rows:"5",id:"editTripComments","onUpdate:modelValue":t[50]||(t[50]=e=>F.editTripComments=e),style:{width:"100%"}},null,544),[[l.nr,F.editTripComments]]),F.editTripCommentsOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[qt])),_:1}))])]),(0,a._)("div",zt,[(0,a._)("div",$t,[(0,a.wy)((0,a.Wm)(q,{onClick:M.closeEditDialog,style:{"min-width":"120px"},icon:"pi pi-times-circle",type:"button",class:"p-button-text redButton",label:"Cancel"},null,8,["onClick"]),[[sa,{value:"Cancel",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]])]),(0,a._)("div",Ht,[(0,a.wy)((0,a.Wm)(q,{style:{"min-width":"120px"},type:"button",icon:"pi pi-pencil",class:"p-button-text",onClick:M.editTrip,label:"Save changes"},null,8,["onClick"]),[[sa,{value:"Save changes",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]])])])])])),_:1},8,["onUpdate:visible","visible"]),(0,a.Wm)(ea,{visible:F.displayInfoDialog,"onUpdate:visible":t[52]||(t[52]=e=>F.displayInfoDialog=e),modal:"",style:{width:"20rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,a.w5)((()=>[(0,a._)("h4",null,(0,s.zw)(F.InfoModalHeader),1)])),default:(0,a.w5)((()=>[Rt,(0,a._)("p",jt,(0,s.zw)(F.InfoModalMessage),1),(0,a._)("div",Zt,[(0,a.Wm)(q,{label:"Ok",onClick:M.closeInfo},null,8,["onClick"])])])),_:1},8,["visible"]),(0,a.Wm)(ea,{visible:F.displayDeleteConfirm,"onUpdate:visible":t[54]||(t[54]=e=>F.displayDeleteConfirm=e),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,a.w5)((()=>[Gt])),default:(0,a.w5)((()=>[Jt,(0,a._)("p",Qt,[Xt,(0,a._)("strong",null,"'"+(0,s.zw)(F.editTripCargoName)+"'",1),ei]),(0,a._)("div",ti,[(0,a._)("div",ii,[(0,a.Wm)(q,{class:"redButton",label:"Cancel",onClick:t[53]||(t[53]=e=>F.displayDeleteConfirm=!1)})]),(0,a._)("div",ai,[(0,a.Wm)(q,{label:"Yes, delete",onClick:M.deleteTrip},null,8,["onClick"])])])])),_:1},8,["visible"]),(0,a.Wm)(ea,{visible:F.displayUnInvoiceConfirm,"onUpdate:visible":t[56]||(t[56]=e=>F.displayUnInvoiceConfirm=e),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,a.w5)((()=>[si])),default:(0,a.w5)((()=>[li,(0,a._)("p",oi,[ni,ri,di,(0,a._)("strong",null,"'"+(0,s.zw)(F.editTripCargoName)+"'",1),pi]),(0,a._)("div",ci,[(0,a._)("div",hi,[(0,a.Wm)(q,{class:"redButton",label:"Cancel",onClick:t[55]||(t[55]=t=>e.displayInvoiceConfirm=!1)})]),(0,a._)("div",mi,[(0,a.Wm)(q,{label:"Yes, remove it",onClick:M.unInvoiceThisTrip},null,8,["onClick"])])])])),_:1},8,["visible"]),(0,a.Wm)(ea,{"onUpdate:visible":[M.handleClose,t[60]||(t[60]=e=>F.sendInvoiceDialog=e)],visible:F.sendInvoiceDialog,modal:"",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,a.w5)((()=>[ui])),default:(0,a.w5)((()=>[(0,a._)("div",gi,[(0,a._)("div",fi,[vi,(0,a._)("div",wi,[(0,a.Wm)($,{hourFormat:"24",showTime:"",onChange:t[57]||(t[57]=t=>e.changeDate("from")),style:{"margin-left":"0"},id:"invoiceDate",class:"dateDisplayInput",modelValue:F.invoiceDate,"onUpdate:modelValue":t[58]||(t[58]=e=>F.invoiceDate=e),showIcon:"",dateFormat:"dd/mm/yy",placeholder:"dd/mm/yy",mask:"99/99/9999"},null,8,["modelValue"]),F.invoiceDateOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[yi])),_:1}))])]),(0,a._)("div",bi,[(0,a._)("div",Ti,[(0,a.wy)((0,a.Wm)(q,{onClick:t[59]||(t[59]=e=>F.sendInvoiceDialog=!1),style:{"min-width":"120px"},icon:"pi pi-times-circle",type:"button",class:"p-button-text redButton",label:"Cancel"},null,512),[[sa,{value:"Cancel",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]])]),(0,a._)("div",Di,[(0,a.wy)((0,a.Wm)(q,{style:{"min-width":"120px"},type:"button",icon:"pi pi-check-circle",class:"p-button-text",onClick:M.invoiceThisTrip,label:"Mark as Invoiced"},null,8,["onClick"]),[[sa,{value:"Mark as Invoiced",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]])])])])])),_:1},8,["onUpdate:visible","visible"]),(0,a.Wm)(ea,{"onUpdate:visible":[M.handleClose,t[64]||(t[64]=e=>F.sendMultipleInvoiceDialog=e)],visible:F.sendMultipleInvoiceDialog,modal:"",header:"header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,a.w5)((()=>[1==F.selectedIDsForInvoicing.length?((0,a.wg)(),(0,a.iD)("span",Ci,"Mark selected trip as Invoiced")):(0,a.kq)("",!0),F.selectedIDsForInvoicing.length>1?((0,a.wg)(),(0,a.iD)("span",ki,[Ii,(0,a._)("span",xi,(0,s.zw)(F.selectedIDsForInvoicing.length)+" trips ",1),_i])):(0,a.kq)("",!0)])),default:(0,a.w5)((()=>[(0,a._)("div",Fi,[(0,a._)("div",Mi,[Ni,(0,a._)("div",Si,[(0,a.Wm)($,{hourFormat:"24",showTime:"",onChange:t[61]||(t[61]=t=>e.changeDate("from")),style:{"margin-left":"0"},id:"invoiceMultipleDate",class:"dateDisplayInput",modelValue:F.invoiceDate,"onUpdate:modelValue":t[62]||(t[62]=e=>F.invoiceDate=e),showIcon:"",dateFormat:"dd/mm/yy",placeholder:"dd/mm/yy",mask:"99/99/9999"},null,8,["modelValue"]),F.invoiceDateOK?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ta,{key:0},{default:(0,a.w5)((()=>[Ui])),_:1}))])]),(0,a._)("div",Oi,[(0,a._)("div",Ai,[(0,a.wy)((0,a.Wm)(q,{onClick:t[63]||(t[63]=e=>F.sendMultipleInvoiceDialog=!1),style:{"min-width":"120px"},icon:"pi pi-times-circle",type:"button",class:"p-button-text redButton",label:"Cancel"},null,512),[[sa,{value:"Cancel",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]])]),(0,a._)("div",Vi,[(0,a.wy)((0,a.Wm)(q,{style:{"min-width":"120px"},type:"button",icon:"pi pi-check-circle",class:"p-button-text",onClick:M.invoiceMultipleTrips,label:"Mark as Invoiced"},null,8,["onClick"]),[[sa,{value:"Mark as Invoiced",showDelay:1e3,hideDelay:300},void 0,{bottom:!0}]])])])])])),_:1},8,["onUpdate:visible","visible"]),(0,a.Wm)(ea,{visible:F.displayDeletePhotoConfirm,"onUpdate:visible":t[66]||(t[66]=e=>F.displayDeletePhotoConfirm=e),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,a.w5)((()=>[Bi])),default:(0,a.w5)((()=>[Ki,Pi,(0,a._)("div",Li,[(0,a._)("div",Wi,[(0,a.Wm)(q,{class:"redButton",label:"Cancel",onClick:t[65]||(t[65]=e=>F.displayDeletePhotoConfirm=!1)})]),(0,a._)("div",Yi,[(0,a.Wm)(q,{label:"Yes, delete",onClick:M.deletePhoto},null,8,["onClick"])])])])),_:1},8,["visible"]),(0,a.Wm)(ea,{visible:F.displayUploadModal,"onUpdate:visible":t[68]||(t[68]=e=>F.displayUploadModal=e),modal:"",style:{width:"60rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,a.w5)((()=>[Ei])),default:(0,a.w5)((()=>[(0,a._)("div",qi,[(0,a._)("div",zi,[(0,a.Wm)(aa,{name:"files[]",customUpload:!0,url:"/api/upload",onUploader:t[67]||(t[67]=e=>M.customUploader(e)),multiple:!1,accept:"image/*",maxFileSize:1e7},{empty:(0,a.w5)((()=>[$i])),_:1})])])])),_:1},8,["visible"]),(0,a._)("div",Hi,[(0,a._)("ul",null,[(0,a._)("ul",null,[F.AllPageMarked||F.AllMarked?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",Ri,[(0,a._)("a",{onClick:t[69]||(t[69]=e=>M.SelectAllPage("select"))},"Select all records on current page")])),F.AllPageMarked||F.AllMarked?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",ji,[(0,a._)("a",{onClick:t[70]||(t[70]=e=>M.SelectAll("select"))},"Select all on all pages")])),F.AllMarked||F.AllPageMarked?((0,a.wg)(),(0,a.iD)("li",Zi,[(0,a._)("a",{onClick:t[71]||(t[71]=e=>M.SelectAll("deselect"))},"Deselect All ")])):(0,a.kq)("",!0)])])])],64)}var Ji=i(7469),Qi=i(3717),Xi=i(6709),ea=i(1826),ta=i(2711),ia=i(2419),aa=i(2679),sa=i(1583),la=i(1937),oa=i(5030),na={name:"TabView",emits:["update:activeIndex","tab-change","tab-click"],props:{activeIndex:{type:Number,default:0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},previousButtonProps:null,nextButtonProps:null},data(){return{d_activeIndex:this.activeIndex,focusedTabIndex:-1,isPrevButtonDisabled:!0,isNextButtonDisabled:!1}},watch:{activeIndex(e){this.d_activeIndex=e,this.scrollInView({index:e})}},mounted(){this.updateInkBar()},updated(){this.updateInkBar()},methods:{isTabPanel(e){return"TabPanel"===e.type.name},isTabActive(e){return this.d_activeIndex===e},getTabProp(e,t){return e.props?e.props[t]:void 0},getKey(e,t){return this.getTabProp(e,"header")||t},getTabHeaderActionId(e){return`${this.id}_${e}_header_action`},getTabContentId(e){return`${this.id}_${e}_content`},onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()},onPrevButtonClick(){const e=this.$refs.content,t=la.p7.getWidth(e)-this.getVisibleButtonWidths(),i=e.scrollLeft-t;e.scrollLeft=i<=0?0:i},onNextButtonClick(){const e=this.$refs.content,t=la.p7.getWidth(e)-this.getVisibleButtonWidths(),i=e.scrollLeft+t,a=e.scrollWidth-t;e.scrollLeft=i>=a?a:i},onTabClick(e,t,i){this.changeActiveIndex(e,t,i),this.$emit("tab-click",{originalEvent:e,index:i})},onTabKeyDown(e,t,i){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onTabEnterKey(e,t,i);break}},onTabArrowRightKey(e){const t=this.findNextHeaderAction(e.target.parentElement);t?this.changeFocusedTab(e,t):this.onTabHomeKey(e),e.preventDefault()},onTabArrowLeftKey(e){const t=this.findPrevHeaderAction(e.target.parentElement);t?this.changeFocusedTab(e,t):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey(e){const t=this.findFirstHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEndKey(e){const t=this.findLastHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onPageDownKey(e){this.scrollInView({index:this.$refs.nav.children.length-2}),e.preventDefault()},onPageUpKey(e){this.scrollInView({index:0}),e.preventDefault()},onTabEnterKey(e,t,i){this.changeActiveIndex(e,t,i),e.preventDefault()},findNextHeaderAction(e,t=!1){const i=t?e:e.nextElementSibling;return i?la.p7.hasClass(i,"p-disabled")||la.p7.hasClass(i,"p-tabview-ink-bar")?this.findNextHeaderAction(i):la.p7.findSingle(i,".p-tabview-header-action"):null},findPrevHeaderAction(e,t=!1){const i=t?e:e.previousElementSibling;return i?la.p7.hasClass(i,"p-disabled")||la.p7.hasClass(i,"p-tabview-ink-bar")?this.findPrevHeaderAction(i):la.p7.findSingle(i,".p-tabview-header-action"):null},findFirstHeaderAction(){return this.findNextHeaderAction(this.$refs.nav.firstElementChild,!0)},findLastHeaderAction(){return this.findPrevHeaderAction(this.$refs.nav.lastElementChild,!0)},changeActiveIndex(e,t,i){this.getTabProp(t,"disabled")||this.d_activeIndex===i||(this.d_activeIndex=i,this.$emit("update:activeIndex",i),this.$emit("tab-change",{originalEvent:e,index:i}),this.scrollInView({index:i}))},changeFocusedTab(e,t){if(t&&(la.p7.focus(t),this.scrollInView({element:t}),this.selectOnFocus)){const i=parseInt(t.parentElement.dataset.index,10),a=this.tabs[i];this.changeActiveIndex(e,a,i)}},scrollInView({element:e,index:t=-1}){const i=e||this.$refs.nav.children[t];i&&i.scrollIntoView&&i.scrollIntoView({block:"nearest"})},updateInkBar(){let e=this.$refs.nav.children[this.d_activeIndex];this.$refs.inkbar.style.width=la.p7.getWidth(e)+"px",this.$refs.inkbar.style.left=la.p7.getOffset(e).left-la.p7.getOffset(this.$refs.nav).left+"px"},updateButtonState(){const e=this.$refs.content,{scrollLeft:t,scrollWidth:i}=e,a=la.p7.getWidth(e);this.isPrevButtonDisabled=0===t,this.isNextButtonDisabled=parseInt(t)===i-a},getVisibleButtonWidths(){const{prevBtn:e,nextBtn:t}=this.$refs;return[e,t].reduce(((e,t)=>t?e+la.p7.getWidth(t):e),0)},getTabHeaderClass(e,t){return["p-tabview-header",this.getTabProp(e,"headerClass"),{"p-highlight":this.d_activeIndex===t,"p-disabled":this.getTabProp(e,"disabled")}]},getTabContentClass(e){return["p-tabview-panel",this.getTabProp(e,"contentClass")]}},computed:{contentClasses(){return["p-tabview p-component",{"p-tabview-scrollable":this.scrollable}]},tabs(){return this.$slots.default().reduce(((e,t)=>(this.isTabPanel(t)?e.push(t):t.children&&t.children instanceof Array&&t.children.forEach((t=>{this.isTabPanel(t)&&e.push(t)})),e)),[])},prevButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0},id(){return this.$attrs.id||(0,la.Th)()}},directives:{ripple:oa.Z}};const ra={class:"p-tabview-nav-container"},da=["tabindex","aria-label"],pa=(0,a._)("span",{class:"pi pi-chevron-left","aria-hidden":"true"},null,-1),ca=[pa],ha={ref:"nav",class:"p-tabview-nav",role:"tablist"},ma=["data-index"],ua=["id","tabindex","aria-disabled","aria-selected","aria-controls","onClick","onKeydown"],ga={key:0,class:"p-tabview-title"},fa={ref:"inkbar",class:"p-tabview-ink-bar",role:"presentation","aria-hidden":"true"},va=["tabindex","aria-label"],wa=(0,a._)("span",{class:"pi pi-chevron-right","aria-hidden":"true"},null,-1),ya=[wa],ba={class:"p-tabview-panels"},Ta=["aria-labelledby"];function Da(e,t,i,o,n,r){const d=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.iD)("div",{class:(0,s.C_)(r.contentClasses)},[(0,a._)("div",ra,[i.scrollable&&!n.isPrevButtonDisabled?(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",(0,a.dG)({key:0,ref:"prevBtn",type:"button",class:"p-tabview-nav-prev p-tabview-nav-btn p-link",tabindex:i.tabindex,"aria-label":r.prevButtonAriaLabel,onClick:t[0]||(t[0]=(...e)=>r.onPrevButtonClick&&r.onPrevButtonClick(...e))},i.previousButtonProps),ca,16,da)),[[d]]):(0,a.kq)("",!0),(0,a._)("div",{ref:"content",class:"p-tabview-nav-content",onScroll:t[1]||(t[1]=(...e)=>r.onScroll&&r.onScroll(...e))},[(0,a._)("ul",ha,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tabs,((e,t)=>((0,a.wg)(),(0,a.iD)("li",(0,a.dG)({key:r.getKey(e,t),style:r.getTabProp(e,"headerStyle"),class:r.getTabHeaderClass(e,t),role:"presentation","data-index":t},r.getTabProp(e,"headerProps")),[(0,a.wy)(((0,a.wg)(),(0,a.iD)("a",(0,a.dG)({id:r.getTabHeaderActionId(t),class:"p-tabview-nav-link p-tabview-header-action",tabindex:r.getTabProp(e,"disabled")||!r.isTabActive(t)?-1:i.tabindex,role:"tab","aria-disabled":r.getTabProp(e,"disabled"),"aria-selected":r.isTabActive(t),"aria-controls":r.getTabContentId(t),onClick:i=>r.onTabClick(i,e,t),onKeydown:i=>r.onTabKeyDown(i,e,t)},r.getTabProp(e,"headerActionProps")),[e.props&&e.props.header?((0,a.wg)(),(0,a.iD)("span",ga,(0,s.zw)(e.props.header),1)):(0,a.kq)("",!0),e.children&&e.children.header?((0,a.wg)(),(0,a.j4)((0,a.LL)(e.children.header),{key:1})):(0,a.kq)("",!0)],16,ua)),[[d]])],16,ma)))),128)),(0,a._)("li",fa,null,512)],512)],544),i.scrollable&&!n.isNextButtonDisabled?(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",(0,a.dG)({key:1,ref:"nextBtn",type:"button",class:"p-tabview-nav-next p-tabview-nav-btn p-link",tabindex:i.tabindex,"aria-label":r.nextButtonAriaLabel,onClick:t[2]||(t[2]=(...e)=>r.onNextButtonClick&&r.onNextButtonClick(...e))},i.nextButtonProps),ya,16,va)),[[d]]):(0,a.kq)("",!0)]),(0,a._)("div",ba,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tabs,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:r.getKey(e,t)},[!i.lazy||r.isTabActive(t)?(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",(0,a.dG)({key:0,style:r.getTabProp(e,"contentStyle"),class:r.getTabContentClass(e),role:"tabpanel","aria-labelledby":r.getTabHeaderActionId(t)},r.getTabProp(e,"contentProps")),[((0,a.wg)(),(0,a.j4)((0,a.LL)(e)))],16,Ta)),[[l.F8,!!i.lazy||r.isTabActive(t)]]):(0,a.kq)("",!0)],64)))),128))])],2)}function Ca(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===i&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var ka="\n.p-tabview-nav-container {\n    position: relative;\n}\n.p-tabview-scrollable .p-tabview-nav-container {\n    overflow: hidden;\n}\n.p-tabview-nav-content {\n    overflow-x: auto;\n    overflow-y: hidden;\n    scroll-behavior: smooth;\n    scrollbar-width: none;\n    -ms-scroll-chaining: contain auto;\n        overscroll-behavior: contain auto;\n}\n.p-tabview-nav {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto;\n}\n.p-tabview-header-action {\n    cursor: pointer;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    position: relative;\n    text-decoration: none;\n    overflow: hidden;\n}\n.p-tabview-ink-bar {\n    display: none;\n    z-index: 1;\n}\n.p-tabview-header-action:focus {\n    z-index: 1;\n}\n.p-tabview-title {\n    line-height: 1;\n    white-space: nowrap;\n}\n.p-tabview-nav-btn {\n    position: absolute;\n    top: 0;\n    z-index: 2;\n    height: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.p-tabview-nav-prev {\n    left: 0;\n}\n.p-tabview-nav-next {\n    right: 0;\n}\n.p-tabview-nav-content::-webkit-scrollbar {\n    display: none;\n}\n";Ca(ka),na.render=Da;var Ia={name:"TabPanel",props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean}};function xa(e,t,i,s,l,o){return(0,a.WI)(e.$slots,"default")}Ia.render=xa;var _a=i(5517),Fa={name:"ProgressBar",props:{value:{type:Number,default:null},mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},computed:{containerClass(){return["p-progressbar p-component",{"p-progressbar-determinate":this.determinate,"p-progressbar-indeterminate":this.indeterminate}]},progressStyle(){return{width:this.value+"%",display:"flex"}},indeterminate(){return"indeterminate"===this.mode},determinate(){return"determinate"===this.mode}}};const Ma=["aria-valuenow"],Na={key:0,class:"p-progressbar-label"},Sa={key:1,class:"p-progressbar-indeterminate-container"},Ua=(0,a._)("div",{class:"p-progressbar-value p-progressbar-value-animate"},null,-1),Oa=[Ua];function Aa(e,t,i,l,o,n){return(0,a.wg)(),(0,a.iD)("div",{role:"progressbar",class:(0,s.C_)(n.containerClass),"aria-valuemin":"0","aria-valuenow":i.value,"aria-valuemax":"100"},[n.determinate?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"p-progressbar-value p-progressbar-value-animate",style:(0,s.j5)(n.progressStyle)},[null!=i.value&&0!==i.value&&i.showValue?((0,a.wg)(),(0,a.iD)("div",Na,[(0,a.WI)(e.$slots,"default",{},(()=>[(0,a.Uk)((0,s.zw)(i.value+"%"),1)]))])):(0,a.kq)("",!0)],4)):(0,a.kq)("",!0),n.indeterminate?((0,a.wg)(),(0,a.iD)("div",Sa,Oa)):(0,a.kq)("",!0)],10,Ma)}function Va(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===i&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Ba="\n.p-progressbar {\n    position: relative;\n    overflow: hidden;\n}\n.p-progressbar-determinate .p-progressbar-value {\n    height: 100%;\n    width: 0%;\n    position: absolute;\n    display: none;\n    border: 0 none;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    overflow: hidden;\n}\n.p-progressbar-determinate .p-progressbar-label {\n    display: -webkit-inline-box;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n}\n.p-progressbar-determinate .p-progressbar-value-animate {\n    -webkit-transition: width 1s ease-in-out;\n    transition: width 1s ease-in-out;\n}\n.p-progressbar-indeterminate .p-progressbar-value::before {\n    content: '';\n    position: absolute;\n    background-color: inherit;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    will-change: left, right;\n    -webkit-animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n}\n.p-progressbar-indeterminate .p-progressbar-value::after {\n    content: '';\n    position: absolute;\n    background-color: inherit;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    will-change: left, right;\n    -webkit-animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\n    animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\n    -webkit-animation-delay: 1.15s;\n    animation-delay: 1.15s;\n}\n@-webkit-keyframes p-progressbar-indeterminate-anim {\n0% {\n        left: -35%;\n        right: 100%;\n}\n60% {\n        left: 100%;\n        right: -90%;\n}\n100% {\n        left: 100%;\n        right: -90%;\n}\n}\n@keyframes p-progressbar-indeterminate-anim {\n0% {\n        left: -35%;\n        right: 100%;\n}\n60% {\n        left: 100%;\n        right: -90%;\n}\n100% {\n        left: 100%;\n        right: -90%;\n}\n}\n@-webkit-keyframes p-progressbar-indeterminate-anim-short {\n0% {\n        left: -200%;\n        right: 100%;\n}\n60% {\n        left: 107%;\n        right: -8%;\n}\n100% {\n        left: 107%;\n        right: -8%;\n}\n}\n@keyframes p-progressbar-indeterminate-anim-short {\n0% {\n        left: -200%;\n        right: 100%;\n}\n60% {\n        left: 107%;\n        right: -8%;\n}\n100% {\n        left: 107%;\n        right: -8%;\n}\n}\n";Va(Ba),Fa.render=Aa;var Ka={name:"Message",emits:["close"],props:{severity:{type:String,default:"info"},closable:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},life:{type:Number,default:3e3},icon:{type:String,default:null}},timeout:null,data(){return{visible:!0}},mounted(){this.sticky||setTimeout((()=>{this.visible=!1}),this.life)},methods:{close(e){this.visible=!1,this.$emit("close",e)}},computed:{containerClass(){return"p-message p-component p-message-"+this.severity},iconClass(){return["p-message-icon pi",this.icon?this.icon:{"pi-info-circle":"info"===this.severity,"pi-check":"success"===this.severity,"pi-exclamation-triangle":"warn"===this.severity,"pi-times-circle":"error"===this.severity}]}},directives:{ripple:oa.Z}};const Pa={class:"p-message-wrapper"},La={class:"p-message-text"},Wa=(0,a._)("i",{class:"p-message-close-icon pi pi-times"},null,-1),Ya=[Wa];function Ea(e,t,i,o,n,r){const d=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.j4)(l.uT,{name:"p-message",appear:""},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",{class:(0,s.C_)(r.containerClass),role:"alert"},[(0,a._)("div",Pa,[(0,a._)("span",{class:(0,s.C_)(r.iconClass)},null,2),(0,a._)("div",La,[(0,a.WI)(e.$slots,"default")]),i.closable?(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{key:0,class:"p-message-close p-link",onClick:t[0]||(t[0]=e=>r.close(e)),type:"button"},Ya)),[[d]]):(0,a.kq)("",!0)])],2),[[l.F8,n.visible]])])),_:3})}function qa(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===i&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var za="\n.p-message-wrapper {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-message-close {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.p-message-close.p-link {\n    margin-left: auto;\n    overflow: hidden;\n    position: relative;\n}\n.p-message-enter-from {\n    opacity: 0;\n}\n.p-message-enter-active {\n    -webkit-transition: opacity 0.3s;\n    transition: opacity 0.3s;\n}\n.p-message.p-message-leave-from {\n    max-height: 1000px;\n}\n.p-message.p-message-leave-to {\n    max-height: 0;\n    opacity: 0;\n    margin: 0 !important;\n}\n.p-message-leave-active {\n    overflow: hidden;\n    -webkit-transition: max-height 0.3s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin 0.15s;\n    transition: max-height 0.3s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin 0.15s;\n}\n.p-message-leave-active .p-message-close {\n    display: none;\n}\n";qa(za),Ka.render=Ea;var $a={name:"FileUpload",emits:["select","uploader","before-upload","progress","upload","error","before-send","clear","remove"],props:{name:{type:String,default:null},url:{type:String,default:null},mode:{type:String,default:"advanced"},multiple:{type:Boolean,default:!1},accept:{type:String,default:null},disabled:{type:Boolean,default:!1},auto:{type:Boolean,default:!1},maxFileSize:{type:Number,default:null},invalidFileSizeMessage:{type:String,default:"{0}: Invalid file size, file size should be smaller than {1}."},invalidFileTypeMessage:{type:String,default:"{0}: Invalid file type, allowed file types: {1}."},fileLimit:{type:Number,default:null},invalidFileLimitMessage:{type:String,default:"Maximum number of files exceeded, limit is {0} at most."},withCredentials:{type:Boolean,default:!1},previewWidth:{type:Number,default:50},chooseLabel:{type:String,default:null},uploadLabel:{type:String,default:null},cancelLabel:{type:String,default:null},customUpload:{type:Boolean,default:!1},showUploadButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},chooseIcon:{type:String,default:"pi pi-plus"},uploadIcon:{type:String,default:"pi pi-upload"},cancelIcon:{type:String,default:"pi pi-times"},style:null,class:null},duplicateIEEvent:!1,data(){return{uploadedFileCount:0,files:[],messages:[],focused:!1,progress:null}},methods:{onFileSelect(e){if("drop"!==e.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.messages=[],this.files=this.files||[];let t=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let i of t)this.isFileSelected(i)||this.validate(i)&&(this.isImage(i)&&(i.objectURL=window.URL.createObjectURL(i)),this.files.push(i));this.$emit("select",{originalEvent:e,files:this.files}),this.fileLimit&&this.checkFileLimit(),this.auto&&this.hasFiles&&!this.isFileLimitExceeded()&&this.upload(),"drop"!==e.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()},choose(){this.$refs.fileInput.click()},upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("uploader",{files:this.files}),this.clear();else{let e=new XMLHttpRequest,t=new FormData;this.$emit("before-upload",{xhr:e,formData:t});for(let i of this.files)t.append(this.name,i,i.name);e.upload.addEventListener("progress",(e=>{e.lengthComputable&&(this.progress=Math.round(100*e.loaded/e.total)),this.$emit("progress",{originalEvent:e,progress:this.progress})})),e.onreadystatechange=()=>{4===e.readyState&&(this.progress=0,e.status>=200&&e.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("upload",{xhr:e,files:this.files})):this.$emit("error",{xhr:e,files:this.files}),this.clear())},e.open("POST",this.url,!0),this.$emit("before-send",{xhr:e,formData:t}),e.withCredentials=this.withCredentials,e.send(t)}},clear(){this.files=[],this.messages=null,this.$emit("clear"),this.isAdvanced&&this.clearInputElement()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},isFileSelected(e){if(this.files&&this.files.length)for(let t of this.files)if(t.name+t.type+t.size===e.name+e.type+e.size)return!0;return!1},isIE11(){return!!window["MSInputMethodContext"]&&!!document["documentMode"]},validate(e){return this.accept&&!this.isFileTypeValid(e)?(this.messages.push(this.invalidFileTypeMessage.replace("{0}",e.name).replace("{1}",this.accept)),!1):!(this.maxFileSize&&e.size>this.maxFileSize)||(this.messages.push(this.invalidFileSizeMessage.replace("{0}",e.name).replace("{1}",this.formatSize(this.maxFileSize))),!1)},isFileTypeValid(e){let t=this.accept.split(",").map((e=>e.trim()));for(let i of t){let t=this.isWildcard(i)?this.getTypeClass(e.type)===this.getTypeClass(i):e.type==i||this.getFileExtension(e).toLowerCase()===i.toLowerCase();if(t)return!0}return!1},getTypeClass(e){return e.substring(0,e.indexOf("/"))},isWildcard(e){return-1!==e.indexOf("*")},getFileExtension(e){return"."+e.name.split(".").pop()},isImage(e){return/^image\//.test(e.type)},onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())},onDragOver(e){this.disabled||(la.p7.addClass(this.$refs.content,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault())},onDragLeave(){this.disabled||la.p7.removeClass(this.$refs.content,"p-fileupload-highlight")},onDrop(e){if(!this.disabled){la.p7.removeClass(this.$refs.content,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();const t=e.dataTransfer?e.dataTransfer.files:e.target.files,i=this.multiple||t&&1===t.length;i&&this.onFileSelect(e)}},onBasicUploaderClick(){this.hasFiles?this.upload():this.$refs.fileInput.click()},remove(e){this.clearInputElement();let t=this.files.splice(e,1)[0];this.files=[...this.files],this.$emit("remove",{file:t,files:this.files})},clearInputElement(){this.$refs.fileInput.value=""},clearIEInput(){this.$refs.fileInput&&(this.duplicateIEEvent=!0,this.$refs.fileInput.value="")},formatSize(e){if(0===e)return"0 B";let t=1e3,i=3,a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(i))+" "+a[s]},isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focused&&(this.focused=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount},checkFileLimit(){this.isFileLimitExceeded()&&this.messages.push(this.invalidFileLimitMessage.replace("{0}",this.fileLimit.toString()))},onMessageClose(){this.messages=null}},computed:{isAdvanced(){return"advanced"===this.mode},isBasic(){return"basic"===this.mode},advancedChooseButtonClass(){return["p-button p-component p-fileupload-choose",this.class,{"p-disabled":this.disabled,"p-focus":this.focused}]},basicChooseButtonClass(){return["p-button p-component p-fileupload-choose",this.class,{"p-fileupload-choose-selected":this.hasFiles,"p-disabled":this.disabled,"p-focus":this.focused}]},advancedChooseIconClass(){return["p-button-icon p-button-icon-left pi-fw",this.chooseIcon]},basicChooseButtonIconClass(){return["p-button-icon p-button-icon-left",!this.hasFiles||this.auto?this.uploadIcon:this.chooseIcon]},basicChooseButtonLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles?this.files.map((e=>e.name)).join(", "):this.chooseButtonLabel},hasFiles(){return this.files&&this.files.length>0},chooseDisabled(){return this.disabled||this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount},uploadDisabled(){return this.disabled||!this.hasFiles||this.fileLimit&&this.fileLimit<this.files.length},cancelDisabled(){return this.disabled||!this.hasFiles},chooseButtonLabel(){return this.chooseLabel||this.$primevue.config.locale.choose},uploadButtonLabel(){return this.uploadLabel||this.$primevue.config.locale.upload},cancelButtonLabel(){return this.cancelLabel||this.$primevue.config.locale.cancel}},components:{FileUploadButton:ea.Z,FileUploadProgressBar:Fa,FileUploadMessage:Ka},directives:{ripple:oa.Z}};const Ha={key:0,class:"p-fileupload p-fileupload-advanced p-component"},Ra={class:"p-fileupload-buttonbar"},ja=["multiple","accept","disabled"],Za={class:"p-button-label"},Ga={key:1,class:"p-fileupload-files"},Ja=["alt","src","width"],Qa={class:"p-fileupload-filename"},Xa={key:2,class:"p-fileupload-empty"},es={key:1,class:"p-fileupload p-fileupload-basic p-component"},ts={class:"p-button-label"},is=["accept","disabled","multiple"];function as(e,t,i,o,n,r){const d=(0,a.up)("FileUploadButton"),p=(0,a.up)("FileUploadProgressBar"),c=(0,a.up)("FileUploadMessage"),h=(0,a.Q2)("ripple");return r.isAdvanced?((0,a.wg)(),(0,a.iD)("div",Ha,[(0,a._)("div",Ra,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",{class:(0,s.C_)(r.advancedChooseButtonClass),style:(0,s.j5)(i.style),onClick:t[1]||(t[1]=(...e)=>r.choose&&r.choose(...e)),onKeydown:t[2]||(t[2]=(0,l.D2)(((...e)=>r.choose&&r.choose(...e)),["enter"])),onFocus:t[3]||(t[3]=(...e)=>r.onFocus&&r.onFocus(...e)),onBlur:t[4]||(t[4]=(...e)=>r.onBlur&&r.onBlur(...e)),tabindex:"0"},[(0,a._)("input",{ref:"fileInput",type:"file",onChange:t[0]||(t[0]=(...e)=>r.onFileSelect&&r.onFileSelect(...e)),multiple:i.multiple,accept:i.accept,disabled:r.chooseDisabled},null,40,ja),(0,a._)("span",{class:(0,s.C_)(r.advancedChooseIconClass)},null,2),(0,a._)("span",Za,(0,s.zw)(r.chooseButtonLabel),1)],38)),[[h]]),i.showUploadButton?((0,a.wg)(),(0,a.j4)(d,{key:0,label:r.uploadButtonLabel,icon:i.uploadIcon,onClick:r.upload,disabled:r.uploadDisabled},null,8,["label","icon","onClick","disabled"])):(0,a.kq)("",!0),i.showCancelButton?((0,a.wg)(),(0,a.j4)(d,{key:1,label:r.cancelButtonLabel,icon:i.cancelIcon,onClick:r.clear,disabled:r.cancelDisabled},null,8,["label","icon","onClick","disabled"])):(0,a.kq)("",!0)]),(0,a._)("div",{ref:"content",class:"p-fileupload-content",onDragenter:t[5]||(t[5]=(...e)=>r.onDragEnter&&r.onDragEnter(...e)),onDragover:t[6]||(t[6]=(...e)=>r.onDragOver&&r.onDragOver(...e)),onDragleave:t[7]||(t[7]=(...e)=>r.onDragLeave&&r.onDragLeave(...e)),onDrop:t[8]||(t[8]=(...e)=>r.onDrop&&r.onDrop(...e))},[r.hasFiles?((0,a.wg)(),(0,a.j4)(p,{key:0,value:n.progress},null,8,["value"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.messages,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e,severity:"error",onClose:r.onMessageClose},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e),1)])),_:2},1032,["onClose"])))),128)),r.hasFiles?((0,a.wg)(),(0,a.iD)("div",Ga,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.files,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e.name+e.type+e.size,class:"p-fileupload-row"},[(0,a._)("div",null,[r.isImage(e)?((0,a.wg)(),(0,a.iD)("img",{key:0,role:"presentation",alt:e.name,src:e.objectURL,width:i.previewWidth},null,8,Ja)):(0,a.kq)("",!0)]),(0,a._)("div",Qa,(0,s.zw)(e.name),1),(0,a._)("div",null,(0,s.zw)(r.formatSize(e.size)),1),(0,a._)("div",null,[(0,a.Wm)(d,{type:"button",icon:"pi pi-times",onClick:e=>r.remove(t)},null,8,["onClick"])])])))),128))])):(0,a.kq)("",!0),e.$slots.empty&&!r.hasFiles?((0,a.wg)(),(0,a.iD)("div",Xa,[(0,a.WI)(e.$slots,"empty")])):(0,a.kq)("",!0)],544)])):r.isBasic?((0,a.wg)(),(0,a.iD)("div",es,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.messages,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e,severity:"error",onClose:r.onMessageClose},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e),1)])),_:2},1032,["onClose"])))),128)),(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",{class:(0,s.C_)(r.basicChooseButtonClass),style:(0,s.j5)(i.style),onMouseup:t[12]||(t[12]=(...e)=>r.onBasicUploaderClick&&r.onBasicUploaderClick(...e)),onKeydown:t[13]||(t[13]=(0,l.D2)(((...e)=>r.choose&&r.choose(...e)),["enter"])),onFocus:t[14]||(t[14]=(...e)=>r.onFocus&&r.onFocus(...e)),onBlur:t[15]||(t[15]=(...e)=>r.onBlur&&r.onBlur(...e)),tabindex:"0"},[(0,a._)("span",{class:(0,s.C_)(r.basicChooseButtonIconClass)},null,2),(0,a._)("span",ts,(0,s.zw)(r.basicChooseButtonLabel),1),r.hasFiles?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("input",{key:0,ref:"fileInput",type:"file",accept:i.accept,disabled:i.disabled,multiple:i.multiple,onChange:t[9]||(t[9]=(...e)=>r.onFileSelect&&r.onFileSelect(...e)),onFocus:t[10]||(t[10]=(...e)=>r.onFocus&&r.onFocus(...e)),onBlur:t[11]||(t[11]=(...e)=>r.onBlur&&r.onBlur(...e))},null,40,is))],38)),[[h]])])):(0,a.kq)("",!0)}function ss(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===i&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var ls="\n.p-fileupload-content {\n    position: relative;\n}\n.p-fileupload-row {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-fileupload-row > div {\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto;\n    width: 25%;\n}\n.p-fileupload-row > div:last-child {\n    text-align: right;\n}\n.p-fileupload-content .p-progressbar {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.p-button.p-fileupload-choose {\n    position: relative;\n    overflow: hidden;\n}\n.p-button.p-fileupload-choose input[type='file'] {\n    display: none;\n}\n.p-fileupload-choose.p-fileupload-choose-selected input[type='file'] {\n    display: none;\n}\n.p-fileupload-filename {\n    word-break: break-all;\n}\n.p-fluid .p-fileupload .p-button {\n    width: auto;\n}\n";ss(ls),$a.render=as;var os=i(3602),ns=i(6265),rs=i.n(ns),ds=i(7387),ps=i.n(ds),cs=i(2724),hs=i(6797),ms=i.n(hs),us={props:["systemId"],components:{InputText:Xi.Z,Button:ea.Z,DataTable:Ji.Z,Column:Qi.Z,Calendar:ta.Z,Dialog:ia.Z,TabView:na,TabPanel:Ia,InlineMessage:aa.Z,InputNumber:sa.Z,Dropdown:_a.Z,FileUpload:$a,Checkbox:os.Z},emits:["extend-session","showSearchbar"],data(){return{howManyTrips:"",AllPageMarked:!1,AllMarked:!1,sendMultipleInvoiceDialog:!1,showInvoiceSelectedButton:!1,selectedIDsForInvoicing:[],checkedIDs:[],invoiceDate:"",invoiceDateOK:!0,sendInvoiceDialog:!1,displayUnInvoiceConfirm:!1,dataTable:"dataTable",downloadedReport:"",binaryfile:"",photoIdForDelete:"",displayDeletePhotoConfirm:!1,uploadFIlename:"",displayUploadModal:!1,allCompanies:[],ClickedRowId:"",tableHeight:"calc( 100vh - 215px)",displayDeleteConfirm:!1,deletingTripName:"",newTripDialog:!1,editTripDialog:!1,isLoading:!0,userType:"",userLocale:"",loading1:!0,loading2:!0,filters1:null,visibleImagesModal:!1,tripImages:[],picturesTabShow:!1,activeTab:0,tripDate:"",tripUserEmail:"",tripFrom:"",tripTo:"",tripFixedCosts:"",tripCargoName:"",tripDistance:"",tripDistanceCosts:"",tripVatPercentage:"",tripSum:"",tripSumVAT:"",tripCompanyName:"",tripComments:"",tripCreated:"",tripUserFullName:"",openedcargoname:"",displayInfoDialog:!1,InfoModalHeader:"",InfoModalMessage:"",newTripDate:"",newTripFrom:"",newTripTo:"",newTripCargoName:"",newTripFixedCosts:"0",newTripDistance:"0",newTripDistanceCosts:"0",newTripCompanyName:"",newTripComments:"",newTripDateOK:!0,newTripFromOK:!0,newTripToOK:!0,newTripCargoNameOK:!0,newTripFixedCostsOK:!0,newTripDistanceOK:!0,newTripDistanceCostsOK:!0,newTripCompanyNameOK:!0,newTripCommentsOK:!0,editTripDate:"",editTripFrom:"",editTripTo:"",editTripCargoName:"",editTripFixedCosts:"0",editTripDistance:"0",editTripDistanceCosts:"0",editTripCompanyName:"",editTripComments:"",editTripDateOK:!0,editTripFromOK:!0,editTripToOK:!0,editTripCargoNameOK:!0,editTripFixedCostsOK:!0,editTripDistanceOK:!0,editTripDistanceCostsOK:!0,editTripCompanyNameOK:!0,editTripCommentsOK:!0,editTripInvoiced:"",panelClass:"closedPanel",filters:{global:{value:null,matchMode:cs.a6.CONTAINS},userFullName:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},from:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},to:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},companyName:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},cargoName:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},distance:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},sumVAT:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},comments:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},date:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},fixedCosts:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},distanceCosts:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},sum:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},invSent:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.STRING}]}},aSystemDoc:"",matchModes:[{label:"Starts With",value:cs.a6.STARTS_WITH},{label:"Contains",value:cs.a6.CONTAINS}],allTrips:[],fromDate:"",toDate:""}},methods:{selectingForInvoice(e){if(this.checkedIDs[e]){const t=this.selectedIDsForInvoicing.indexOf(e);this.selectedIDsForInvoicing.splice(t,1)}else this.selectedIDsForInvoicing.push(e);this.selectedIDsForInvoicing.length>0?this.showInvoiceSelectedButton=!0:(this.showInvoiceSelectedButton=!1,this.AllPageMarked=!1)},invoiceSelected(){this.invoiceDate=ms()().format("DD/MM/YYYY HH:mm"),this.sendMultipleInvoiceDialog=!0},reorganizePagination(){ps()(".p-paginator-current").detach().appendTo(".p-paginator-left-content"),ps()(".p-paginator-rpp-options").detach().appendTo(".p-paginator-right-content")},moveSearchBoxToTop(){ps()("#hereMoveSearch").empty(),ps()("#searchBox").detach().appendTo("#hereMoveSearch")},newTrip(){this.resetInputFields(),this.newTripDate=this.format_date(ms()(),"DD/MM/YYYY HH:mm"),this.newTripDialog=!0},editTrip(){var e=!0;""==this.editTripDate?(this.editTripDateOK=!1,e=!1):this.editTripDateOK=!0,""==this.editTripFrom?(this.editTripFromOK=!1,e=!1):this.editTripFromOK=!0,""==this.editTripTo?(this.editTripToOK=!1,e=!1):this.editTripToOK=!0,""==this.editTripCargoName?(this.editTripCargoNameOK=!1,e=!1):this.editTripCargoNameOK=!0,null==this.editTripFixedCosts?(this.editTripFixedCostsOK=!1,e=!1):this.editTripFixedCostsOK=!0,null==this.editTripDistance&&(this.editTripDistance="0"),null==this.editTripDistanceCosts?(this.editTripDistanceCostsOK=!1,e=!1):this.editTripDistanceCostsOK=!0,this.editTripCompanyName.name&&(this.editTripCompanyName=this.editTripCompanyName.name),""==this.editTripCompanyName?(this.editTripCompanyNameOK=!1,e=!1):this.editTripCompanyNameOK=!0,1==e&&this.editTripInDatabase()},editTripInDatabase(){this.panelClass="closedPanel",this.isLoading=!0;var e=this.format_date(ms()(this.editTripDate,"DD/MM/YYYY HH:mm"),"YYYY-MM-DD HH:mm:ss");const t=this.$store.getters.token,i=localStorage.getItem("_rootRestUrl");let a=JSON.stringify({key:this.ClickedRowId,sessionId:t,from:this.editTripFrom,to:this.editTripTo,fixedCosts:this.editTripFixedCosts,userEmail:"",date:e,cargoName:this.editTripCargoName,distance:this.editTripDistance,distanceCosts:this.editTripDistanceCosts,companyName:this.editTripCompanyName,comments:this.editTripComments}),s={headers:{"Content-Type":"application/json"}};rs().post(i+"/api/v1/Trip/ModifyTrip_V2",a,s).then((()=>{this.getTrips(),this.getCompanies(),this.editTripDialog=!1,this.displayInfoDialog=!0,this.InfoModalHeader="Info",this.InfoModalMessage="Changes are saved",this.isLoading=!1})).catch((function(e){console.table(e),this.editTripDialog=!1,this.displayInfoDialog=!0,this.InfoModalHeader="Error!",this.InfoModalMessage="An error occured while saving changes!",this.isLoading=!1})),this.$store.dispatch("autoLogin"),this.extendTime()},saveTrip(){var e=!0;""==this.newTripDate?(this.newTripDateOK=!1,e=!1):this.newTripDateOK=!0,""==this.newTripFrom?(this.newTripFromOK=!1,e=!1):this.newTripFromOK=!0,""==this.newTripTo?(this.newTripToOK=!1,e=!1):this.newTripToOK=!0,""==this.newTripCargoName?(this.newTripCargoNameOK=!1,e=!1):this.newTripCargoNameOK=!0,null==this.newTripFixedCosts?(this.newTripFixedCostsOK=!1,e=!1):this.newTripFixedCostsOK=!0,null==this.newtTripDistance&&(this.newTripDistance="0"),null==this.newTripDistanceCosts?(this.newTripDistanceCostsOK=!1,e=!1):this.newTripDistanceCostsOK=!0,void 0==this.newTripCompanyName||""==this.newTripCompanyName?(this.newTripCompanyName="",e=!1,this.newTripCompanyNameOK=!1):(this.newTripCompanyName=this.newTripCompanyName.name,""==this.newTripCompanyName?(this.newTripCompanyNameOK=!1,e=!1):this.newTripCompanyNameOK=!0),1==e&&this.insertTripToDatabase()},async insertTripToDatabase(){this.panelClass="closedPanel",this.isLoading=!0;const e=this.$store.getters.token;var t=this.format_date(ms()(this.newTripDate,"DD/MM/YYYY HH:mm"),"YYYY-MM-DD HH:mm:ss");const i=localStorage.getItem("_rootRestUrl");let a=JSON.stringify({sessionId:e,tripsToInsert:[{key:"",from:this.newTripFrom,to:this.newTripTo,fixedCosts:this.newTripFixedCosts,userEmail:"",date:t,cargoName:this.newTripCargoName,distance:this.newTripDistance,distanceCosts:this.newTripDistanceCosts,companyName:this.newTripCompanyName,comments:this.newTripComments}]}),s={headers:{"Content-Type":"application/json"}};await rs().post(i+"/api/v1/Trip/CreateTrips_V2",a,s).then((()=>{this.getTrips(),this.getCompanies(),this.newTripDialog=!1,this.displayInfoDialog=!0,this.InfoModalHeader="Info",this.InfoModalMessage="Trip is added",this.isLoading=!1})).catch((function(e){"401"==e.response.status&&(localStorage.clear(),document.location="/"),console.table(e),this.newTripDialog=!1,this.displayInfoDialog=!0,this.InfoModalHeader="Error!",this.InfoModalMessage="An error occured while saving trip!",this.isLoading=!1})),this.$store.dispatch("autoLogin"),this.extendTime()},closeInfo(){this.displayInfoDialog=!1},handleClose(e){},closeInsertDialog(){this.newTripDialog=!1,this.resetInputFields()},closeEditDialog(){this.editTripDialog=!1,this.resetInputFields()},resetInputFields(){this.newTripDate="",this.newTripFrom="",this.newTripTo="",this.newTripCargoName="",this.newTripFixedCosts="0",this.newTripDistance="0",this.newTripDistanceCosts="0",this.newTripCompanyName="",this.newTripComments="",this.newTripDateOK=!0,this.newTripFromOK=!0,this.newTripToOK=!0,this.newTripCargoNameOK=!0,this.newTripFixedCostsOK=!0,this.newTripDistanceOK=!0,this.newTripDistanceCostsOK=!0,this.newTripCompanyNameOK=!0,this.newTripCommentsOK=!0,this.editTripDate="",this.editTripFrom="",this.editTripTo="",this.editTripCargoName="",this.editTripFixedCosts="0",this.editTripDistance="0",this.editTripDistanceCosts="0",this.editTripCompanyName="",this.editTripComments="",this.editTripDateOK=!0,this.editTripFromOK=!0,this.editTripToOK=!0,this.editTripCargoNameOK=!0,this.editTripFixedCostsOK=!0,this.editTripDistanceOK=!0,this.editTripDistanceCostsOK=!0,this.editTripCompanyNameOK=!0,this.editTripCommentsOK=!0},editClick(){this.editTripDialog=!0},deleteClick(){this.displayDeleteConfirm=!0},deletePhotoId(e){this.displayDeletePhotoConfirm=!0,this.photoIdForDelete=e},deletePhotoModal(e){this.photoIdForDelete=e,this.deletePhoto()},async deletePhoto(){this.panelClass="closedPanel",this.isLoading=!0;const e=this.$store.getters.token,t=localStorage.getItem("_rootRestUrl");let i=JSON.stringify({sessionId:e,key:this.photoIdForDelete}),a={headers:{"Content-Type":"application/json"}};await rs().post(t+"/api/v1/Trip/DeleteTripFile",i,a).then((()=>{this.getTrips(),this.getCompanies(),this.displayDeletePhotoConfirm=!1,this.visibleImagesModal=!1,this.displayInfoDialog=!0,this.InfoModalHeader="Info",this.InfoModalMessage="Photo is deleted",this.isLoading=!1})).catch((function(e){"401"==e.response.status&&(localStorage.clear(),document.location="/"),console.table(e),this.displayDeleteConfirm=!1,this.displayDeletePhotoConfirm=!0,this.visibleImagesModal=!1,this.InfoModalHeader="Error!",this.InfoModalMessage="An error occured while deleting photo!",this.isLoading=!1})),this.$store.dispatch("autoLogin"),this.extendTime()},async deleteTrip(){this.panelClass="closedPanel",this.isLoading=!0;const e=this.$store.getters.token,t=localStorage.getItem("_rootRestUrl");let i=JSON.stringify({sessionId:e,key:this.ClickedRowId}),a={headers:{"Content-Type":"application/json"}};await rs().post(t+"/api/v1/Trip/DeleteTrip",i,a).then((()=>{this.getTrips(),this.getCompanies(),this.displayDeleteConfirm=!1,this.displayInfoDialog=!0,this.InfoModalHeader="Info",this.InfoModalMessage="Trip is deleted",this.isLoading=!1})).catch((function(e){"401"==e.response.status&&(localStorage.clear(),document.location="/"),console.table(e),this.displayDeleteConfirm=!1,this.displayInfoDialog=!0,this.InfoModalHeader="Error!",this.InfoModalMessage="An error occured while deleting trip!",this.isLoading=!1})),this.$store.dispatch("autoLogin"),this.extendTime()},downloadClick(){alert("Download clicked")},refreshData(){10!=this.fromDate.length&&(this.fromDate=this.format_date(this.fromDate,"DD/MM/YYYY")),10!=this.toDate.length&&(this.toDate=this.format_date(this.toDate,"DD/MM/YYYY")),this.getTrips(),this.getCompanies()},format_date_to_full(e,t){var i=e.substring(6,10),a=e.substring(3,5),s=e.substring(0,2);return i+"-"+a+"-"+s+" "+t},format_date_to_full_time(e){var t=e.substring(6,10),i=e.substring(3,5),a=e.substring(0,2),s=e.substring(11,13),l=e.substring(14,16),o="00";return t+"-"+i+"-"+a+" "+s+":"+l+":"+o},format_date_to_dateTime(e){var t=e.substring(0,4),i=e.substring(5,7),a=e.substring(8,10),s=e.substring(11,13),l=e.substring(14,16);return a+"/"+i+"/"+t+" "+s+":"+l},async getCompanies(){const e=this.$store.getters.token,t=localStorage.getItem("_rootRestUrl");let i=JSON.stringify({sessionId:e}),a={headers:{"Content-Type":"application/json"}};await rs().get(t+"/api/v1/Company/GetCompanies/?sessionId="+e,i,a).then((e=>{this.allCompanies=e.data;const t=(e,t,i="ascending")=>{const a=e.sort(((e,i)=>e[t]<i[t]?-1:e[t]>i[t]?1:0));return"descending"===i?a.reverse():a};this.allCompanies=t(this.allCompanies,"name")})).catch((function(e){"401"==e.response.status&&(localStorage.clear(),document.location="/"),console.table(e)})),this.$store.dispatch("autoLogin"),this.extendTime()},extendTime(){this.$emit("extend-session")},async getTrips(){10!=this.fromDate.length&&(this.fromDate=this.format_date(this.fromDate,"DD/MM/YYYY")),10!=this.toDate.length&&(this.toDate=this.format_date(this.toDate,"DD/MM/YYYY")),localStorage.setItem("fromDate",this.fromDate),localStorage.setItem("toDate",this.toDate),this.panelClass="closedPanel",this.isLoading=!0;const e=this.format_date_to_full(this.fromDate,"00:00:00"),t=this.format_date_to_full(this.toDate,"23:59:59"),i=this.$store.getters.token,a=e,s=t,l=localStorage.getItem("userId"),o=this.userType,n=localStorage.getItem("_rootRestUrl");let r=JSON.stringify({sessionId:i,DateFrom:a,DateTo:s,UserId:l,UserType:o}),d={headers:{"Content-Type":"application/json"}};await rs().get(n+"/api/v1/Trip/GetTrips_WEB/?sessionId="+i+"&DateFrom="+a+"&DateTo="+s+"&UserId="+l+"&UserType="+o,r,d).then((e=>{this.allTrips=e.data,this.correctData(),this.isLoading=!1,this.reorganizePagination()})).catch((function(e){"401"==e.response.status&&(localStorage.clear(),document.location="/")})),this.$store.dispatch("autoLogin"),this.extendTime()},onRowClick(e){this.ClickedRowId=e.data.id,this.editTripDate=this.format_date_to_dateTime(e.data.date),this.editTripFrom=e.data.from,this.editTripTo=e.data.to,this.editTripCargoName=e.data.cargoName,this.editTripFixedCosts=e.data.fixedCosts,this.editTripDistance=e.data.distance,this.editTripDistanceCosts=e.data.distanceCosts,this.editTripCompanyName=e.data.companyName,this.editTripComments=e.data.comments,this.editTripInvoiced=e.data.invSent,ps()(".hiddenFields").each((function(){ps()(this).closest("tr").removeClass("highlight")})),ps()(".hiddenFields").each((function(){ps()(this).attr("data")==e.data.id&&ps()(this).closest("tr").addClass("highlight")}))},onRowSelect(e){"I"!=e.originalEvent.target.tagName&&"SPAN"!=e.originalEvent.target.tagName&&(ps()(".hiddenFields").each((function(){ps()(this).closest("tr").removeClass("highlight")})),ps()(".hiddenFields").each((function(){ps()(this).attr("data")==e.data.id&&ps()(this).closest("tr").addClass("highlight")})),this.tripDate=e.data.date,this.tripUserEmail=e.data.userEmail,this.tripFrom=e.data.from,this.tripTo=e.data.to,this.tripFixedCosts=e.data.fixedCosts,this.tripCargoName=e.data.cargoName,this.tripDistance=e.data.distance,this.tripDistanceCosts=e.data.distanceCosts,this.tripVatPercentage=e.data.vatPercentage,this.tripSum=e.data.sum,this.tripSumVAT=e.data.sumVAT,this.tripCompanyName=e.data.companyName,this.tripComments=e.data.comments,this.tripCreated=e.data.created,this.tripUserFullName=e.data.userFullName,this.tripImages=e.data.files,this.openedcargoname=e.data.cargoName,this.getDocumentDetails(),""==this.tripImages?(this.picturesTabShow=!1,this.activeTab=0):this.picturesTabShow=!0)},openDialogAddPhoto(){this.displayUploadModal=!0},customUploader(e){var t=Date.now(),i=e.files[0];this.uploadImage(i,t+"_"+i.name)},async uploadImage(e,t){this.isLoading=!0;const i=this.$store.getters.token,a=localStorage.getItem("_rootRestUrl"),s=this.ClickedRowId;let l={headers:{"Content-Type":"multipart/form-data"}};var o=new FormData;o.append("Key",""),o.append("TripId",s),o.append("FileName",t),o.append("SessionId",i),o.append("File",e),await rs().post(a+"/api/v1/Trip/UploadTripFile/",o,l).then((()=>{this.displayInfoDialog=!0,this.InfoModalHeader="Info",this.InfoModalMessage="Photo is added",this.isLoading=!1,this.displayUploadModal=!1,this.getTrips()})).catch((function(e){"401"==e.response.status&&(localStorage.clear(),document.location="/"),this.displayInfoDialog=!0,this.InfoModalHeader="Alert!",this.InfoModalMessage="Error occured while uploading photo. Photo is not added!",this.isLoading=!1,this.displayUploadModal=!1,console.table(e),this.getTrips()})),this.$store.dispatch("autoLogin"),this.extendTime()},setInvoiceDateToday(){this.invoiceDate=ms()().format("DD/MM/YYYY HH:mm"),this.sendInvoiceDialog=!0},invoiceThisTrip(){var e=!0;""==this.invoiceDate?(this.invoiceDateOK=!1,e=!1):this.invoiceDateOK=!0,1==e&&this.markAsInvoicedInDatabase()},invoiceMultipleTrips(){var e=!0;""==this.invoiceDate?(this.invoiceDateOK=!1,e=!1):this.invoiceDateOK=!0,1==e&&this.markAsInvoicedMultipleInDatabase()},async markAsInvoicedInDatabase(){this.isLoading=!0;var e=this.format_date(ms()(this.invoiceDate,"DD/MM/YYYY HH:mm"),"YYYY-MM-DD HH:mm:ss");const t=this.$store.getters.token,i=localStorage.getItem("_rootRestUrl");let a=JSON.stringify({tripKey:this.ClickedRowId,sessionId:t,date:e,isInvoiceSent:!0}),s={headers:{"Content-Type":"application/json"}};await rs().post(i+"/api/v1/Trip/MarkInvoiceAsSent",a,s).then((()=>{this.getTrips(),this.getCompanies(),this.displayInfoDialog=!0,this.sendInvoiceDialog=!1,this.InfoModalHeader="Info",this.InfoModalMessage="Trip is marked as invoiced",this.isLoading=!1,this.checkedIDs=[],this.AllPageMarked=!1})).catch((function(e){"401"==e.response.status&&(localStorage.clear(),document.location="/"),console.table(e),this.sendInvoiceDialog=!1,this.InfoModalHeader="Error!",this.InfoModalMessage=e.response.data,this.infoDialogStyle=[{width:"40rem"}],this.displayInfoDialog=!0,this.isLoading=!1})),this.$store.dispatch("autoLogin"),this.extendTime()},async markAsInvoicedMultipleInDatabase(){this.isLoading=!0;var e=this.format_date(ms()(this.invoiceDate,"DD/MM/YYYY HH:mm"),"YYYY-MM-DD HH:mm:ss");const t=this.$store.getters.token,i=localStorage.getItem("_rootRestUrl");var a='{"sessionId": "'+t+'",';a+='     "invoices": [ ';var s=0,l=[];this.selectedIDsForInvoicing.forEach((t=>{l.push(t),s++,a+="{",a+='"tripKey": "'+t+'",',a+='"isInvoiceSent": true,',a+='"invoiceDate": "'+e+'"',a+="}",s<this.selectedIDsForInvoicing.length&&(a+=",")})),a+="  ]",a+="  }";let o=a,n={headers:{"Content-Type":"application/json"}};await rs().post(i+"/api/v1/Trip/MarkInvoicesAsSent",o,n).then((()=>{this.getTrips(),this.getCompanies(),this.displayInfoDialog=!0,this.sendMultipleInvoiceDialog=!1,this.showInvoiceSelectedButton=!1,this.InfoModalHeader="Info",this.InfoModalMessage="Trips are marked as invoiced",this.isLoading=!1,l.forEach((e=>{this.checkedIDs[e]=!1;const t=this.selectedIDsForInvoicing.indexOf(e);this.selectedIDsForInvoicing.splice(t,1)}))})).catch((function(e){console.table(e),this.sendInvoiceDialog=!1,this.InfoModalHeader="Error!",this.InfoModalMessage=e.response.data,this.infoDialogStyle=[{width:"40rem"}],this.displayInfoDialog=!0,this.isLoading=!1})),this.AllPageMarked=!1,this.AllMarked=!1,this.$store.dispatch("autoLogin"),this.extendTime()},async unInvoiceThisTrip(){this.isLoading=!0;const e=this.$store.getters.token,t=localStorage.getItem("_rootRestUrl");let i=JSON.stringify({tripKey:this.ClickedRowId,sessionId:e,date:"",isInvoiceSent:!1}),a={headers:{"Content-Type":"application/json"}};await rs().post(t+"/api/v1/Trip/MarkInvoiceAsSent",i,a).then((()=>{this.getTrips(),this.getCompanies(),this.editTripDialog=!1,this.displayInfoDialog=!0,this.displayUnInvoiceConfirm=!1,this.InfoModalHeader="Info",this.InfoModalMessage="Trip is marked as invoiced",this.isLoading=!1})).catch((function(e){"401"==e.response.status&&(localStorage.clear(),document.location="/"),console.table(e),this.displayUnInvoiceConfirm=!1,this.InfoModalHeader="Error!",this.InfoModalMessage=e.response.data,this.infoDialogStyle=[{width:"40rem"}],this.displayInfoDialog=!0,this.isLoading=!1})),this.$store.dispatch("autoLogin"),this.extendTime()},getDocumentDetails(){this.openPanel()},openPanel(){this.panelClass="openedPanel"},closePanel(){this.panelClass="closedPanel"},initFilters1(){this.filters1={global:{value:null,matchMode:cs.a6.CONTAINS},userFullName:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},from:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},to:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},companyName:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},cargoName:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},distance:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},sumVAT:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]},comments:{operator:cs.pg.AND,constraints:[{value:null,matchMode:cs.a6.CONTAINS}]}}},clearFilter1(){this.initFilters1()},getFiles(){},format_date(e,t){if(e)return ms()(String(e)).format(t)},showloader(e){this.isLoading=e},async downloadReport(){this.getTrips(),this.isLoading=!0,10!=this.fromDate.length&&(this.fromDate=this.format_date(this.fromDate,"DD/MM/YYYY")),10!=this.toDate.length&&(this.toDate=this.format_date(this.toDate,"DD/MM/YYYY"));const e=this.format_date_to_full(this.fromDate,"00:00:00"),t=this.format_date_to_full(this.toDate,"23:59:59"),i=this.$store.getters.token,a=e,s=t,l=localStorage.getItem("_rootRestUrl"),o="EN";let n=JSON.stringify({sessionId:i,DateFrom:a,DateTo:s,locale:o}),r={headers:{"Content-Type":"application/json"}};await rs().get(l+"/api/v1/Trip/CSV/Trips/?sessionId="+i+"&DateFrom="+a+"&DateTo="+s+"&locale="+o,n,r).then((e=>{this.downloadedReport=e.data;var t="Report "+this.format_date(a,"YYYY-MM-DD")+" - "+this.format_date(s,"YYYY-MM-DD");this.downloadCSV(this.downloadedReport,t)})).catch((function(e){this.isLoading=!1,"401"==e.response.status&&(localStorage.clear(),document.location="/")})),this.$store.dispatch("autoLogin"),this.extendTime()},correctData(){this.allTrips.forEach(((e,t)=>{const i=Object.entries(e);i.forEach((e=>{if("invSent"==e[0]){var i="";i=1==e[1]?"Yes":"No",this.allTrips[t]["invSent"]=i}}))}))},downloadCSV(e,t){const i=document.createElement("a");i.setAttribute("href",`data:text/csv;charset=utf-8,${e}`),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),this.isLoading=!1},formatMoney(e,t,i,a,s){t=isNaN(t=Math.abs(t))?2:t,i="undefined"===typeof i?".":i,a="undefined"===typeof a?",":a;var l=e<0?"-":"",o=String(parseInt(e=Math.abs(Number(e)||0).toFixed(t))),n=(n=o.length)>3?n%3:0;return s+" "+l+(n?o.substr(0,n)+a:"")+o.substr(n).replace(/(\decSep{3})(?=\decSep)/g,"$1"+a)+(t?i+Math.abs(e-o).toFixed(t).slice(2):"")},showContextMenu:function(e){if("ADMIN"==this.userType.toUpperCase()){e.preventDefault();var t=document.getElementById("div-context-menu");t.style.left=e.pageX+"px",t.style.top=e.pageY-50+"px",t.style.display="block",t.cid=e.target.id.replace(/title-/,"")}},hideContextMenu:function(){document.getElementById("div-context-menu").style.display="none"},onClick:function(){this.hideContextMenu()},async SelectAllPage(){var e="",t=[];this.selectedIDsForInvoicing=[],ps()(".p-checkbox").each((function(){var e=ps()(this).parent().attr("data");t.push(e)})),0==this.AllPageMarked?(e="mark",this.showInvoiceSelectedButton=!0):(e="unmark",this.showInvoiceSelectedButton=!1),"mark"==e?t.forEach((e=>{this.selectedIDsForInvoicing.push(e),this.checkedIDs[e]=!0,this.AllPageMarked=!0})):(this.checkedIDs=[],this.AllPageMarked=!1)},SelectAll(e){"select"==e?0==this.AllMarked?this.showInvoiceSelectedButton=!0:this.showInvoiceSelectedButton=!1:(this.selectedIDsForInvoicing=[],this.checkedIDs=[],this.AllMarked=!1,this.AllPageMarked=!1,this.showInvoiceSelectedButton=!1),this.selectedIDsForInvoicing=[],"select"==e&&(this.AllMarked=!0,this.allTrips.forEach((e=>{const t=Object.entries(e);var i="";t.forEach((e=>{"id"==e[0]&&(i=e[1]),"invSent"==e[0]&&"No"==e[1]&&(this.selectedIDsForInvoicing.push(i),this.checkedIDs[i]=!0)}))}))),this.selectedIDsForInvoicing.lenght>0&&(this.showInvoiceSelectedButton=!0)}},mounted(){var e=document.getElementById("app");e.addEventListener("click",this.onClick),void 0!=localStorage.getItem("fromDate")?this.fromDate=localStorage.getItem("fromDate"):this.fromDate=ms()().startOf("isoWeek").format("DD/MM/YYYY"),void 0!=localStorage.getItem("toDate")?this.toDate=localStorage.getItem("toDate"):this.toDate=ms()().endOf("isoWeek").format("DD/MM/YYYY"),this.$emit("showSearchbar",!0),null!=this.$store.getters.getUserType&&null!=this.$store.getters.getUserLocale||(localStorage.clear(),document.location="/"),this.getTrips(),this.getCompanies(),this.moveSearchBoxToTop(),null!=this.$store.getters.getUserType?this.userType=this.$store.getters.getUserType.toUpperCase():this.userType="USER",null!=this.$store.getters.getUserLocale?this.userLocale=this.$store.getters.getUserLocale.toUpperCase():this.userLocale="EN",ps()("#editIconsPanel").detach().appendTo(".p-tabview-nav-content")},created(){this.aSystemDoc=localStorage.getItem("docType"),this.initFilters1(),this.loading1=!1}},gs=i(89);const fs=(0,gs.Z)(us,[["render",Gi]]);var vs=fs}}]);
//# sourceMappingURL=252.ac025f96.js.map