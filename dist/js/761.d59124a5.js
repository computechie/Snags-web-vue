(self["webpackChunkSnags"]=self["webpackChunkSnags"]||[]).push([[761],{2587:function(t,s,e){var i;e(3266),e(1337),e(7036),e(4517),e(1794),e(1319),
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.10.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */
function(){"use strict";var s="input is invalid type",r="object"===typeof window,a=r?window:{};a.JS_SHA256_NO_WINDOW&&(r=!1);var h=!r&&"object"===typeof self,o=!a.JS_SHA256_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;o?a=e.g:h&&(a=self);var n=!a.JS_SHA256_NO_COMMON_JS&&t.exports,l=e.amdO,d=!a.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,c="0123456789abcdef".split(""),f=[-2147483648,8388608,32768,128],u=[24,16,8,0],p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],w=["hex","array","digest","arrayBuffer"],y=[];!a.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!d||!a.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var g=function(t,s){return function(e){return new A(s,!0).update(e)[t]()}},b=function(t){var s=g("hex",t);o&&(s=k(s,t)),s.create=function(){return new A(t)},s.update=function(t){return s.create().update(t)};for(var e=0;e<w.length;++e){var i=w[e];s[i]=g(i,t)}return s},k=function(t,i){var r,h=e(4394),o=e(1903).Buffer,n=i?"sha224":"sha256";r=o.from&&!a.JS_SHA256_NO_BUFFER_FROM?o.from:function(t){return new o(t)};var l=function(e){if("string"===typeof e)return h.createHash(n).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error(s);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===o?h.createHash(n).update(r(e)).digest("hex"):t(e)};return l},v=function(t,s){return function(e,i){return new _(e,s,!0).update(i)[t]()}},m=function(t){var s=v("hex",t);s.create=function(s){return new _(s,t)},s.update=function(t,e){return s.create(t).update(e)};for(var e=0;e<w.length;++e){var i=w[e];s[i]=v(i,t)}return s};function A(t,s){s?(y[0]=y[16]=y[1]=y[2]=y[3]=y[4]=y[5]=y[6]=y[7]=y[8]=y[9]=y[10]=y[11]=y[12]=y[13]=y[14]=y[15]=0,this.blocks=y):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function _(t,e,i){var r,a=typeof t;if("string"===a){var h,o=[],n=t.length,l=0;for(r=0;r<n;++r)h=t.charCodeAt(r),h<128?o[l++]=h:h<2048?(o[l++]=192|h>>6,o[l++]=128|63&h):h<55296||h>=57344?(o[l++]=224|h>>12,o[l++]=128|h>>6&63,o[l++]=128|63&h):(h=65536+((1023&h)<<10|1023&t.charCodeAt(++r)),o[l++]=240|h>>18,o[l++]=128|h>>12&63,o[l++]=128|h>>6&63,o[l++]=128|63&h);t=o}else{if("object"!==a)throw new Error(s);if(null===t)throw new Error(s);if(d&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!d||!ArrayBuffer.isView(t)))throw new Error(s)}t.length>64&&(t=new A(e,!0).update(t).array());var c=[],f=[];for(r=0;r<64;++r){var u=t[r]||0;c[r]=92^u,f[r]=54^u}A.call(this,e,i),this.update(f),this.oKeyPad=c,this.inner=!0,this.sharedMemory=i}A.prototype.update=function(t){if(!this.finalized){var e,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(s);if(null===t)throw new Error(s);if(d&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!d||!ArrayBuffer.isView(t)))throw new Error(s);e=!0}var r,a,h=0,o=t.length,n=this.blocks;while(h<o){if(this.hashed&&(this.hashed=!1,n[0]=this.block,n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),e)for(a=this.start;h<o&&a<64;++h)n[a>>2]|=t[h]<<u[3&a++];else for(a=this.start;h<o&&a<64;++h)r=t.charCodeAt(h),r<128?n[a>>2]|=r<<u[3&a++]:r<2048?(n[a>>2]|=(192|r>>6)<<u[3&a++],n[a>>2]|=(128|63&r)<<u[3&a++]):r<55296||r>=57344?(n[a>>2]|=(224|r>>12)<<u[3&a++],n[a>>2]|=(128|r>>6&63)<<u[3&a++],n[a>>2]|=(128|63&r)<<u[3&a++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++h)),n[a>>2]|=(240|r>>18)<<u[3&a++],n[a>>2]|=(128|r>>12&63)<<u[3&a++],n[a>>2]|=(128|r>>6&63)<<u[3&a++],n[a>>2]|=(128|63&r)<<u[3&a++]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=n[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},A.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,s=this.lastByteIndex;t[16]=this.block,t[s>>2]|=f[3&s],this.block=t[16],s>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},A.prototype.hash=function(){var t,s,e,i,r,a,h,o,n,l,d,c=this.h0,f=this.h1,u=this.h2,w=this.h3,y=this.h4,g=this.h5,b=this.h6,k=this.h7,v=this.blocks;for(t=16;t<64;++t)r=v[t-15],s=(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3,r=v[t-2],e=(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,v[t]=v[t-16]+s+v[t-7]+e|0;for(d=f&u,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,r=v[0]-1413257819,k=r-150054599|0,w=r+24177077|0):(o=704751109,r=v[0]-210244248,k=r-1521486534|0,w=r+143694565|0),this.first=!1):(s=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),e=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),o=c&f,i=o^c&u^d,h=y&g^~y&b,r=k+e+h+p[t]+v[t],a=s+i,k=w+r|0,w=r+a|0),s=(w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),e=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7),n=w&c,i=n^w&f^o,h=k&y^~k&g,r=b+e+h+p[t+1]+v[t+1],a=s+i,b=u+r|0,u=r+a|0,s=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),e=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),l=u&w,i=l^u&c^n,h=b&k^~b&y,r=g+e+h+p[t+2]+v[t+2],a=s+i,g=f+r|0,f=r+a|0,s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),e=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),d=f&u,i=d^f&w^l,h=g&b^~g&k,r=y+e+h+p[t+3]+v[t+3],a=s+i,y=c+r|0,c=r+a|0,this.chromeBugWorkAround=!0;this.h0=this.h0+c|0,this.h1=this.h1+f|0,this.h2=this.h2+u|0,this.h3=this.h3+w|0,this.h4=this.h4+y|0,this.h5=this.h5+g|0,this.h6=this.h6+b|0,this.h7=this.h7+k|0},A.prototype.hex=function(){this.finalize();var t=this.h0,s=this.h1,e=this.h2,i=this.h3,r=this.h4,a=this.h5,h=this.h6,o=this.h7,n=c[t>>28&15]+c[t>>24&15]+c[t>>20&15]+c[t>>16&15]+c[t>>12&15]+c[t>>8&15]+c[t>>4&15]+c[15&t]+c[s>>28&15]+c[s>>24&15]+c[s>>20&15]+c[s>>16&15]+c[s>>12&15]+c[s>>8&15]+c[s>>4&15]+c[15&s]+c[e>>28&15]+c[e>>24&15]+c[e>>20&15]+c[e>>16&15]+c[e>>12&15]+c[e>>8&15]+c[e>>4&15]+c[15&e]+c[i>>28&15]+c[i>>24&15]+c[i>>20&15]+c[i>>16&15]+c[i>>12&15]+c[i>>8&15]+c[i>>4&15]+c[15&i]+c[r>>28&15]+c[r>>24&15]+c[r>>20&15]+c[r>>16&15]+c[r>>12&15]+c[r>>8&15]+c[r>>4&15]+c[15&r]+c[a>>28&15]+c[a>>24&15]+c[a>>20&15]+c[a>>16&15]+c[a>>12&15]+c[a>>8&15]+c[a>>4&15]+c[15&a]+c[h>>28&15]+c[h>>24&15]+c[h>>20&15]+c[h>>16&15]+c[h>>12&15]+c[h>>8&15]+c[h>>4&15]+c[15&h];return this.is224||(n+=c[o>>28&15]+c[o>>24&15]+c[o>>20&15]+c[o>>16&15]+c[o>>12&15]+c[o>>8&15]+c[o>>4&15]+c[15&o]),n},A.prototype.toString=A.prototype.hex,A.prototype.digest=function(){this.finalize();var t=this.h0,s=this.h1,e=this.h2,i=this.h3,r=this.h4,a=this.h5,h=this.h6,o=this.h7,n=[t>>24&255,t>>16&255,t>>8&255,255&t,s>>24&255,s>>16&255,s>>8&255,255&s,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a,h>>24&255,h>>16&255,h>>8&255,255&h];return this.is224||n.push(o>>24&255,o>>16&255,o>>8&255,255&o),n},A.prototype.array=A.prototype.digest,A.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),s=new DataView(t);return s.setUint32(0,this.h0),s.setUint32(4,this.h1),s.setUint32(8,this.h2),s.setUint32(12,this.h3),s.setUint32(16,this.h4),s.setUint32(20,this.h5),s.setUint32(24,this.h6),this.is224||s.setUint32(28,this.h7),t},_.prototype=new A,_.prototype.finalize=function(){if(A.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();A.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),A.prototype.finalize.call(this)}};var O=b();O.sha256=O,O.sha224=b(!0),O.sha256.hmac=m(),O.sha224.hmac=m(!0),n?t.exports=O:(a.sha256=O.sha256,a.sha224=O.sha224,l&&(i=function(){return O}.call(O,e,O,t),void 0===i||(t.exports=i)))}()},6761:function(t,s,e){"use strict";e.r(s),e.d(s,{default:function(){return C}});var i=e(6768),r=e(4232);const a={class:"container"},h={class:"row"},o=(0,i.Lk)("div",{class:"col-md-12 text-center gap-2 gaptop-2"},[(0,i.Lk)("h4",null,"Reset password")],-1),n={class:"col-md-12 text-center gap-2"},l={class:"flex flex-column gap-2"},d=(0,i.Lk)("label",{for:"password"},"Enter new password",-1),c=(0,i.eW)("This field is required"),f=(0,i.eW)("Passwords do NOT match!"),u={class:"col-md-12 text-center gap-2"},p={class:"flex flex-column gap-2"},w=(0,i.Lk)("label",{for:"password"},"Repeat password",-1),y=(0,i.eW)("This field is required"),g=(0,i.eW)("Passwords do NOT match!"),b={class:"col-md-12 text-center gap-2"},k=(0,i.Lk)("div",{class:"col-md-12 text-center gap-2"},[(0,i.Lk)("p",null,[(0,i.Lk)("a",{href:"/"},"back to home page")])],-1),v=(0,i.Lk)("span",{class:"font-bold text-2xl block mb-2 mt-4"},null,-1),m={class:"mb-0"},A={class:"flex text-end mt-4"};function _(t,s,e,_,O,P){const x=(0,i.g2)("base-spinner"),S=(0,i.g2)("base-dialog"),I=(0,i.g2)("top-bar"),L=(0,i.g2)("InputText"),B=(0,i.g2)("InlineMessage"),M=(0,i.g2)("Button"),R=(0,i.g2)("Dialog");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(S,{show:O.isLoading,title:"Authenticating...",fixed:""},{default:(0,i.k6)((()=>[(0,i.bF)(x)])),_:1},8,["show"]),(0,i.bF)(I,{onEmitSearch:t.emitedSearch,"show-search":t.showSearch,"menu-icon":t.iconCloseOpen2,"background-style":"rgb(255,255,255,0.6)","title-color":"black","title-text":t.MainTitleText},null,8,["onEmitSearch","show-search","menu-icon","title-text"]),(0,i.Lk)("div",a,[(0,i.Lk)("div",h,[o,(0,i.Lk)("div",n,[(0,i.Lk)("div",l,[d,(0,i.bF)(L,{type:"password",onInput:P.typing,modelValue:O.newPassword,"onUpdate:modelValue":s[0]||(s[0]=t=>O.newPassword=t),style:{"min-width":"300px"}},null,8,["onInput","modelValue"]),(0,i.Lk)("p",null,[O.newPasswordOK?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(B,{key:0},{default:(0,i.k6)((()=>[c])),_:1})),O.passwordsMatchOK?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(B,{key:1},{default:(0,i.k6)((()=>[f])),_:1}))])])]),(0,i.Lk)("div",u,[(0,i.Lk)("div",p,[w,(0,i.bF)(L,{type:"password",onInput:P.typing,modelValue:O.newPasswordRepeat,"onUpdate:modelValue":s[1]||(s[1]=t=>O.newPasswordRepeat=t),style:{"min-width":"300px"}},null,8,["onInput","modelValue"]),(0,i.Lk)("p",null,[O.newPasswordRepeatOK?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(B,{key:0},{default:(0,i.k6)((()=>[y])),_:1})),O.passwordsMatchOK?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(B,{key:1},{default:(0,i.k6)((()=>[g])),_:1}))])])]),(0,i.Lk)("div",b,[(0,i.Lk)("p",null,[(0,i.bF)(M,{label:"Set new password",onClick:P.changePassword},null,8,["onClick"])])]),k])]),(0,i.bF)(R,{visible:O.displayInfoDialog,"onUpdate:visible":s[2]||(s[2]=t=>O.displayInfoDialog=t),modal:"",style:(0,r.Tr)(t.infoDialogStyle),breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,i.k6)((()=>[(0,i.Lk)("h4",null,(0,r.v_)(t.InfoModalHeader),1)])),default:(0,i.k6)((()=>[v,(0,i.Lk)("p",m,(0,r.v_)(t.InfoModalMessage),1),(0,i.Lk)("div",A,[(0,i.bF)(M,{label:"Ok",onClick:P.messageClose},null,8,["onClick"])])])),_:1},8,["visible","style"])],64)}var O=e(2161),P=e(5171),x=e(1393),S=e(7487),I=e(8355),L=e(2587),B=e.n(L),M={props:["resetKey"],components:{InputText:O.A,Button:P.A,Dialog:S.A,InlineMessage:x.A},data(){return{isLoading:!1,displayInfoDialog:!1,newPasswordOK:!0,newPasswordRepeatOK:!0,passwordsMatchOK:!0,newPassword:"",newPasswordRepeat:"",passwordChangedOk:!1}},methods:{typing(){this.newPasswordOK=!0,this.newPasswordRepeatOK=!0,this.passwordsMatchOK=!0},messageClose(){this.displayInfoDialog=!1,this.passwordChangedOk&&this.$router.replace("/")},changePassword(){var t=!0;if(""==this.newPassword?(this.newPasswordOK=!1,t=!1):this.newPasswordOK=!0,""==this.newPasswordRepeat?(this.newPasswordRepeatOK=!1,t=!1):this.newPasswordRepeatOK=!0,""!=this.newPassword&&""!=this.newPasswordRepeat&&this.newPassword!=this.newPasswordRepeat&&(this.passwordsMatchOK=!1,t=!1),1==t)if(1==this.checkPasswordSecurity(this.newPassword))this.changePasswordinDatabase();else{const t="The password must contain one lower case, one upper case, one number and one symbol, and be at least made of 8 symbols!";this.InfoModalHeader="Error!",this.InfoModalMessage=t,this.infoDialogStyle=[{width:"40rem"}],this.displayInfoDialog=!0}},checkPasswordSecurity(t){var s=/^.*(?=.{8,20})(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&!-_/*.,:;"'<>]).*$/;return!!s.test(t)},async changePasswordinDatabase(){this.isLoading=!0;var t=B()(this.newPassword);const s=localStorage.getItem("_rootRestUrl");let e=JSON.stringify({code:this.resetKey,password:t}),i={headers:{"Content-Type":"application/json"}};await I.A.post(s+"/api/v1/User/ResetPassword/",e,i).then((()=>{this.InfoModalHeader="Info",this.InfoModalMessage="Password is changed. You can now login to app using your new password",this.infoDialogStyle=[{width:"40rem"}],this.displayInfoDialog=!0,this.passwordChangedOk=!0,this.isLoading=!1})).catch((t=>{console.table(t),t.response&&(this.InfoModalHeader="Error!",this.InfoModalMessage=t.response.data,this.infoDialogStyle=[{width:"40rem"}],this.displayInfoDialog=!0),this.isLoading=!1}))}},mounted(){}},R=e(1241);const K=(0,R.A)(M,[["render",_]]);var C=K},1903:function(){},4394:function(){}}]);
//# sourceMappingURL=761.d59124a5.js.map