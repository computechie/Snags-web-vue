(function(){var e={2021:function(e,t,o){"use strict";var s=o(3396),i=o(9242),r=o(2483),a=o(6265),n=o.n(a),l=o(7139);function d(e,t,o,i,r,a){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("div",{class:"container-fluid",style:(0,l.j5)({padding:`${this.padding0}`})},[(0,s.Wm)(n)],4)])}var c={data(){return{defaultLoginBackground:"images/login-background.jpg",mainAppTitle:"Transport",whenSessionExpired:"tomorrow",showMenu:!1,linkToHelpFile:"",padding0:"0px",dividerPosition:200,contentWidth:window.innerWidth-200,isActive:!0,isCentered:!1,iconCloseOpen:"&times;"}},methods:{handleDragging(e){const t=e.pageX/window.innerWidth*100;e.pageX+1>38&&t<=30&&(this.dividerPosition=t/100*window.innerWidth,this.contentWidth=window.innerWidth-this.dividerPosition),e.pageX<150?(this.isActive=!1,this.iconCloseOpen="&#9776;",this.isCentered=!0):(this.isActive=!0,this.iconCloseOpen="&times;",this.isCentered=!1)},startDragging(){document.addEventListener("mousemove",this.handleDragging)},endDragging(){document.removeEventListener("mousemove",this.handleDragging)},displayMenuToggle(){this.showMenu=!0,this.padding0="12px",this.dividerPosition=200,this.contentWidth=window.innerWidth-200},setToFullScreenWidth(){this.contentWidth=window.innerWidth,this.padding0="0px"},getDimensions(){window.innerWidth>750?(this.dividerPosition=200,this.contentWidth=window.innerWidth-this.dividerPosition,this.isActive=!0,this.iconCloseOpen="&times;",this.isCentered=!1):(this.dividerPosition=38,this.isActive=!1,this.iconCloseOpen="&#9776;",this.isCentered=!0)},sidebarColapse(){this.isActive=!this.isActive,this.isCentered=!this.isActive,this.dividerPosition>38?(this.dividerPosition=38,this.contentWidth=window.innerWidth-this.dividerPosition,this.iconCloseOpen="&#9776;"):(this.dividerPosition=200,this.contentWidth=window.innerWidth-this.dividerPosition,this.iconCloseOpen="&times;")},manualLogout(){this.$store.dispatch("logout"),this.showMenu=!1,this.$router.replace("/")}},mounted(){window.addEventListener("resize",this.getDimensions)},unmounted(){window.removeEventListener("resize",this.getDimensions)},created(){this.$store.dispatch("autoLogin"),window.innerWidth<750&&(this.dividerPosition=38),window.innerWidth<750?(this.isActive=!1,this.iconCloseOpen="&#9776;",this.isCentered=!0):(this.isActive=!0,this.iconCloseOpen="&times;",this.isCentered=!1)},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated},userFullname(){return this.$store.getters.getUserFullName},didAutoLogout(){return this.$store.getters.didAutoLogout}},watch:{didAutoLogout(e,t){e&&e!==t&&(this.showMenu=!1,this.$router.replace("/"))}}},u=o(89);const m=(0,u.Z)(c,[["render",d]]);var h=m,p=o(1373),g=o(7729);const w={class:"container-fluid versionInfoHolder"},f={class:"row gy-3 justify-content-between"},b={class:"col-12 col-sm-5 col-lg-4 col-xl-3 order-2 order-sm-1"},v={class:"col-12 col-sm-5 col-lg-4 col-xl-3 order-1 order-sm-2 text-center"},y={class:"modal fade",id:"loginModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"loginModalLabel","aria-hidden":"true"},k={class:"modal-dialog"},_={class:"modal-content"},I=(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",{class:"modal-title",id:"loginModalLabel"},"User sign in"),(0,s._)("button",{type:"button",id:"closeLoginModal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),C={class:"modal-body"},S={class:"mb-3"},A=(0,s._)("label",{for:"Inputusername",class:"form-label"},"Username",-1),D={key:0,class:"alert alert-danger alert-sm"},M={class:"mb-3"},P=(0,s._)("label",{for:"InputPassword",class:"form-label"},"Password",-1),T={key:0,class:"alert alert-danger alert-sm"},L={class:"mb-3 form-check"},x=(0,s._)("label",{class:"form-check-label",for:"Check1"},"Remember me",-1),j=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Login",-1),U=(0,s._)("div",{class:"modal-footer"},[(0,s._)("a",{href:"/forgotPassword"},"Forgot password?")],-1);function W(e,t,o,r,a,n){const d=(0,s.up)("base-dialog"),c=(0,s.up)("base-spinner"),u=(0,s.up)("top-bar"),m=(0,s.up)("version-info"),h=(0,s.up)("contact-info"),p=(0,s.up)("Checkbox");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(d,{show:!!a.error,title:"Error"},null,8,["show"]),(0,s.Wm)(d,{show:a.isLoading,title:"Authenticating...",fixed:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c)])),_:1},8,["show"]),(0,s.Wm)(u,{"show-search":a.showSearch,"title-color":"white","title-text":a.MainTitleText},null,8,["show-search","title-text"]),(0,s._)("div",{class:"containerfluid loginPageBackground",style:(0,l.j5)({backgroundImage:`url(${e._rootLoginBackground})`})},[(0,s._)("div",w,[(0,s._)("div",f,[(0,s._)("div",b,[(0,s.Wm)(m)]),(0,s._)("div",v,[(0,s.Wm)(h)])])])],4),(0,s._)("div",y,[(0,s._)("div",k,[(0,s._)("div",_,[I,(0,s._)("div",C,[(0,s._)("form",{onSubmit:t[5]||(t[5]=(0,i.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[(0,s._)("div",S,[A,(0,s.wy)((0,s._)("input",{type:"username","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),onKeyup:t[1]||(t[1]=(...e)=>n.usernameKeyDown&&n.usernameKeyDown(...e)),class:"form-control",id:"Inputusername","aria-describedby":"usernameHelp"},null,544),[[i.nr,a.username]]),a.showUsernameAlert?((0,s.wg)(),(0,s.iD)("div",D,(0,l.zw)(e.usernameMessage),1)):(0,s.kq)("",!0)]),(0,s._)("div",M,[P,(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>a.password=e),onKeyup:t[3]||(t[3]=(...e)=>n.passwordKeyDown&&n.passwordKeyDown(...e)),class:"form-control",id:"InputPassword"},null,544),[[i.nr,a.password]]),a.showPasswordAlert?((0,s.wg)(),(0,s.iD)("div",T,(0,l.zw)(e.passwordMessage),1)):(0,s.kq)("",!0)]),(0,s._)("div",L,[(0,s.Wm)(p,{inputId:"Check1",modelValue:a.rememberMeCheckBox,"onUpdate:modelValue":t[4]||(t[4]=e=>a.rememberMeCheckBox=e),binary:!0},null,8,["modelValue"]),x]),j],32)]),U])])])],64)}var z=o(7387),B=o.n(z),E=o(3602),F=o(8082),O=o.n(F),$={components:{Checkbox:E.Z},data(){return{cryptKey:"SDJFBOUdD45465fWQFGfZ3EdsVP4Idf9dfUBGdfUsBEDSFsUBG",showSearch:!1,MainTitleText:this._rootAppTitle,TopBackgroundStyle:"blue",settings:[],username:"",password:"",showUsernameAlert:!1,showPasswordAlert:!1,formIsValid:!0,isLoading:!1,error:null,rememberMe:"",rememberMeCheckBox:!1,token:""}},methods:{usernameKeyDown(){this.showUsernameAlert=!1,0==this.username.length&&(this.showUsernameAlert=!0,this.formIsValid=!1,this.usernameMessage="Please enter username")},passwordKeyDown(){this.showPasswordAlert=!1},closeModal(e){document.getElementById(e).click()},async submitForm(){if(this.showUsernameAlert=!1,this.showPasswordAlert=!1,this.formIsValid=!0,this.usernameMessage="",this.passwordMessage="",""===this.username&&(this.showUsernameAlert=!0,this.formIsValid=!1,this.usernameMessage="Please enter username"),this.password.length<4&&(this.showPasswordAlert=!0,this.formIsValid=!1,this.passwordMessage="Password is too short"),""===this.password&&(this.showPasswordAlert=!0,this.formIsValid=!1,this.passwordMessage="Please enter password"),this.formIsValid){this.isLoading=!0,this.closeModal("closeLoginModal");try{await this.$store.dispatch("login",{username:this.username,password:this.password}),1==this.rememberMeCheckBox?(this._rememberMe=this.username,localStorage.setItem("rememberMe",this.username),localStorage.setItem("rememberMePass",O().AES.encrypt(this.password,this.cryptKey).toString())):(this._rememberMe="",localStorage.removeItem("rememberMe"),localStorage.removeItem("rememberMePass")),this.isLoading=!1,this.closeModal("closeLoginModal"),this.$router.replace("/pages/trips/")}catch(e){this.closeModal("closeLoginModal"),this.error=e.message||"Failed to authenticate.",alert(this.error),this.error=null,this.isLoading=!1}this.isLoading=!1}}},emits:["set-fullscreenwidth"],mounted(){if(localStorage.setItem("_rootRestUrl",this._rootRestUrl),this.showSearch=!1,this.$store.getters.isAuthenticated&&this.$router.replace("/pages/projectList"),this.$emit("set-fullscreenwidth"),null!=localStorage.getItem("rememberMe")?(this._rememberMe=localStorage.getItem("rememberMe"),this.rememberMeCheckBox=!0,this.username=this._rememberMe):(this._rememberMe="",this.rememberMeCheckBox=!1),null!=localStorage.getItem("rememberMePass")){const e=O().AES.decrypt(localStorage.getItem("rememberMePass"),this.cryptKey),t=e.toString(O().enc.Utf8);this.password=t}"null"==this.username&&(this.username=""),this.rememberMeCheckBox?B()("#Check1").attr("checked","checked"):B()("#Check1").removeAttr("checked")}};const q=(0,u.Z)($,[["render",W]]);var K=q;const H={class:"container-fluid",style:{position:"relative"}},R={class:"row align-items-center topLoginBarRow"},N={key:0,class:"col-9 col-md-4"},V=["src"],Z={key:1,class:"col-9 col-md-4",style:{"padding-left":"0"}},Y=["innerHTML"],G=["src"],J={key:2,class:"d-none d-md-block col-md-4 text-center"},X={key:3,class:"col-md-4 text-center"},Q=(0,s._)("div",{id:"hereMoveSearch"},"s",-1),ee=(0,s._)("div",{id:"hereMoveMainProjectTitle"},null,-1),te={key:4,class:"col-3 col-md-4 text-end"},oe=(0,s._)("a",{href:"javascript:;",class:"signInHref","data-bs-toggle":"modal","data-bs-target":"#loginModal"},[(0,s._)("span",{class:""},[(0,s.Uk)(" Sign in "),(0,s._)("i",{class:"fa-solid fa-user",style:{"margin-left":"6px"}})])],-1),se=[oe],ie={key:5,class:"col-md-4 text-end"},re={style:{}},ae={class:"text-in-circle-icon"},ne={class:"text-in-circle"},le={class:"dropdown topUserDropdownMenu"},de={class:"text-center dropdown-toggle","data-bs-toggle":"dropdown",title:"User setting"},ce={class:"dropdown-menu w300 dropdown-menu-right","aria-labelledby":"dropdownMenuLink"},ue={class:"row align-items-center",style:{margin:"0 !important"}},me={class:"col-2 text-center"},he={class:"big-box"},pe={class:"text-in-circle"},ge={class:"text-center"},we={class:"col-10"},fe={class:"row"},be={class:"col-12"},ve=(0,s._)("div",{class:"col-12"},null,-1),ye=(0,s._)("hr",null,null,-1),ke=(0,s._)("a",{class:"dropdown-item",href:"",target:"_blank"},[(0,s._)("i",{class:"fa-solid fa-lock blueIcons"}),(0,s.Uk)(" Change password")],-1),_e=(0,s._)("hr",null,null,-1),Ie=(0,s._)("i",{class:"fa-solid fa-arrow-right-from-bracket blueIcons"},null,-1),Ce=(0,s.Uk)(" Sign out"),Se=[Ie,Ce],Ae=(0,s._)("hr",null,null,-1),De=["href"],Me=(0,s._)("i",{class:"icon-book blueIcons"},null,-1),Pe=(0,s.Uk)(" Update history"),Te=[Me,Pe],Le=(0,s._)("a",{class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#aboutModal",href:"",target:"_blank"},[(0,s._)("i",{class:"icon-info blueIcons"}),(0,s.Uk)(" About")],-1),xe={class:"modal fade",id:"aboutModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"loginModalLabel","aria-hidden":"true"},je={class:"modal-dialog"},Ue={class:"modal-content"},We=(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",{class:"modal-title",id:"loginModalLabel"},"About"),(0,s._)("button",{type:"button",id:"closeaboutModal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ze={class:"modal-body"},Be=(0,s.Uk)(" Application: "),Ee=(0,s.Uk)(" Version: ");function Fe(e,t,o,i,r,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{class:"topLoginBar",as:"as",style:(0,l.j5)({background:`${o.backgroundStyle}`})},[(0,s._)("div",H,[(0,s._)("div",R,[this.$store.getters.isAuthenticated?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",N,[(0,s._)("img",{src:e._rootLoginLogoWhite,class:"imf-fluid"},null,8,V)])),this.$store.getters.isAuthenticated?((0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("button",{type:"button",class:"sidebarCollapseBtn",onClick:t[0]||(t[0]=e=>a.openCloseMenu()),innerHTML:o.menuIcon},null,8,Y),(0,s._)("img",{src:e._rootLoginLogo,style:{"margin-bottom":"8px","margin-left":"13px","max-width":"calc(100% - 70px)"}},null,8,G)])):(0,s.kq)("",!0),this.$store.getters.isAuthenticated?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",J,[o.showSearch?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",{key:0,id:"mainAppTitle",style:(0,l.j5)({color:`${o.titleColor}`})},(0,l.zw)(o.titleText),5))])),this.$store.getters.isAuthenticated?((0,s.wg)(),(0,s.iD)("div",X,[o.showSearch?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",{key:0,id:"mainAppTitle",style:(0,l.j5)({color:`${o.titleColor}`})},(0,l.zw)(o.titleText),5)),Q,ee])):(0,s.kq)("",!0),this.$store.getters.isAuthenticated?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",te,se)),this.$store.getters.isAuthenticated?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",re,[(0,s._)("div",ae,[(0,s._)("p",{class:"text-center",onClick:t[1]||(t[1]=(...e)=>a.clickOnHelp&&a.clickOnHelp(...e)),title:"Read help file"}," ? ")]),(0,s._)("div",ne,[(0,s._)("div",le,[(0,s._)("p",de,(0,l.zw)(a.userInitials()),1),(0,s._)("div",ce,[(0,s._)("div",ue,[(0,s._)("div",me,[(0,s._)("div",he,[(0,s._)("div",pe,[(0,s._)("p",ge,(0,l.zw)(a.userInitials()),1)])])]),(0,s._)("div",we,[(0,s._)("div",fe,[(0,s._)("div",be,[(0,s._)("strong",null,(0,l.zw)(this.$store.getters.getUserFullName),1)]),ve])])]),ye,ke,_e,(0,s._)("a",{class:"dropdown-item",href:"",onClick:t[2]||(t[2]=(...e)=>a.signoutClick&&a.signoutClick(...e))},Se),Ae,(0,s._)("a",{class:"dropdown-item",href:e._rootLinkToUpdateHistory,target:"_blank"},Te,8,De),Le])])])])])):(0,s.kq)("",!0)])])],4),(0,s._)("div",xe,[(0,s._)("div",je,[(0,s._)("div",Ue,[We,(0,s._)("div",ze,[(0,s._)("p",null,[Be,(0,s._)("strong",null,(0,l.zw)(e._rootAppTitle),1)]),(0,s._)("p",null,[Ee,(0,s._)("strong",null,(0,l.zw)(e._rootVersion),1)])])])])])],64)}var Oe={props:["backgroundStyle","titleColor","titleText","menuIcon","showSearch","emitSearch"],data(){return{}},mounted(){},methods:{userInitials(){const e=this.$store.getters.getUserFullName;return e.match(/(\b\S)?/g).join("").match(/(^\S|\S$)?/g).join("").toUpperCase()},clickOnHelp(){window.open(this._rootlinkToHelpFile,"_blank")},signoutClick(){this.$store.dispatch("logout")},openCloseMenu(){this.$parent.sidebarColapse()}},emits:["showSearchbar","emitSearch"]};const $e=(0,u.Z)(Oe,[["render",Fe]]);var qe=$e;const Ke=(0,s._)("hr",{class:"darkLine"},null,-1),He=(0,s._)("hr",{class:"darkLine"},null,-1),Re=(0,s._)("hr",{class:"darkLine"},null,-1);function Ne(e,t,o,i,r,a){const n=(0,s.up)("menu-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Ke,(0,s.Wm)(n,{atitle:"Dashboard",link:"/pages/project/CDE/"+e.selectedProjectKey,icon:"fa-solid fa-chart-line",iconsize:"17",isActive:o.isActive},null,8,["link","isActive"]),(0,s.Wm)(n,{atitle:"To Do",badge:r.todoBadge,link:"/pages/projects/CDE/todo/"+e.selectedProjectKey,icon:"fa-solid fa-briefcase",iconsize:"17",isActive:o.isActive},null,8,["badge","link","isActive"]),He,(0,s.Wm)(n,{atitle:"Files",link:"/pages/projects/CDE/files/"+e.selectedProjectKey,icon:"fa-regular fa-file",onClick:t[0]||(t[0]=e=>a.setDocType("files")),iconsize:"19",isActive:o.isActive},null,8,["link","isActive"]),(0,s.Wm)(n,{atitle:"Drawings submittals",link:"/pages/projects/CDE/drawings/"+e.selectedProjectKey,icon:"fa-regular fa-file-image",onClick:t[1]||(t[1]=e=>a.setDocType("drawings")),iconsize:"19",isActive:o.isActive},null,8,["link","isActive"]),(0,s.Wm)(n,{atitle:"Technical submittals",link:"/pages/projects/CDE/technical/"+e.selectedProjectKey,icon:"fa-regular fa-file-lines",onClick:t[2]||(t[2]=e=>a.setDocType("techical")),iconsize:"19",isActive:o.isActive},null,8,["link","isActive"]),(0,s.Wm)(n,{atitle:"RFI",link:"/pages/projects/CDE/rfi/"+e.selectedProjectKey,icon:"fa-solid fa-file-circle-question",onClick:t[3]||(t[3]=e=>a.setDocType("rfi")),iconsize:"19",isActive:o.isActive},null,8,["link","isActive"]),Re,(0,s.Wm)(n,{atitle:"Share",link:"/pages/projects/CDE/share/"+e.selectedProjectKey,icon:"fa-solid fa-share-nodes",iconsize:"17",isActive:o.isActive},null,8,["link","isActive"]),(0,s.Wm)(n,{atitle:"Messages",messagesBadge:r.messagesBadge,link:"/pages/projects/CDE/messages/"+e.selectedProjectKey,icon:"fa-solid fa-message",iconsize:"17",isActive:o.isActive},null,8,["messagesBadge","link","isActive"]),(0,s.Wm)(n,{atitle:"Groups",link:"/pages/projects/CDE/groups/"+e.selectedProjectKey,icon:"fa-solid fa-people-group",iconsize:"17",isActive:o.isActive},null,8,["link","isActive"]),(0,s.Wm)(n,{atitle:"Download",link:"/pages/projects/CDE/download/"+e.selectedProjectKey,icon:"fa-solid fa-download",iconsize:"17",isActive:o.isActive},null,8,["link","isActive"])],64)}const Ve={class:"icon-holder text-center"},Ze={key:0,class:"badge bg-primary"},Ye={key:1,class:"badge bg-primary"};function Ge(e,t,o,i,r,a){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(n,{to:o.link,class:"sidebarMenuRow",title:o.atitle},{default:(0,s.w5)((()=>[(0,s._)("span",Ve,[(0,s._)("i",{class:(0,l.C_)(o.icon),style:(0,l.j5)({fontSize:o.iconsize+"px"})},null,6)]),(0,s._)("span",{class:(0,l.C_)(["menuDesc",{active:o.isActive}])},[(0,s.Uk)((0,l.zw)(o.atitle)+" ",1),o.badge?((0,s.wg)(),(0,s.iD)("span",Ze,(0,l.zw)(o.badge),1)):(0,s.kq)("",!0),o.messagesBadge?((0,s.wg)(),(0,s.iD)("span",Ye,(0,l.zw)(o.messagesBadge),1)):(0,s.kq)("",!0)],2)])),_:1},8,["to","title"])}var Je={props:["atitle","link","isCentered","isActive","icon","iconsize","badge","messagesBadge"],created(){}};const Xe=(0,u.Z)(Je,[["render",Ge]]);var Qe=Xe,et={props:["isActive"],data(){return{projectKey:"",todoBadge:Math.floor(20*Math.random()),messagesBadge:Math.floor(20*Math.random())}},methods:{setDocType(e){localStorage.setItem("docType",e)}},created(){this.selectedProjectKey=localStorage.getItem("projectKey")},components:{"menu-link":Qe}};const tt=(0,u.Z)(et,[["render",Ne]]);var ot=tt;const st={key:0,open:""};function it(e,t,o,r,a,n){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[o.show?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:t[0]||(t[0]=(...e)=>n.tryClose&&n.tryClose(...e)),class:"backdrop"})):(0,s.kq)("",!0),(0,s.Wm)(i.uT,{name:"dialog"},{default:(0,s.w5)((()=>[o.show?((0,s.wg)(),(0,s.iD)("dialog",st,[(0,s._)("section",null,[(0,s.WI)(e.$slots,"default",{},void 0,!0)])])):(0,s.kq)("",!0)])),_:3})])}var rt={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}};const at=(0,u.Z)(rt,[["render",it],["__scopeId","data-v-3dc4bdea"]]);var nt=at;const lt=e=>((0,s.dD)("data-v-73146678"),e=e(),(0,s.Cn)(),e),dt={class:"spinner"},ct=lt((()=>(0,s._)("div",{class:"lds-roller"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div")],-1))),ut=[ct];function mt(e,t){return(0,s.wg)(),(0,s.iD)("div",dt,ut)}const ht={},pt=(0,u.Z)(ht,[["render",mt],["__scopeId","data-v-73146678"]]);var gt=pt;const wt={class:"search-holder",id:"search-holder"},ft={class:"input-group"},bt=(0,s._)("button",{type:"submit",class:"input-group-text",id:"basic-addon2"},[(0,s._)("i",{class:"fa-solid fa-magnifying-glass"})],-1);function vt(e,t,o,r,a,n){return(0,s.wg)(),(0,s.j4)(s.lR,{to:a.WhereMoveSearch,disabled:a.disabledTeleport},[(0,s._)("div",wt,[(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)((e=>n.searchEmit()),["prevent"]))},[(0,s._)("div",ft,[(0,s.wy)((0,s._)("input",{onKeyup:t[0]||(t[0]=(...e)=>n.searchTyping&&n.searchTyping(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>a.searchValue=e),type:"text",class:"form-control",placeholder:"Search","aria-label":"RSearch","aria-describedby":"basic-addon2"},null,544),[[i.nr,a.searchValue]]),bt])],32)])],8,["to","disabled"])}var yt={props:["emitSearch"],data(){return{searchValue:"",WhereMoveSearch:"#hereMoveSearch",disabledTeleport:!0}},methods:{searchEmit(){this.$emit("emitSearch",this.searchValue)},getDimensions(){window.innerWidth<=768?this.disabledTeleport=!0:(this.disabledTeleport=!1,this.WhereMoveSearch="#hereMoveSearch")},searchTyping(){this.$parent.projectSearch(this.searchValue)}},emits:["emitSearch"],created(){this.getDimensions()},mounted(){window.addEventListener("resize",this.getDimensions)},unmounted(){window.removeEventListener("resize",this.getDimensions)}};const kt=(0,u.Z)(yt,[["render",vt]]);var _t=kt;const It=["href","title"];function Ct(e,t,o,i,r,a){return(0,s.wg)(),(0,s.iD)("a",{href:o.link,class:"sidebarMenuRow",target:"_blank",title:o.atitle},[(0,s._)("i",{class:(0,l.C_)(o.icon)},null,2),(0,s._)("span",{class:(0,l.C_)(["menuDesc",{active:o.isActive}])},(0,l.zw)(o.atitle),3)],8,It)}var St={props:["atitle","link","isCentered","isActive","icon"]};const At=(0,u.Z)(St,[["render",Ct]]);var Dt=At,Mt=o(9810),Pt=o(3585);const Tt=["onClick","src"],Lt={class:"deleteImageButton"},xt={class:"row",style:{width:"100%"}},jt={class:"col-md-12 text-center"},Ut={class:(0,l.C_)("zoomedImageHolder")},Wt=["src","id","index"],zt={class:"row"},Bt=(0,s._)("div",{class:"col-md-4 text-start"},null,-1),Et={class:"col-md-4 text-center"},Ft={class:"col-md-4 text-end"},Ot=(0,s._)("h4",null," Please confirm",-1),$t=(0,s._)("span",{class:"font-bold text-2xl block mb-2 mt-4"},null,-1),qt=(0,s._)("p",{class:"mb-0"},"Are you sure that you want to delete this photo?",-1),Kt={class:"row",style:{"margin-top":"30px"}},Ht={class:"col-md-6 text-start"},Rt={class:"col-md-6 text-end"};function Nt(e,t,o,i,r,a){const n=(0,s.up)("Button"),d=(0,s.up)("swiper-slide"),c=(0,s.up)("swiper"),u=(0,s.up)("Dialog"),m=(0,s.Q2)("tooltip");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c,{modules:i.modules,thumbs:{swiper:e.thumbsSwiper},"slides-per-view":2,"space-between":30,navigation:"",pagination:{clickable:!0},onSwiper:i.onSwiper},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tripImages,((e,t)=>((0,s.wg)(),(0,s.j4)(d,{class:"swiperSlideHolder",key:e.key},{default:(0,s.w5)((()=>[(0,s._)("img",{onClick:o=>a.zoomImages(e.key,t),src:r.baseUrl+r.methodName+r.parameter+e.key+"&t="+r.timestamp,class:"swiperImagesSide"},null,8,Tt),(0,s._)("div",Lt,["ADMIN"==o.userType?(0,s.wy)(((0,s.wg)(),(0,s.j4)(n,{key:0,onClick:t=>a.sendBackIdForDelete(e.key),icon:"fa-stack-1x fa-solid fa-trash-can",label:"",severity:"danger",class:"deleteImageButton"},null,8,["onClick"])),[[m,"Delete photo",void 0,{left:!0}]]):(0,s.kq)("",!0)])])),_:2},1024)))),128))])),_:1},8,["modules","thumbs","onSwiper"]),(0,s.Wm)(u,{position:"top",visible:r.visibleImagesModal,"onUpdate:visible":t[3]||(t[3]=e=>r.visibleImagesModal=e),modal:"",style:{width:"80%"},pt:{mask:{style:"backdrop-filter: blur(2px)"}},breakpoints:{"1199px":"75vw","575px":"90vw"},class:"zoomImageDialog"},{header:(0,s.w5)((()=>[(0,s._)("div",xt,[(0,s._)("div",jt,[(0,s._)("h5",null,(0,l.zw)(o.openedcargoname),1)])])])),footer:(0,s.w5)((()=>[])),default:(0,s.w5)((()=>[(0,s._)("div",Ut,[(0,s.Wm)(c,{modules:i.modules,thumbs:{swiper:e.thumbsSwiper},"slides-per-view":1,"space-between":10,navigation:"",pagination:{clickable:!0},onSwiper:a.onSwiper1,onSlideChangeTransitionEnd:a.onSlideChange,ref:"swiperTop"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tripImages,((e,t)=>((0,s.wg)(),(0,s.j4)(d,{class:"swiperSlideHolder",key:e.key},{default:(0,s.w5)((()=>[(0,s._)("img",{src:r.baseUrl+r.methodName+r.parameter+e.key+"&t="+r.timestamp,id:e.key,index:t},null,8,Wt)])),_:2},1024)))),128))])),_:1},8,["modules","thumbs","onSwiper","onSlideChangeTransitionEnd"]),(0,s._)("div",zt,[Bt,(0,s._)("div",Et,[(0,s.wy)((0,s.Wm)(n,{icon:"pi pi-undo rotateIcon",onClick:t[0]||(t[0]=e=>a.rotateZoomedImage(r.zoomedImageId)),class:"downloadImageButton",style:{"margin-right":"30px"}},null,512),[[m,"Rotate image",void 0,{bottom:!0}]]),(0,s.wy)((0,s.Wm)(n,{icon:"pi pi-download",onClick:t[1]||(t[1]=e=>a.downloadImage(r.zoomedImageId)),class:"downloadImageButton"},null,512),[[m,"Download photo",void 0,{bottom:!0}]])]),(0,s._)("div",Ft,["ADMIN"==o.userType?(0,s.wy)(((0,s.wg)(),(0,s.j4)(n,{key:0,onClick:t[2]||(t[2]=e=>{r.photoIdForDelete=r.zoomedImageId,r.displayDeletePhotoConfirm=!0}),icon:"pi pi-trash",class:"deletePhotoButton",label:"Delete photo"},null,512)),[[m,{value:"Delete photo",showDelay:1e3,hideDelay:300},void 0,{top:!0}]]):(0,s.kq)("",!0)])])])])),_:1},8,["visible","pt"]),(0,s.Wm)(u,{visible:r.displayDeletePhotoConfirm,"onUpdate:visible":t[6]||(t[6]=e=>r.displayDeletePhotoConfirm=e),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:(0,s.w5)((()=>[Ot])),default:(0,s.w5)((()=>[$t,qt,(0,s._)("div",Kt,[(0,s._)("div",Ht,[(0,s.Wm)(n,{class:"redButton",label:"Cancel",onClick:t[4]||(t[4]=e=>r.displayDeletePhotoConfirm=!1)})]),(0,s._)("div",Rt,[(0,s.Wm)(n,{label:"Yes, delete",onClick:t[5]||(t[5]=e=>a.deletePhoto(r.photoIdForDelete))})])])])),_:1},8,["visible"])],64)}var Vt=o(3760),Zt=o(1826),Yt=o(4528),Gt=o(2419),Jt={props:["tripImages","openedcargoname","userType"],components:{Swiper:Yt.tq,SwiperSlide:Yt.o5,Dialog:Gt.Z,Button:Zt.Z},setup(){const e=e=>{console.log(e)};return{onSwiper:e,SwiperSlide:Yt.o5,Thumbs:Vt.o3,modules:[Vt.W_,Vt.tl,Vt.LW,Vt.s5]}},data(){return{timestamp:Date.now(),swiper:"",defaultSlideTo:0,displayDeletePhotoConfirm:!1,zoomedImageId:"",photoIdForDelete:"",visibleImagesModal:!1,baseUrl:localStorage.getItem("_rootRestUrl"),methodName:"/api/v1/Trip/ViewTripImage",methodNameDownload:"/api/v1/Trip/DownloadTripFile",parameter:"?tripFileKey=",zoomedImageSource:"",zoomedImageClass:"zoomedImage",rotationClass:"",rotate:0}},methods:{onSwiper1(e){this.swiper=e,this.swiper.slideTo(this.defaultSlideTo)},downloadImage(){this.$emit("showloader",!0);const e=B()("#"+this.zoomedImageId).attr("index"),t=this.tripImages[e]["fileName"];var o=this.baseUrl+this.methodName+this.parameter+this.zoomedImageId+"&="+this.timestamp;n().get(o,{responseType:"blob"}).then((e=>{const o=new Blob([e.data],{type:"image/jpeg"}),s=document.createElement("a");s.href=URL.createObjectURL(o),s.id=Date.now(),s.download=t,s.click(),URL.revokeObjectURL(s.href),this.$emit("showloader",!1)})).catch(console.error)},zoomImages(e,t){var o=this.tripImages[t];this.zoomedImageId=o["key"],this.zoomedImageSource=this.baseUrl+this.methodName+this.parameter+e,this.rotate=0,this.zoomedImageClass="zoomedImage",this.visibleImagesModal=!0,this.rotationClass="",this.defaultSlideTo=t,this.loading=!1},async rotateZoomedImage(e){this.$emit("showloader",!0);var t=this.baseUrl+this.methodName+this.parameter+e+"&rotate=true&t="+this.timestamp;const o=localStorage.getItem("token");let s=JSON.stringify({sessionId:o}),i={headers:{"Content-Type":"application/json"}};await n().get(t,s,i).then((()=>{this.timestamp=Date.now(),setTimeout((()=>this.$emit("showloader",!1)),375)})).catch((function(e){console.table(e)}))},sendBackIdForDelete(e){this.displayDeletePhotoConfirm=!0,this.photoIdForDelete=e,this.$emit("delete-photo",e)},sendBackIdForDeleteModal(e){this.displayDeletePhotoConfirm=!0,this.photoIdForDelete=e},deletePhoto(e){this.$emit("delete-photomodal",e),this.visibleImagesModal=!1,this.displayDeletePhotoConfirm=!1},onSlideChange(){var e=B()(".zoomedImageHolder .swiper .swiper-wrapper .swiper-slide-active img").attr("id");this.zoomedImageId=e}},mounted(){}};const Xt=(0,u.Z)(Jt,[["render",Nt]]);var Qt=Xt,eo=o(847),to=o(8414),oo=o.n(to),so=o(65),io={setUser(e,t){e.token=t.token,e.userId=t.userId,e.userFullname=t.userFullname,e.userType=t.userType,e.userLocale=t.userLocale,e.didAutoLogout=!1},setAutoLogout(e){e.didAutoLogout=!0}};o(1703);let ro;var ao={async login(e,t){return e.dispatch("auth",{...t})},async auth(e,t){const o=localStorage.getItem("_rootRestUrl"),s=await fetch(o+"/api/v1/Auth/LogIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.username,password:t.password,sessionId:""})});if(200!=s.status){const e=await s.text(),t=new Error(e);throw t}const i=await s.json(),r=36e5;ro=setTimeout((function(){e.dispatch("autoLogout")}),r),localStorage.setItem("token",i.sessionId),localStorage.setItem("userId",i.id),localStorage.setItem("tokenExpiration",i.expireDate),localStorage.setItem("userFullname",i.name+" "+i.surname),localStorage.setItem("userType",i.type),localStorage.setItem("userLocale",i.language),localStorage.setItem("expiresIn",r),e.commit("setUser",{token:i.sessionId,userId:i.userId,userFullname:i.name+" "+i.surname,userType:i.type,userLocale:i.language})},async logout(e){const t=localStorage.getItem("token");var o=localStorage.getItem("rememberMe"),s=localStorage.getItem("rememberMePass");localStorage.clear(),null!=o&&localStorage.setItem("rememberMe",o),null!=s&&localStorage.setItem("rememberMePass",s),clearTimeout(ro),e.commit("setUser",{token:null,userId:null,userFullname:null,userType:null,userLocale:null,tokenExpiration:null});const i=localStorage.getItem("_rootRestUrl");await fetch(i+"/api/v1/Auth/LogOut",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"",password:"",sessionId:t})}),document.location="/"},autoLogin(e){const t=localStorage.getItem("token"),o=localStorage.getItem("userId"),s=localStorage.getItem("userFullname"),i=localStorage.getItem("userType"),r=localStorage.getItem("userLocale"),a=localStorage.getItem("tokenExpiration"),n=a-(new Date).getTime(),l=localStorage.getItem("expiresIn");n<0||(clearTimeout(ro),ro=setTimeout((function(){e.dispatch("autoLogout")}),l),t&&o&&s&&e.commit("setUser",{token:t,userId:o,userFullname:s,userType:i,userLocale:r}))},autoLogout(e){e.dispatch("logout"),e.commit("setAutoLogout"),this.$router.push("/")}},no={userId(e){return e.userId},token(e){return e.token},isAuthenticated(e){return!!e.token},getUserFullName(e){return e.userFullname},getUserType(e){return e.userType},getUserLocale(e){return e.userLocale},didAutoLogout(e){return e.didAutoLogout}},lo={state(){return{userId:null,token:null,didAutoLogout:!1}},mutations:io,actions:ao,getters:no};const co=(0,so.MT)({modules:{auth:lo}});var uo=co;const mo=(0,p.Z)(),ho=()=>Promise.all([o.e(797),o.e(688)]).then(o.bind(o,7688)),po=()=>Promise.all([o.e(626),o.e(797),o.e(48),o.e(252)]).then(o.bind(o,6252)),go=()=>Promise.all([o.e(626),o.e(797),o.e(48),o.e(761)]).then(o.bind(o,1761)),wo=()=>Promise.all([o.e(626),o.e(418)]).then(o.bind(o,418)),fo=()=>Promise.all([o.e(626),o.e(280)]).then(o.bind(o,6280)),bo=(0,s.RC)((()=>o.e(659).then(o.bind(o,659)))),vo=(0,s.RC)((()=>o.e(463).then(o.bind(o,7463)))),yo=(0,r.p7)({scrollBehavior(){return{top:0}},history:(0,r.PO)(""),routes:[{path:"/",component:K,meta:{requiresUnAuth:!0}},{path:"/resetPassword/:resetKey",component:wo,name:"ResetPassword",props:!0,meta:{requiresAuth:!1}},{path:"/forgotPassword",component:fo,name:"ForgotPassword",meta:{requiresAuth:!1}},{path:"/pages",component:ho,redirect:"/",children:[{path:"/pages/trips",component:po,name:"Trips",meta:{requiresAuth:!0}},{path:"/pages/manageUsers",component:go,name:"manageUsers",meta:{requiresAuth:!0}}]}]});yo.beforeEach((function(e,t,o){e.meta.requiresAuth&&!uo.getters.isAuthenticated?o("/"):uo.dispatch("autoLogin"),e.meta.requiresUnAuth&&uo.getters.isAuthenticated?o("/pages/trips"):(uo.dispatch("autoLogin"),o())}));const ko=(0,i.ri)(h);ko.config.globalProperties.emitter=mo,ko.config.globalProperties._rootVersion="1.0.4",n().get("/settings.json").then((e=>{var t=e.data,o=t[0];Object.keys(o).forEach((function(e){var t=o[e];"RestUrl"==e&&(ko.config.globalProperties._rootRestUrl=t,localStorage.setItem("_rootRestUrl",t)),"AppTitle"==e&&(ko.config.globalProperties._rootAppTitle=t),"DefaultProjectCard"==e&&(ko.config.globalProperties._rootDefaultProjectCard=t),"LoginBackground"==e&&(ko.config.globalProperties._rootLoginBackground=t),"LoginLogo"==e&&(ko.config.globalProperties._rootLoginLogo=t),"LoginLogoWhite"==e&&(ko.config.globalProperties._rootLoginLogoWhite=t),"LinkToHelpFile"==e&&(ko.config.globalProperties._rootlinkToHelpFile=t),"LinkToUpdateHistory"==e&&(ko.config.globalProperties._rootLinkToUpdateHistory=t)})),ko.config.globalProperties._whenSessionExpire="",ko.config.globalProperties._rememberMe="ggg",ko.use(yo),ko.use(uo),ko.use(g.Z),ko.use(eo.Z),ko.use(oo()),ko.component("top-bar",qe),ko.component("sidebar-cde",ot),ko.component("login-page",K),ko.component("version-info",vo),ko.component("contact-info",bo),ko.component("search-holder",_t),ko.component("base-spinner",gt),ko.component("base-dialog",nt),ko.component("menu-link",Qe),ko.component("menu-linkdirect",Dt),ko.component("v-select",Mt.Z),ko.component("SwiperCarousel",Qt),ko.directive("tooltip",Pt.Z),ko.mount("#app")}))},2480:function(){}},t={};function o(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,function(){o.amdO={}}(),function(){var e=[];o.O=function(t,s,i,r){if(!s){var a=1/0;for(c=0;c<e.length;c++){s=e[c][0],i=e[c][1],r=e[c][2];for(var n=!0,l=0;l<s.length;l++)(!1&r||a>=r)&&Object.keys(o.O).every((function(e){return o.O[e](s[l])}))?s.splice(l--,1):(n=!1,r<a&&(a=r));if(n){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,i,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,s){return o.f[s](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+e+"."+{48:"cc69ad29",252:"ac025f96",280:"6c9ebffc",418:"c36491b9",463:"31d095ae",626:"e77ad9e0",659:"fe2196fd",688:"849aa49b",761:"e0de44ad",797:"444630b0"}[e]+".js"}}(),function(){o.miniCssF=function(e){return"css/"+e+"."+{252:"4de695b2",280:"0b1eae09",418:"153600c7",463:"88ab0cee",626:"60d07fe0",659:"e6689f18",688:"fb1c1b17",761:"ed4029af"}[e]+".css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="transport:";o.l=function(s,i,r,a){if(e[s])e[s].push(i);else{var n,l;if(void 0!==r)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+r){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,o.nc&&n.setAttribute("nonce",o.nc),n.setAttribute("data-webpack",t+r),n.src=s),e[s]=[i];var m=function(t,o){n.onerror=n.onload=null,clearTimeout(h);var i=e[s];if(delete e[s],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(e){return e(o)})),t)return t(o)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){o.p="/"}(),function(){var e=function(e,t,o,s){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var r=function(r){if(i.onerror=i.onload=null,"load"===r.type)o();else{var a=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=n,i.parentNode.removeChild(i),s(l)}};return i.onerror=i.onload=r,i.href=t,document.head.appendChild(i),i},t=function(e,t){for(var o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var i=o[s],r=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var a=document.getElementsByTagName("style");for(s=0;s<a.length;s++){i=a[s],r=i.getAttribute("data-href");if(r===e||r===t)return i}},s=function(s){return new Promise((function(i,r){var a=o.miniCssF(s),n=o.p+a;if(t(a,n))return i();e(s,n,i,r)}))},i={143:0};o.f.miniCss=function(e,t){var o={252:1,280:1,418:1,463:1,626:1,659:1,688:1,761:1};i[e]?t.push(i[e]):0!==i[e]&&o[e]&&t.push(i[e]=s(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}(),function(){var e={143:0};o.f.j=function(t,s){var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else if(626!=t){var r=new Promise((function(o,s){i=e[t]=[o,s]}));s.push(i[2]=r);var a=o.p+o.u(t),n=new Error,l=function(s){if(o.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;n.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",n.name="ChunkLoadError",n.type=r,n.request=a,i[1](n)}};o.l(a,l,"chunk-"+t,t)}else e[t]=0},o.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,r,a=s[0],n=s[1],l=s[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(i in n)o.o(n,i)&&(o.m[i]=n[i]);if(l)var c=l(o)}for(t&&t(s);d<a.length;d++)r=a[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},s=self["webpackChunktransport"]=self["webpackChunktransport"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(2021)}));s=o.O(s)})();
//# sourceMappingURL=app.b2159ac1.js.map